webpackJsonp([2],{0:function(e,t,n){n(868),e.exports=n(841)},4:function(e){var t;t=e.exports={insertScript:function(e,n){var i,r,s=document.createElement("script"),o=document.getElementsByTagName("head")[0];s.async=!0,s.src=e,n=n||{},i=n.removeAfterLoad?o.removeChild.bind(o,s):n.onload,r=n.onerror,(i||r)&&t.onScriptLoad(s,i,r),o.appendChild(s)},onScriptLoad:function(e,t,n){t&&(e.addEventListener?e.addEventListener("load",t,!1):e.readyState&&(e.onreadystatechange=t)),n&&(e.onerror=n)}}},5:function(e){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];e.push(n[2]?"@media "+n[2]+"{"+n[1]+"}":n[1])}return e.join("")},e}},9:function(e,t,n){var i,r,s=n(3),o=n(169),a=["K","M"];r={max:null,suffix:"+",useSIUnits:!1,decimals:0},i=e.exports={render:function(e,t){if("number"!=typeof e)return e;var n=0,i="",l=0;if(t=t||{},s.defaults(t,r),t.max&&e>t.max)e=t.max,i=t.suffix;else if(t.useSIUnits){for(;e>=1e3&&n<a.length;)e/=1e3,i=a[n++];for(;e>Math.pow(10,l);)++l;e=o.round(e,Math.max(t.decimals-l+1,0))}return o.format(e)+i}}},16:function(e,t,n){var i,r,s,o=n(3),a=n(21),l=n(80),u=n(103),c=new u("broadcast"),d=l.get("app_id");c.on("broadcast",function(e){var t=e.current;t&&t.appId!==d&&s.call(i,t)}),i=e.exports=o.extend({},a.Events,{broadcast:function(e,t){var n,i;return"string"==typeof e?(n=[].slice.call(arguments,1),t=e,e={}):n=[].slice.call(arguments,2),i=r(t,n),c.set("broadcast",i),e.excludeThis||s.call(this,i),this}}),r=function(e,t){return{type:e,timestamp:Date.now(),appId:d,args:t}},s=function(e){this.trigger.apply(this,["broadcast:"+e.type].concat(e.args||[]))}},17:function(e,t,n){function i(e,t){this.applyTo=function(n){e.applyTo(n,t)}}var r,s=n(3),o=["before","after","around","requires","override","defaults","applyTo","requirePrototype"];r=e.exports=Class.extend({mixins:null,properties:null,initialize:function(e){var t=s.toArray(arguments),n=t.filter(function(e){return e instanceof r}),i=n.length;e=t[i],this.mixins=n,this.properties=e},applyTo:function(e){var t=this.properties;this.defaults(e,t.defaults),this.extend(e,t),s.invoke(this.mixins,"applyTo",e),this.requires(e,t.requires),this.requirePrototype(e,t.requirePrototype),this.override(e,t.override),this.before(e,t.before),this.after(e,t.after),this.around(e,t.around),t.applyTo&&t.applyTo.apply(this,arguments)},withOptions:function(e){return new i(this,e)},before:function(e,t){s.each(t,function(t,n){var i=e[n];e[n]=function(){return t.apply(this,arguments),i.apply(this,arguments)}})},after:function(e,t){s.each(t,function(t,n){var i=e[n];e[n]=function(){var e=i.apply(this,arguments);return t.apply(this,arguments),e}})},around:function(e,t){s.each(t,function(t,n){var i=e[n],r=Array.prototype.slice;e[n]=function(){var e=r.apply(arguments);return e.unshift(i.bind(this)),t.apply(this,e)}})},override:function(e,t){s.extend(e,t)},defaults:function(e,t){s.each(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})},extend:function(e,t){s.each(t,function(t,n){o.indexOf(n)<0&&(e[n]=t)})},requires:function(e,t){},requirePrototype:function(e,t){}}),i.prototype=r.prototype},18:function(e,t,n){(function(t){function i(e,t,n){return _.centered(e,t,n,"connectWithSoundCloud")}function r(){return t.ajax({url:"https://soundcloud.com/logout",type:"DELETE",dataType:"text"}).promise()}function s(e){var t=document.createElement("form");return p.each(e,function(e,n){"data"!==n&&t.setAttribute(n,e)}),p.each(e.data,function(e,n){var i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("name",n),i.setAttribute("value",e),t.appendChild(i)}),t}function o(){return!0&&["auth_token","p","v"].some(function(e){return void 0!==m.get(e)})}function a(e){return v.trigger.bind(v,e)}var l,u,c,d,p=n(3),h=n(57),f=n(21),g=n(80),m=n(374),v=n(16),y=n(103),_=n(236),b=n(83),x=n(81),w="soundcloud-callback.html",k="oauth_token",C=150,S="non-expiring fast-connect purchase upload",T="https://soundcloud.com/connect/token",E="signup_denied",A=new y("anonymous-user"),I=new y("auth");I.on(k,function(e){var t=e.current;t?l.setAuthToken(t):l.logout()}),l=e.exports=p.extend({},f.Events,{_redirectAfterSignupRoute:null,setAuthToken:function(e){I.set(k,e)},getAuthToken:function(){return I.get(k)},isLoggedIn:function(){return!!this.getAuthToken()},login:function(e){var t,n,r;return e=e||{},r=e.redirectRoute,null!==r&&(this._redirectAfterSignupRoute=r),d?u&&!u.closed&&u.focus&&u.focus():(d=b.defer().fail(function(){d=null}),this.isLoggedIn()?d.resolve():e.facebook?(c=document.createElement("iframe"),c.name="loginIframe",c.style.display="none",document.body.appendChild(c),n=s({action:x.stringify({host:g.get("public_api_host").replace("api.",""),path:["connect","via","facebook"],query:{client_id:g.get("client_id"),response_type:"token",scope:S,native_signup:"true",redirect_uri:location.protocol+"//"+location.host+"/"+w}}),method:"post",target:"loginIframe",data:{facebook_token:e.fb_token}}),document.body.appendChild(n),n.submit(),document.body.removeChild(n)):(t=x.stringify({host:g.get("public_api_host").replace("api.",""),path:["connect"],query:{client_id:g.get("client_id"),response_type:"token",scope:S,display:"next",redirect_uri:location.protocol+"//"+location.host+"/"+w,highlight:e.signup?"signup":null}}),u=i(t,500,500),function o(){u&&!u.closed||l.isLoggedIn()||!d?u.closed?d&&v.once("connect:hasUserData",d.resolve).trigger("connect:login","login"):setTimeout(o,C):d.reject()}())),d},signup:function(e){return e=e||{},e.signup=!0,l.login(e)},hasSignedUp:function(){this._redirectAfterSignupRoute?g.get("router").navigateToRoute(this._redirectAfterSignupRoute,null,{trigger:!0}):this._redirectAfterSignupRoute!==!1&&v.once("connect:hasUserData",a("onboarding:start")),v.once("connect:hasUserData",a("signup:successful")),h.include(),this._redirectAfterSignupRoute=null},hasLoggedIn:function(){v.trigger("login:successful"),v.once("connect:hasUserData",a("onboarding:for-zero-likes"))},loginWithFacebook:function(e){return l.login({facebook:!0,fb_token:e})},logout:function(){return r().always(function(){l.clearUserData(),v.trigger("connect:logout","logout")})},clearUserData:function(){I.reset()},currentUserId:function(){return g.get("me").id},removeIframe:function(){c&&(c.parentNode.removeChild(c),c=null,l.isLoggedIn()&&v.once("connect:hasUserData",d.resolve).trigger("connect:login","login"))},loginFailed:function(e){v.trigger("login:failed"),e&&e.error===E&&v.trigger("connect:signupDenied"),d&&d.reject()},getUserIdentifier:function(){var e;return e=l.isLoggedIn()?l.currentUserId():l.getAnonymousUserIdentifier()},getAnonymousUserIdentifier:function(){for(var e=A.get("id");!e||1e3>e;)e=Math.floor(1e9*Math.random()),A.set("id",e);return e},loginWithCookies:function(){var e,n=b.defer();return o()?(e=x.modify(T,{query:{client_id:g.get("client_id"),scope:S}}),t.ajax(e,{type:"POST",dataType:"json",contentType:"application/json"}).done(function(e){l.setAuthToken(e.access_token),n.resolve()}).fail(n.reject)):n.reject(),n},loginToClassicSoundCloud:function(){o()||t.ajax({type:"post",url:"https://soundcloud.com/session",data:{access_token:l.getAuthToken(),format:"json"}})}})}).call(t,n(1))},19:function(e,t,n){(function(t){function i(e,n){var i,r;this.currentLayout&&(e!==this.currentLayout&&this.currentLayout.dispose(),m.trigger("layout:beforeChange",this._currentLayoutInfo)),this.currentLayout=e,r=this._currentLayoutInfo=e.getChangeEventData(n),i=t("#content"),e.render(),i.children()[0]!==e.el&&i.empty()[0].appendChild(e.el),m.trigger("layout:change",r)}function r(e){return e._navigationBlocks.filter(s).map(function(e){return e.callback}).filter(p.identity).reduce(function(e,t){return t(e)!==!1&&e},!0)}function s(e){return!e.condition||e.condition()}function o(){return b.pushState?window.location.href:"https://"+window.location.hostname+"/"+window.location.hash.replace(/^[#\/]/,"")}function a(e,t){("popstate"!==t.type||r(e))&&h.History.prototype.checkUrl.call(this,t)}var l,u,c,d,p=n(3),h=n(21),f=n(80),g=n(18),m=n(16),v=n(39),y=n(83),_=n(111),b=n(102),x=n(81),w=300;l=e.exports=h.Router.extend({currentLayout:null,_currentLayoutInfo:null,_navigationBlocks:null,_navCount:0,initialize:function(){this._navigationBlocks=[],p.bindAll(this,"onBeforeUnload","detachCurrentLayout"),h.history.checkUrl=a.bind(h.history,this)},setRoutes:function(e,t){u=e,c=t,d=u.slice(0).reverse(),e.forEach(function(e){this.route(e.route,e.name,e.handler)}.bind(this))},setLoader:function(e){this.loader=e},reload:function(){this.match(window.location.href.replace(/^https?:\/\/[^\/]+\//,""))},addNavigationBlock:function(e,n,i){var r,s=p.uniqueId();return r=this._navigationBlocks.unshift({id:s,exitSiteMessage:e,callback:n,condition:i}),1===r&&t(window).on("beforeunload",this.onBeforeUnload),s},removeNavigationBlock:function(e){var n,i=this._navigationBlocks;for(n=i.length;n--;)if(i[n].id===e){i.splice(n,1);break}i.length||t(window).off("beforeunload",this.onBeforeUnload)},isNavigationBlocked:function(){return this._navigationBlocks.some(s)},onBeforeUnload:function(){var e=p.find(this._navigationBlocks,s);return e&&e.exitSiteMessage},navigateToRoute:function(e,t,n){var i,r=[e];t&&t.length&&(r=r.concat(t)),i=l.getRoute.apply(l,r),this.navigate(i,n)},navigate:function(){r(this)&&h.Router.prototype.navigate.apply(this,arguments)},match:function(e){return h.history.loadUrl(e)},getUrlInfo:function(e){var t,n,i,r=x.parse(e);if(r.path)return t=r.path.substring(1),i=p.find(d,function(e){return e.route.test(t)}),i&&(n={name:i.name,params:this._extractParameters(i.route,t)}),n},apply:function(e,t){var n,r,s="layouts/"+e;++this._navCount,this.setupDeferred&&this.setupDeferred.reject(),this.setupDeferred=r=y.defer(),n=setTimeout(this.detachCurrentLayout,w),this.loader.loadLayout(s).always(clearTimeout.bind(window,n)).done(function(n){if("rejected"!==r.state()){var s=this.currentLayout instanceof n?this.currentLayout:new n;s.setArgs(t),this.setupDeferred=s.setup(t).done(i.bind(this,s,e,t))}}.bind(this))},notImplemented:function(e){var t=o();e&&(t=e(t)),window.open(t),window.history.go(-1)},isLoggedIn:function(){return g.isLoggedIn()},getRolloutValue:function(e){return _.get(e)},getExperimentValue:function(e,t){return v.get(e,t)},getCurrentUserPermalink:function(){return f.get("me").get("permalink")},getQueryParams:function(){return x.getQueryParams()},getLayoutInfo:function(){return this._currentLayoutInfo},getRouteInfo:function(e){return p.find(u,function(t){return t.name===e})},getNavCount:function(){return this._navCount},unauthenticated:function(){m.trigger("tracking:unauthenticated-access"),this.navigate("/",{replace:!0,trigger:!0})},detachCurrentLayout:function(){this.currentLayout&&this.currentLayout.$el.detach()}},{getRoute:function(e){var t,n;if(t=p.find(u,function(t){return t.name===e})){if(n=c[e])return n.apply(this,[].slice.call(arguments,1))}else;},includeSecretTokenForSound:function(e){var t=f.get("me");return!(!e.secret_token||t.owns("sound",e))},includeSecretTokenForPlaylist:function(e){var t=f.get("me");return!(!e.secret_token||t.owns("playlist",e))}})}).call(t,n(1))},22:function(e){var t;t=e.exports={plural:function(e,t,n){return n="string"==typeof n?n:t+"s",1===e?t:n},possessive:function(e){return e+"’s"},capitalize:function(e){return"string"!=typeof e?"":e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substr(1)}).join(" ")}}},26:function(e,t,n){(function(t){function i(e){var t,n,i;return o.imageUrlRegex.lastIndex=0,t=e.replace(o.imageUrlRegex,function(e,t,r,s,a){return l.find(o.availableSizes,function(e,t){return e[1]===a?(n=t,!0):void 0}),i=t,r}),i?{index:n,key:parseInt(t,10),type:i}:null}function r(e){o.imageUrlRegex.lastIndex=0;var t,n=o.imageUrlRegex.exec(e);return n&&(t=n[3].charCodeAt(0)%4+1,1!==t&&(e=e.replace("//i1.","//i"+t+"."))),e}function s(e){a[e.type][e.key]|=1<<e.index}var o,a,l=n(3),u=n(347),c=n(748),d=n(107),p=n(83),h=n(102);a={artworks:{},avatars:{}},o=e.exports=l.defaults({tagOptions:{whitelist:["style","title","class","aria-label","aria-role","aria-hidden"],closingTag:!0},load:function(e){var n,i=new Image,r=t(i),s=p.defer();return h.corsImg&&(i.crossOrigin=location.host,e+="?xd=true"),n="."+l.uniqueId("ImageHelperLoad"),r.on("load"+n,function(){s.resolve(this)}).on("error"+n,function(){s.reject(this)}),s.always(function(){r.off(n)}),i.src=e,s},getPlaceholderUrl:function(e,t){var n,r,s,u,c;if(s=i(o.setFormat(e,t))){if(n=s.key,a[s.type][n])for(r=l.find(o.availableSizes,function(e,n){return c=n,t<=e[0]});c>=0;){if(a[s.type][n]&1<<c){u=o.availableSizes[c];break}--c}if(r&&u===r)return!1;if(u)return o.setFormat(e,u[0])}return null},urlFrom:function(e,t){return t&&d.isHiDPI&&(t*=2),c.urlFrom.call(this,e,t)},setFormat:function(e,t,n){return e=c.setFormat.call(this,e,t,n),n&&e?r(e):e},markup:function(e,t){var n,i,r,s;return e&&e.attributes&&(e=e.attributes),n=t.src||this.urlFrom(e,t.size),n=this.isDefaultImage(n)?null:"url("+n+")",s=t.placeholderId||e,r=t.stretch?"100%":t.size+"px",i=l.extend({style:{"background-image":n,width:r,height:r},"class":"sc-artwork "+this.getPlaceholderClass(s)+" "+(t.class||""),"aria-label":this.getAltText(e),"aria-role":"img"},l.omit(t,"stretch","size","class")),u.getMarkup("span",i,this.tagOptions)},flagCachedImage:function(e){var t=i(e);t&&s(t)},getPlaceholderClass:function(e){var t=12,n="number"==typeof e?e:e&&e.id||0;return"sc-artwork-placeholder-"+n%t}},c)}).call(t,n(1))},28:function(e,t,n){(function(t){function i(e){e=e||{};var n=v.extend({},k,{422:t.noop}),i={},r=[I];return e.code?i.code=e.code:i.result_url=location.protocol+"//"+location.host+"/"+P,e.orderUrn?(r.push("retry"),i.order_urn=e.orderUrn):i.package_urn=z.getUrn(),j&&(i.origin_ref=j),t.ajax({url:_.get("api_v2_host")+r.join("/"),type:"POST",statusCode:n,data:JSON.stringify(i),contentType:"application/json",dataType:"json"})}function r(e){var t=e.urn,n=e.state,i=e.form_params;try{i=JSON.parse(i)}catch(r){return s.call(this)}t&&n===m.orderStates.SUCCESSFUL?(f(t),h.call(this,n),w.trigger("premium:started",u(),V),this.successful(e.gift)):t&&i?(f(t),h.call(this,n),d(l.call(this,i)),w.trigger("premium:started",u(),V),a.call(this,!0),this.triggerEvent("started")):s.call(this)}function s(e){var t=e?e.responseText:"";if(t)try{t=JSON.parse(t).error}catch(n){t=null}t&&"object"==typeof t&&(t=t.code),this.cancel(),w.trigger("premium:pageView","error"),this.trigger("error",t)}function o(e){return t.ajax({url:_.get("api_v2_host")+[D,e].join("/"),type:"GET",contentType:"application/json",dataType:"json"})}function a(e){var t=[this.isGiftPayment()?"gifts":null,e?z.isProUnlimited()?"pro-unlimited":"pro":null],n={trigger:!e};_.get("router").navigateToRoute("premium",t,n)}function l(e){return{action:e.action,params:e.inputs.map(function(e){return v.pairs(e)[0]})}}function u(){var e=z.get("use_case");return(e===S.useCases.REGULAR||e===S.useCases.MONEY_BACK)&&(e="new"),[e,m.getProductId(),m.getReferenceParam()].join("/")}function c(){U&&(U.close(),U=null)}function d(e){O=e}function p(e){F=e}function h(e){M=M||{},M.state=e}function f(e){M=M||{},M.urn=e}function g(){z&&z.release(),U=B=F=z=M=O=j=V=null}var m,v=n(3),y=n(21),_=n(80),b=n(18),x=n(158),w=n(16),k=n(714),C=n(236),S=n(168),T=n(698),E=n(83),A=n(81),I="payments/checkout",D="payments/checkout",P="payment_callback.html",N=/^https:\/\/www\.(?:sandbox\.)?paypal\.com\/cgi-?bin\/webscr\?cmd=_express-checkout/,L=[1024,768],B=null,R=null,M=null,O=null,U=null,F=null,z=null,j=null,V=null;m=e.exports=v.extend({},y.Events,{start:function(e,t){function n(){z=new S({id:e}),i.call(this,t).done(a.resolve).fail(a.reject)}var o,a=E.defer();return F?a.resolve():b.isLoggedIn()?(t&&t.trackingPosition&&(V=t.trackingPosition),p(e),z=new S({id:e}),this.triggerEvent("starting"),o=new T(null,{category:this.isGiftPayment()?"gift":"subscription",ref:j}),o.isPopulated()?n.call(this):o.fetch().done(function(){o.release(),n.call(this)}.bind(this)),a.done(r.bind(this)).fail(s.bind(this))):b.login().then(function(){return m.start(e,t)})},handleCallback:function(e){var t=A.parse(e.location.href).query,n=t.url;n?U||this.openExternal(n):this.processOrder()},processOrder:function(){this.triggerEvent("processing"),this.pollForOrderStatus()},openExternal:function(e){N.test(e)?(U=C.centered(e,L[0],L[1]),this.listenTo(this,"processing finished",c),function t(){U&&!U.closed?setTimeout(t,1e3):U&&U.closed&&"external"===B&&(c(),m.cancel())}(),this.triggerEvent("external",e)):this.cancel()},successful:function(e){w.trigger("premium:pageView","premium/success/"+u()),this.triggerEvent("successful"),e&&(R=e.code),_.get("router").navigateToRoute("purchased",[F],{trigger:!0}),this.finish(),e||this.pollForPlanUpdate()},unsuccessful:function(e){w.trigger("premium:pageView","premium/failed/"+u()),a.call(this,!1),this.triggerEvent("unsuccessful",e),this.finish()},updatedPlan:function(){this.triggerEvent("updatedPlan")},cancel:function(){/^(starting|started|external|processing)$/.test(B)&&(a.call(this,!1),this.triggerEvent("canceled"),g())},finish:function(){this.triggerEvent("finished"),g()},retry:function(){var e=this.getOrder().urn;i.call(this,{orderUrn:e}).done(r.bind(this)).fail(s.bind(this))},getProductId:function(){return F},getPaymentParams:function(){return O},getOrder:function(){return M},getReferenceParam:function(){return j},setReferenceParam:function(e){j=e},isGiftPayment:function(){return z.isGift()},claimGiftCode:function(){var e=R;return R=null,e},triggerEvent:function(e,t){e.split(" ").forEach(function(e){B=e,this.trigger(e,F,M,t)}.bind(this))},purchasedToProductId:function(e,t){return(t?"gift-":"subscription-")+e},pollForOrderStatus:function(){var e=this.getOrder().urn,t=new x({tolerance:1,giveUp:30,backoffRate:1.3}),n=function(){o(e).done(i.bind(this)).fail(function(e){404===e.status?this.unsuccessful():t.failed()}.bind(this))}.bind(this),i=function(e){switch(h.call(this,e.state),e.state){case m.orderStates.PENDING:t.failed();break;case m.orderStates.SUCCESSFUL:this.successful(e.gift);break;case m.orderStates.FAILED:e.action===m.orderAction.RETRY?this.retry():this.unsuccessful(e.reason)}};this.listenTo(t,"enabled",n).listenTo(t,"giveup",this.unsuccessful.bind(this,"timeout")),n()},pollForPlanUpdate:function(){var e=_.get("me"),t=e.getPlan(),n=new x({tolerance:1,giveUp:15,backoffRate:1.5,maxDelay:15e3,enabled:!1}),i=function(){e.fetch().always(n.failed.bind(n))},r=function(i){t!==i.getPlan()&&(m.updatedPlan(),this.stopListening(n).stopListening(e))};this.listenTo(n,"enabled",i).listenTo(e,"change:subscriptions",r)}},{orderStates:{FAILED:"failed",PENDING:"pending",SUCCESSFUL:"successful"},orderAction:{ABORT:"abort",RETRY:"retry",CANCEL:"cancel"},paymentFailStates:{CANCEL:"cancelled.user",GENERIC:"declined.generic",INSUFFICIENT_BALANCE:"declined.insufficient_balance",INVALID_CARD:"declined.invalid_card",PAYPAL_GENERIC:"declined.paypal.generic",PROCESSING_PROBLEM:"declined.processing_problem",REFUND:"refunded.system",ERROR_FRONTEND:"error.frontend"}})}).call(t,n(1))},41:function(e,t,n){var i,r=n(2);i=e.exports={getAccessibleMarkup:function(e){return'<span class="sc-visuallyhidden">'+r.Utils.escapeExpression(e.screenreader)+"</span>"+(e.visible?'<span aria-hidden="true">'+r.Utils.escapeExpression(e.visible)+"</span>":"")}}},42:function(e,t,n){var i,r,s=n(3),o=n(2);r={prefix:"sc-icon",size:"small",title:!1,variation:null},i=e.exports={render:function(e){var t,n;return e=e||{},e=s.defaults(e,r),t=[e.prefix,[e.prefix,e.type].join("-")+(e.variation?"-"+e.variation:""),[e.prefix,e.size].join("-"),e.title?"sc-ir":"",e["class"]||""].filter(Boolean).join(" "),n=e.title?o.Utils.escapeExpression(e.title):"",'<span class="'+t+'">'+n+"</span>"}}},43:function(e,t,n){function i(e,t){var n,i,s,a=e.getAttribute("data-id"),l=o[a];i=l.__class,delete o[a],l.key&&(s=l.key),n=t.addSubview(new i(r.omit(l,"__path","__class","key")),s),n.render(),e.parentNode.replaceChild(n.el,e)}var r=n(3),s=n(2),o={},a=0;e.exports={handlebarHelper:function(e,t){var n,i,l=t.hash;return l.__class=e,i=e,l.args&&(r.isFunction(l.args)&&(l.args=l.args(this)),t.hash=l=r.extend({},l.args,l)),delete l.args,t.fn&&(l.blockContent=new s.SafeString(t.fn(this))),l.className&&(l.className=[i.prototype.className,l.className].filter(Boolean).join(" ")),n=a++,o[n]=l,'<view data-id="'+n+'"></view>'},replacePlaceholders:function(e){e.$("view").each(function(){i(this,e)})}}},77:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},78:function(e){function t(){}var n=e.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var i=n.shift();i()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=t,n.addListener=t,n.once=t,n.off=t,n.removeListener=t,n.removeAllListeners=t,n.emit=t,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},79:function(e,t,n){(function(t){function i(e,t){for(var n=this;n&&!t.isPropagationStopped();)n.trigger(e,t),n=n._parentView}function r(e,t){return b.defaults(t,e.prototype.defaults),e===p?t:r(e.__super__.constructor,t)}function s(e,t,n){var i=e?"on":"off";n?t||(t=n.source):n=l.call(this,t),u(n).forEach(function(e){t[i]("change:"+e,this._onModelChange,this)},this)}function o(e,t){var n=e?"on":"off";t[n]("add",this.onAdd,this)[n]("remove",this.onRemove,this)[n]("reset",this.onCollectionReset,this)[n]("add remove reset",this.onCollectionChange,this)}function a(e){var t=e.source,n=e.options;n.isModel?s.call(this,!1,null,e):o.call(this,!1,t),t.release()}function l(e){return b.filter(this._dataSources,function(t){return t.source===e})}function u(e){var t=[];return e=Array.isArray(e)?e:[e],e.forEach(function(e){var n=e.options.observedAttributes,i=c(e);n&&!Array.isArray(n)&&(n=n[e.source.resource_type]),t=t.concat(n?n.concat(i):i)}),t}function c(e){var t=e.options.requiredAttributes;return t&&!Array.isArray(t)&&(t=t[e.source.resource_type]),t||[]}function d(e){var t=e.options,n=e.source,i=t.observedAttributes;i&&i.length&&!n.isPopulated()&&!n.hasDataForView(i)&&n.fetch()}var p,h=n(21),f=n(80),g=n(909),m=n(90),v=n(83),y=n(385),_=n(342),b=n(3);p=e.exports=h.View.extend(y,{ModelClass:null,requiredAttributes:null,observedAttributes:null,css:null,template:t.noop,LoadingView:null,loadingViewArgs:null,loadingTemplate:function(){return""},element2selector:null,_element2selector_cache:null,defaults:{bulkFetch:0},bubbleEvents:null,disposed:!1,subviews:null,_subviews_keys:null,_lastEventId:null,constructorArguments:null,_whenInsertedDefer:null,_deferreds:null,_dataSources:null,initialize:function(e){var t;e=this.options=r(this.constructor,e||{}),this.constructorArguments=b.clone(e),e.resource_id&&this.ModelClass&&(this.model=t=this.getModel(e.resource_id,e.resource_type)),this._deferreds=[],this.subviews=[],this._subviews_keys=[],this._dataSources=[],this.resetElementCache(),this._setupBubbleListeners(),this._setup(e),t&&this.model!==t&&t.release(),this.model?this.addDataSource(this.model,{observedAttributes:this.observedAttributes,requiredAttributes:this.requiredAttributes}):this.collection&&this.addDataSource(this.collection)},_setup:function(e){this.setup(e)},setup:t.noop,_dispose:function(){if(!this.disposed){for(this._teardown(),this.dispose(),this.disposed=!0;this._deferreds.length;)"number"==typeof this._deferreds[0]?clearTimeout(this._deferreds.shift()):this._deferreds[0].reject("viewDisposed");for(this.off(),this.stopListening();this._dataSources.length;)a.call(this,this._dataSources.shift());this.destroyElement(),["el","$el","model","collection","constructorArguments"].forEach(function(e){this[e]&&(this[e]=null)},this)}},destroyElement:function(){this.$el.remove()},dispose:t.noop,_teardown:function(){this.disposeSubviews(),this._whenInsertedDefer&&(this._whenInsertedDefer.reject(),this._whenInsertedDefer=null),this.teardown(),this.resetElementCache()},teardown:t.noop,disposeSubviews:function(){for(;this.subviews.length;)this.subviews.pop()._dispose();this.subviews=[],this._subviews_keys=[]},getModel:function(e,t,n){var i,r,s,o,a;return o={id:e,resource_type:t},s=this.ModelClass.getClass?this.ModelClass.getClass(o):this.ModelClass,i=s.hashFn(o,n),r=s.instances.get(i),r?r.hold():(a={id:e},t&&(a.resource_type=t),r=new s(a)),r},_setupBubbleListeners:function(){var e,t;for(t in this.bubbleEvents)this.bubbleEvents.hasOwnProperty(t)&&(e=this.bubbleEvents[t],this.on(t,this[e],this))},getObservedAttributes:function(e){var t=l.call(this,e);return u(t)},addDeferred:function(e){return"number"==typeof e?this._deferreds.push(e):e.reject&&"pending"===e.state()&&(e.always(function(){var t=this._deferreds.indexOf(e);t>-1&&this._deferreds.splice(t,1)}.bind(this)),this._deferreds.push(e)),e},addDataSource:function(e,t){var n=e instanceof m;return t=b.clone(t)||{},n?(b.defaults(t,{isModel:!0,requiredAttributes:null,observedAttributes:null}),this._dataSources.push({source:e,options:t}),s.call(this,!0,e)):(b.defaults(t,{isCollection:!0}),this._dataSources.push({source:e,options:t}),o.call(this,!0,e)),e},removeDataSource:function(e){this._dataSources.some(function(t,n){return t.source===e?(a.call(this,t),this._dataSources.splice(n,1),!0):void 0},this)},addSubview:function(e,t){return e._parentView=this,this.subviews.push(e),this._subviews_keys.push(t),t&&(this.subviews[t]=e),e},removeSubview:function(e){for(var t=this.subviews.length;t--;)if(this.subviews[t]===e)return this._subviews_keys[t]&&delete this.subviews[this._subviews_keys[t]],e._parentView=null,this.subviews.splice(t,1),void this._subviews_keys.splice(t,1)},getAncestorSubviews:function(){var e=[];return this.subviews.forEach(function(t){e.push(t),e=e.concat(t.getAncestorSubviews())}),e},getElement:function(e){var t;return this._element2selector_cache[e]===t&&(this._element2selector_cache[e]=this.$(this.element2selector[e])),this._element2selector_cache[e]},resetElementCache:function(){this._element2selector_cache={}},render:function(){var e,t=this.hasData(),n=this.getTemplate(t);return n&&(e=this._getTemplateData(t),_.render(n.bind(this),e,this.el),_.subviews(this)),t?(this.renderDecorate(),this._dataSources.forEach(d)):(!n&&this.LoadingView&&this.addSubview(new this.LoadingView(b.result(this,"loadingViewArgs")),"loading").render().$el.appendTo(this.el),this.fetchData().fail(this.removeLoader.bind(this))),this},hasData:function(){return!this._dataSources.some(this.missingRequiredData,this)},fetchData:function(){var e,t,n=this._fetchDeferred;return n||(e=this._dataSources.filter(this.missingRequiredData,this),t=e.length,t?(this._fetchDeferred=n=t>1?v.settled(e.map(this.fetchDataFromSource,this)):this.fetchDataFromSource(e[0]),n.always(function(){this._fetchDeferred=null}.bind(this))):n=v.resolve()),n},missingRequiredData:function(e){var t;return e.options.isModel&&(t=c(e),!t.length)?!1:!e.source.hasDataForView(t)},fetchDataFromSource:function(e){var t=e.source,n=this.options.bulkFetch;return e.options.isCollection&&n?t.bulkFetch(n):t.fetch({attrs:u(e),reset:!0})},renderDecorate:t.noop,rerender:function(){this.disposed||(this._teardown(),this.render())},getTemplate:function(e){return e||!this.LoadingView&&!this.loadingTemplate?this.template:this.LoadingView?null:this.loadingTemplate},_getTemplateData:function(e){var t={};return this.model?t=this.getModelData():this.collection&&(t=this.getCollectionData()),t._options=b.clone(this.options),e&&(t=this.getTemplateData(t)||t),t},getTemplateData:t.noop,getCollectionData:function(){return this.collection.toJSON()},getModelData:function(){return this.model.toJSON()},bubble:function(e,t){var n=new g(t);return i.apply(this,[e,n]),n},getContextData:function(){return this.bubble("contextrequest").data},removeLoader:function(){var e=this.subviews.loading;e&&(e._dispose(),this.removeSubview(e))},scrollIntoView:function(e){var n,i,r,s,o,a,l,u,c,d=this.$el.offset(),p=v.defer(),h=0;return e=b.defaults({},e,{position:"auto",topOffset:20}),d?(l=t(".g-main-scroll-area").first(),l.length||(l=t("#content"),h=46),s=t(document).scrollTop(),u=l.offset().top,i=s+u,r=s+t(window).height(),o=Math.floor(d.top),a=Math.floor(o+this.$el.height()),n=o>i&&r>a,n?p.resolve():"top"===e.position||"auto"===e.position&&i>o?(c=o-u-e.topOffset-h,f.get("pageVisible")?t("body,html").animate({scrollTop:c},{complete:p.resolve},300):(t("body,html").prop({scrollTop:c}),p.resolve())):(this.el.scrollIntoView(!1),p.resolve()),p):!1},isEquivalentTo:function(e,t){var n=t||{};return this.constructor===e&&b.isEqual(r(e,n),this.constructorArguments)},whenInserted:function(e){var t,n,i=this._whenInsertedDefer;return i||(e=e||document.body,n=function(r){0!==r.closest(e).length?i.resolve():t=setTimeout(n,100)}.bind(null,this.$el),this._whenInsertedDefer=i=v.defer(),i.fail(function(){clearTimeout(t)}),n()),i},_onModelChange:function(e,t,n,i){this._lastEventId!==i&&(this._lastEventId=i,this.onModelChange(e,t,n))},onModelChange:function(){this.rerender()},onCollectionChange:function(e,t){2===arguments.length&&(t=e),this.disposed||this.trigger("update:collection",t.length)},onCollectionReset:function(){this.rerender()},onAdd:t.noop,onRemove:t.noop})}).call(t,n(1))},80:function(e,t,n){var i,r,s,o,a,l=n(724),u=n(3),c=n(193),d=e.exports=new c;l.applyTo(d),i="b45b1aa10f1ac2941910a7f0d10f8e28",r="https://play.google.com/store/apps/details?id=com.soundcloud.android",s="https://itunes.apple.com/en/app/soundcloud/id336353151?mt=8",o="19507961798",a="a272b87ff3174a67b5598d1e5124c2f5",u.each({app_id:1e3*String(Date.now()).substr(-8)+Math.floor(1e3*Math.random()),app_version:null,public_api_host:"https://api.soundcloud.com/",api_v2_host:"https://api-v2.soundcloud.com/",client_application_id:46941,client_id:i,eventlogger_tracking_url:"https://eventlogger.soundcloud.com",google_play_url:r,appstore_url:s,fb_app_id:o,instagram_client_id:a,playHistoryLength:50,maxComments:200,me:null,mixi_api_key:"1403ed11563185e9cff6cfeedf4f2ecf77fa459e",notifications:null,notificationsUri:"wss://pushers.soundcloud.com/",oauth_token:null,pageVisible:!0,preferFlashAudio:!0,promotedContentServer:"https://promoted.soundcloud.com/promo",promotedContentAccessToken:"web",restoreToSound:null,rev_dev_logger_host:"https://api-nyc.soundcloud.com",router:null,songkick_api_key:"ZWsLr2h7FF5sHG54",versionUpdateInterval:36e5,visualsHost:"https://visuals.soundcloud.com",visualsQueueHost:"https://visuals-queue.soundcloud.com/visuals",wisHost:"https://wis.sndcdn.com"},function(e,t){d.set(t,e,{silent:!0})}),d.finalize()},81:function(e,t,n){var i,r,s=n(3),o=n(21),a=n(102),l=n(750);r=a.pushState?s.identity:function(e){return e&&e.replace(/#/,"")},i=e.exports=s.defaults({parse:function(e,t){return e=r(e),l.parse(r(e),t)},getQueryParam:function(e,t){return i.getQueryParams(t)[e]},getFragmentParam:function(e){return a.pushState?i.parseQueryString(window.location.hash.substring(1))[e]:void 0},removeFragmentParam:function(e,t){return t=t||window.location.href,t.replace(new RegExp("#(?:(.+)&?)?"+RegExp.escape(e)+"(?:=[^&]*(?:&|$))?"),"#$1").replace(/#$/,"")},getQueryParams:function(){var e,t;return function(n){var r=n||(a.pushState?window.location.search:window.location.hash.replace(/^[^?]*/,""));return r!==e&&(e=r,t=i.parseQueryString(r)),t}}(),currentPath:function(){return o.history?"/"+o.history.getFragment(null,null,!0):""}},l)},82:function(e,t,n){(function(t){function i(e,t){return e.get?e.get(t):e[t]}function r(e,t){this.attrExists(e)&&this.set(e,Math.max(0,this.get(e)+(t?1:-1)))}function s(e,t){r.call(this,e.isPrivate()?"private_tracks_count":"track_count",t)}function o(){this.options.isMe?this.listenTo(u,"follow:origin:user:"+this.id,this.onFollow).listenTo(u,"like:origin:user:"+this.id,this.onLikesChanged).listenTo(u,"repost:origin:user:"+this.id,this.onReposted).listenTo(u,"destroy:origin:user:"+this.id,this.onAudibleDelete).listenTo(u,"createPlaylist:origin:user:"+this.id,this.onPlaylistCreate):this.listenTo(u,"follow:target:user:"+this.id,this.onFollowed)
}var a,l=n(3),u=n(89),c=n(80),d=n(723),p=n(218),h=n(219),f=n(382),g=n(90),m=n(746),v=n(83),y=n(383),_=n(957),b=n(81);a=e.exports=g.extend(d,f,y.withOptions({types:_.user}),h.withOptions({attr:"username"}),p.withOptions({read:"avatar_url",write:"avatar_data"}),{resource_type:"user",urnPrefix:"soundcloud:users",_connections:null,setup:function(){this.id?o.call(this):this.once("change:id",o,this),this.on("imageUrlChanged",this.cacheImageURL,this)},baseUrl:function(){var e=this.id;return e?b.stringify({path:["users",e]}):"you"===this.get("permalink")?b.stringify({path:"me"}):void 0},bffUrl:function(){return b.stringify({path:"/"+b.joinPath(["users",this.getUrn()])},c.get("api_v2_host"))},bffAttributes:["feeds_enabled","default_tracks_feedable","cpp"],parseBff:function(e){return l.pick(e,this.bffAttributes)},onLikesChanged:function(e){r.call(this,"likes_count",e.state)},hasLikes:function(){return this.get("likes_count")>0||this.get("public_favorites_count")>0},hasPlaylists:function(){return this.get("playlist_count")>0||this.get("private_playlists_count")>0},hasFollowings:function(){return this.get("followings_count")>0},onFollow:function(e){r.call(this,"followings_count",e.state)},onFollowed:function(e){r.call(this,"followers_count",e.state)},onReposted:function(e){r.call(this,"reposts_count",e.state)},onAudibleDelete:function(e){var t=e.targetModel;"sound"===t.resource_type&&(this.adjustUploadSeconds(t),this.owns("sound",t)&&s.call(this,t,!1))},onPlaylistCreate:function(e){var t="private"===e.object.get("sharing")?"private_playlists_count":"playlist_count";this.set(t,(this.get(t)||0)+1)},owns:function(e,t){void 0===t&&(t=e,e=t.resource_type);var n,r=this.id;if(!r)return!1;switch(e){case"comment":case"playlist":case"sound":return r===i(t,"user_id");case"group":return n=i(t,"creator"),!!n&&r===n.id;case"user":return r===i(t,"id");case"sound-upload-edit":case"playlist-upload":case"user-settings":return!0}return!1},canDownload:function(e){return"sound"===e.resource_type&&e.get("downloadable")},getPlan:function(){var e=this.get("subscriptions");return e&&e[0]?e[0].product.id:"free"},getPlanName:function(){var e=this.get("subscriptions");return e&&e[0]?e[0].product.name:"Free"},isCPPEnabled:function(){return!!this.get("cpp")},getCPPOption:function(e){var t=this.get("cpp");return t&&t.config&&t.config[e]},hasMonthlyPlan:function(){var e=this.get("subscriptions");return e&&e[0]&&e[0].recurring},isPremium:function(){return"free"!==this.getPlan()},hasProPlanLevel:function(){return 1===this.getPerk("planLevel")},isCreatorPro:function(){var e=this.getPlan();return"creator-pro"===e||"creator-pro-unlimited"===e},getPerk:function(e){var t=this.getPlan();if(t)return m.get(t,e)},isPublisherBlocked:function(){var e=this.get("publisher_state");return!(!e||!e.is_included)},getPermalink:function(){return this.get("permalink_url").replace(/^https?:.+?\w\//,"/")},isMe:function(){return this===c.get("me")&&!!this.id},hasConnection:function(e){var n=v.defer(),i=this.isMe();return this._connections||!i?n.resolve(i&&this._connections.indexOf(e)>-1):t.ajax({url:"me/connections",dataType:"json"}).done(function(t){this._connections=t.map(function(e){return e.type}),n.resolve(this._connections.indexOf(e)>-1)}.bind(this)).fail(n.resolve.bind(n,!1)),n},getNumTracks:function(e){var t=this.get("track_count")||0,n=this.get("private_tracks_count")||0;switch(e){case"public":return t;case"private":return n;default:return t+n}},getNumPlaylists:function(e){var t=this.get("playlist_count")||0,n=this.get("private_playlists_count")||0;switch(e){case"public":return t;case"private":return n;default:return t+n}},hasOwnSounds:function(){return!!(this.get("track_count")||this.get("private_tracks_count")||this.get("playlist_count")||this.get("private_playlists_count"))},hasSounds:function(){return!!(this.get("track_count")||this.get("private_tracks_count")||this.get("reposts_count")||this.get("playlist_count")||this.get("private_playlists_count"))},adjustUploadSeconds:function(e,t){var n,i,r,s=e.get("duration");s&&(n=Math.round(s/1e3)*(t?-1:1),i=this.getUploadSecondsLeft()+n,r=this.getUploadSecondsUsed()-n,this.setUploadSeconds(i,r))},setUploadSeconds:function(e,t){var n=l.clone(this.get("quota"));n&&(n.upload_seconds_used=t,n.unlimited_upload_quota||(n.upload_seconds_left=e),this.set("quota",n))},getUploadSecondsLeft:function(){var e=this.get("quota");return e?e.unlimited_upload_quota?1/0:e.upload_seconds_left:void 0},getUploadSecondsUsed:function(){var e=this.get("quota");return e?e.upload_seconds_used:0},getUploadSeconds:function(){var e=this.getUploadSecondsLeft();return 1/0===e?e:e+this.getUploadSecondsUsed()},hasUnlimitedUpload:function(){return 1/0===this.getUploadSecondsLeft()},getUploadMinutesLeft:function(){var e=this.getUploadSecondsLeft();return(0>e?Math.floor:Math.ceil)(e/60)},getUploadMinutesUsed:function(){return Math.round(this.getUploadSecondsUsed()/60)},isOverQuota:function(){return this.getUploadSecondsLeft()<0},getRSSFeedUrl:function(){return this.get("feeds_enabled")&&"http://feeds.soundcloud.com/users/"+this.getUrn()+"/sounds.rss"}},{resolve:function(e){return"you"===e?v.resolve(c.get("me")):g._resolve(this,e,function(t){return t.get("permalink")===e})}})}).call(t,n(1))},83:function(e,t,n){(function(t){var i=n(3);e.exports={defer:function(e){var n=t.Deferred(),r=n.promise();return i.isFunction(e)?(e.call(r,n.resolve,n.reject),r):(i.isObject(e)&&i.isFunction(e.then)&&e.then(n.resolve,n.reject),n)},settled:function(e){return t.whenAll(e)},all:function(e){return t.when.apply(t,e)},resolve:function(e){return t.Deferred().resolve(e)},reject:function(e){return t.Deferred().reject(e)},promisify:function(e){return function(){var n=t.Deferred();return e.apply(null,i.toArray(arguments).concat(function(e,t){e?n.reject(e):n.resolve(t)})),n.promise()}},call:function(e){var n=t.Deferred(),r=i.tail(arguments,1);try{n.resolve(e.apply(null,r))}catch(s){n.reject(s)}return n.promise()},mapEither:function(e,t){return t.then(e,e)}}}).call(t,n(1))},84:function(e,t,n){var i,r=n(3),s=n(96),o=n(86);i=e.exports=function(e,t){var n=e.resource_type;return e=r.omit(e,"resource_type"),"playlist"===n?new s(e,t):new o(e,t)},i.getClass=function(e){var t=e.resource_type;return"playlist"===t?s:o}},85:function(e,t,n){(function(t){var i,r,s,o=n(21),a=n(83),l=n(392),u=n(81),c=n(3),d={};i=o.Collection.extend({next_href:null,lastFetchTime:null,model:d,defaults:{offset:0,limit:10,secret_token:null},initialize:function(e,t){this.options=s(this.constructor,t||{}),this.setup(this.options)},setup:t.noop,_prepareModel:function(e){var t=e instanceof o.Model;return e=o.Collection.prototype._prepareModel.apply(this,arguments),e&&e.hold(this._usageCount()-(t?0:1)),e},_removeReference:function(e){return e.release(this._usageCount()),o.Collection.prototype._removeReference.apply(this,arguments)},fetch:function(e){var t=e&&e.url||c.result(this,"url");return t?this._requests&&this._requests[t]||o.Collection.prototype.fetch.call(this,e):a.defer().done(e&&e.success).resolve({})},bulkFetch:function(e){var t,n,i=arguments[1],s=arguments[2];if(!i){if(this._requests=this._requests||{},this._requests.bulk)return this._requests.bulk;this._requests.bulk=i=a.defer(),i.always(function(){delete this._requests.bulk}.bind(this)),s=this.length,t=this.options.limit,this.next_href||(this.options.limit=e-this.length),i.always(function(){this.options.limit=t,r.call(this,{limit:t})}.bind(this))}return this.length<e&&this.url()?(n=this.lastFetchTime?{add:!0,reset:!1,remove:!1}:{reset:!0},n.silent=!0,r.call(this,{limit:e-this.length}),this.fetch(n).done(function(){this.bulkFetch(e,i,s)}.bind(this)).fail(i.reject)):(s?this.rest(s).forEach(function(e){this.trigger("add",e,this,{})},this):this.trigger("reset",this,{}),i.resolve()),i},removeWhere:function(e){var t=this.models.filter(e,this);return t.length&&this.remove(t),t},url:function(){if(null!==this.next_href)return this.next_href;var e=u.parse(c.result(this,"baseUrl"));return c.extend(e.query,{limit:this.options.limit,offset:this.options.offset,linked_partitioning:1}),this.options.secret_token&&(e.query.secret_token=this.options.secret_token),u.stringify(e)},parse:function(e){return e.collection},empty:function(){this.next_href=null,this.lastFetchTime=null,this.options.offset&&(this.options.offset=0),this.reset(null,{silent:!0})},hasDataForView:function(){return!!this.lastFetchTime},isPopulated:function(){return!!this.lastFetchTime},isFullyPopulated:function(){return this.next_href===!1},setLimit:function(e){this.options.limit=e,this.next_href&&(this.next_href=u.modify(this.next_href,{query:{limit:e}}))},indexOfEquivalentModel:function(e,t,n){var i=-1,r=this.compareModels.bind(this,e);return t=t||this.models,n=n||0,n&&(t=t.slice(n)),t.some(function(e,t){return r(e)?(i=t+n,!0):void 0}),i},compareModels:function(e,t){return e===t||e.equivalentTo(t)}}),i=e.exports=l.applyTo(i,{hashFn:function(e,t){return t&&t.resource_id||null},onHold:function(e,t,n){e.length&&e.at(0).hold&&e.invoke("hold",n)},onRelease:function(e,t,n){e.length&&e.at(0).release&&e.invoke("release",n)}}),s=function(e,t){return c.defaults(t,e.prototype.defaults),e===i?t:s(e.__super__.constructor,t)},r=function(e){if(this.next_href){var t=u.parse(this.next_href);c.extend(t.query,e),this.next_href=u.stringify(t)}}}).call(t,n(1))},86:function(e,t,n){function i(){this.listenTo(l,"like:target:sound:"+this.id,this.onLike).listenTo(l,"repost:target:sound:"+this.id,this.onRepost)}function r(){g.trigger("error:geoBlocked",this)}var s,o,a=n(3),l=n(89),u=n(184),c=n(137),d=n(738),p=n(2066),h=n(931),f=n(80),g=n(16),m=n(723),v=n(218),y=n(219),_=n(382),b=n(90),x=n(101),w=n(932),k=n(708),C=n(102),S=n(81),T=n(82),E=function(){return this},A=a.constant(1),I=a.constant(void 0),D=.25;s=e.exports=b.extend(h,p,m,_,w,y.withOptions({attr:"title"}),v.withOptions({read:"artwork_url",write:"artwork_data"}),{resource_type:"sound",urnPrefix:"soundcloud:tracks",audio:null,submodelMap:{user:T,created_with:d},timeOffset:0,playlist:null,originalSound:null,bffAttributes:["scheduled_public_date","scheduled_private_date","scheduled_timezone","geo_blockings","release_date","feedable","publisher_state","reveal_comments","reveal_stats"],bffUrl:function(){return S.stringify({path:"/"+S.joinPath(["tracks",this.getUrn()])},f.get("api_v2_host"))},parseBff:function(e){var t={},n=e.schedule;return t.scheduled_public_date=n&&Date.parse(n.sunrise),t.scheduled_private_date=n&&Date.parse(n.sunset),t.scheduled_timezone=n&&n.timezone,t.geo_blockings=e.geo_blockings,t.publisher_metadata=e.publisher_metadata,t.monetization=e.monetization,t.release_date=e.release_date,t.feedable=e.feedable,t.publisher_state=e.publisher_state,t.reveal_comments=e.reveal_comments,t.reveal_stats=e.reveal_stats,t},setup:function(e,t){var n=!(!t||!t.suppressGlobalEvents);this.audio=new k(this),this.on("play",o("play",n),this).on("pause",o("pause",n),this).on("seeked",o("seeked",n),this).on("finish",o("finish",n),this).on("playStart",o("playStart",!0),this).on("geoBlocked",r,this),this.getSounds=a.memoize(this.getSounds),this.id?i.call(this):this.listenToOnce(this,"change:id",i),this.on("imageUrlChanged",this.cacheImageURL,this)},baseUrl:function(){return S.stringify({path:["tracks",this.id]})},batchUrl:function(e){return S.stringify({path:["tracks"],query:{ids:e.join(",")}})},streamsUrl:function(){return S.stringify({path:["i1","tracks",this.id,"streams"]})},registerUrl:function(){return S.stringify({path:["tracks",this.id,"plays"],query:{policy:this.get("policy")}})},getImageSaveUrl:function(){return b.prototype.saveUrl.apply(this,arguments)},fetchStreams:function(){return this.fetch({url:this.url("streamsUrl"),dataType:"json",jqAjax:!0,saveRequest:!0})},extractSecretToken:function(e){return S.parse(e.stream_url).query.secret_token},play:function(e){return C.audio?void(this.playlist?(this.playlist.setCurrentSound(this),this.playlist.play(e)):this.audio.play(e)):void g.trigger("error:audio_support")},pause:function(e){this.playlist?this.playlist.pause(e):this.audio.pause(e)},seek:function(e){var t=this.loadProgress()*this.duration();Math.floor(e)!==Math.floor(this.currentTime())&&this.audio.seek(Math.min(e,t))},seekRelative:function(e){this.seek(this.currentTime()+e)},getSounds:function(){return[this]},getCurrentSound:E,getFirstSound:E,getLastSound:E,getNumSounds:A,getPrevSound:I,getNextSound:I,getSoundIndex:function(e){return e===this?0:-1},isBuffering:function(){return this.audio.isBuffering()},isPlaying:function(){return this.audio.isPlaying()},loadProgress:function(){return this.audio.loadProgress()},currentTime:function(){return this.audio.currentTime()},getListenTime:function(){return this.audio.getListenTime()},isNowPlaying:function(){return x.getCurrentSound()===this},progress:function(){return this.currentTime()/this.duration()},isPlayable:function(){return this.get("playable")!==!1},isProcessing:function(){return"finished"!==this.get("state")},isEditing:function(){return!1},isCommentable:function(){return this.get("commentable")},isMonetizable:function(){var e=this.get("monetization");return!!(e&&e.territories&&e.territories.length)},isPublisherBlocked:function(){var e=this.get("publisher_state");return!(!e||!e.blocked_because_of_publishers)},hasScheduledPrivacy:function(){return!(!this.get("scheduled_public_date")&&!this.get("scheduled_private_date"))},isGeoblocked:function(){var e=this.get("geo_blockings");return!(!e||!e.length)},getOriginalSound:function(){return this.originalSound||this},hasMinPlayTime:function(){return this.audio.getListenTime()>=D*this.duration()},toJSON:function(){var e=b.prototype.toJSON.apply(this,arguments);return e._playlist={},this.playlist&&a.each(["id","permalink","permalink_url","secret_token","user_id"],function(t){e._playlist[t]=this.get(t)}.bind(this.playlist)),e},saveUrl:function(e){return e?"tracks/"+this.id:S.stringify({path:"/tracks"+(this.isNew()?"":"/"+this.getUrn())},f.get("api_v2_host"))},saveFormat:"json",getAttributesToBeSaved:function(){var e={};return e[c.toAPIResource(this.resource_type)]=["api_streamable","bpm","commentable","description","downloadable","embeddable","feedable","genre","isrc","key_signature","label_id","label_name","license","monetization","original_filename","permalink","purchase_title","purchase_url","release","release_date","release_day","release_month","release_year","reveal_comments","reveal_stats","sharing","shared_to","tag_list","title","uid","geo_blockings","publisher_metadata"].reduce(function(e,t){return null!=this[t]&&(e[t]=this[t]),e}.bind(this.attributes),{}),a.extend(e[c.toAPIResource(this.resource_type)],a.pick(this.attributes,["scheduled_private_date","scheduled_public_date","scheduled_timezone","scheduled_public_timezone"])),e},setMonetizableTrack:function(e){e.hold(),this.addSubmodel(e),this._monetizableTrack=e},getMonetizableTrack:function(){return this._monetizableTrack}},{states:{READY:"ready",PROCESSING:"processing",FAILED:"failed",FINISHED:"finished"},hashFn:function(e){var t=e.resource_id;if(t){if("object"==typeof t){if(t.playlist_id)return[t.playlist_id,t.sound_id].join("_");if(t.ad_target_id)return["ad",t.ad_target_id,t.sound_id].join("_")}return t}return e.id||null},resolve:function(e,t,n){return b._resolve(this,[e,t,n],function(n){var i=n.get("user");return i&&n.get("permalink")===t&&i.permalink===e})}}),o=a.memoize(function(e,t){return function(n){var i=a.toArray(arguments);n&&n.sound===u.getCurrentSound()&&(n.ad=u.getCurrentAd()),t||g.trigger.apply(g,["audio:"+e].concat(i)),g.trigger.apply(g,["tracking:"+e].concat(i))}},function(e,t){return e+(t?"":"-global")})},89:function(e,t,n){function i(e){var t,n,a,u=!1,c=e.list,d=e.state,p=e.target,h=e.origin,f="user"!==e.originType||h===l.currentUserId();return n=m.defer(),f&&!l.isLoggedIn()?l.login().done(function(){e.origin=l.currentUserId(),i(e).done(n.resolve).fail(n.reject)}).fail(n.reject):(c&&f?(t=function(){c.get(p)!==d?(c.toggle(p,d),e.state=d=c.get(p),e.persist&&(a=c.setRemote(p,d,e.listOptions),a&&a.fail(function(t,n){"abort"!==n&&s.trigger("error",o.extend({xhr:t},e)),i(o.defaults({persist:!1,state:!d},e))}))):u=!0},c.fetch().done(t).done(n.resolve).fail(n.reject)):n.resolve(),n.done(function(){u||r(e)})),n}function r(e){var t=e.action,n=e.origin,i=e.target,r=e.context;s.trigger([t,t+":origin:"+e.originType+":"+n,i?t+":target:"+e.targetType+":"+i:""].join(" "),{state:e.state,origin:n,originType:e.originType,object:e.object,target:i,targetType:e.targetType,targetModel:e.targetModel,context:r,searchTracking:r&&r.searchTracking})}var s,o=n(3),a=n(21),l=n(18),u=n(742),c=n(176),d=n(744),p=n(743),h=n(251),f=n(407),g=n(408),m=n(83),v=n(410),y=n(411),_={followings:new c,followers:new u,soundLikes:new v,playlistLikes:new f,soundReposts:new y,playlistReposts:new g,groups:new d,blockings:new h};s=e.exports=o.extend({},a.Events,{notify:function(e,t){t=o.defaults(t||{},{action:e,origin:l.currentUserId(),originType:"user",object:null,target:null,targetType:null,targetModel:null,state:!0}),r(t)},follow:function(e,t,n){var r,s,a,u=l.currentUserId();return n=o.defaults(n||{},{action:"follow",origin:u,originType:"user",target:e,targetType:"user",state:t,persist:!0}),a=n.origin,a===n.target?m.resolve():n.target===u?(s=m.defer(),r=_.followers,r.fetch().done(function(){r.get(a)!==n.state&&(r.toggle(a,n.state),n.state=r.get(a),i(n).done(s.resolve).fail(s.reject))}),s):(n.list=a===u?_.followings:null,i(n))},join:function(e,t,n){return n=o.defaults(n||{},{action:"join",origin:l.currentUserId(),originType:"user",target:e,targetType:"group",state:t,persist:!0,list:_.groups}),i(n)},destroy:function(e,t){return t=o.defaults(t||{},{action:"destroy",origin:l.currentUserId(),originType:"user",target:e.id,targetType:e.resource_type,targetModel:e,state:!0}),r(t),e.destroy()},like:function(e,t,n,r){return r=o.defaults(r||{},{action:"like",origin:l.currentUserId(),originType:"user",target:e,targetType:t,state:n,persist:!0,list:"playlist"===t?_.playlistLikes:_.soundLikes}),i(r)},addToGroup:function(e,t,n,r){var s=new p({},{soundId:e});return r=o.defaults(r||{},{action:"addToGroup",origin:e,originType:"sound",target:t,targetType:"group",state:n,persist:!0,list:s}),s.release(),i(r)},repost:function(e,t,n,r){return r=o.defaults(r||{},{action:"repost",origin:l.currentUserId(),originType:"user",target:e,targetType:t,state:n,persist:!0,list:"playlist"===t?_.playlistReposts:_.soundReposts}),i(r)},block:function(e,t,n,r){var a;return n=!(!t||!n),r=o.defaults(r||{},{action:"block",origin:l.currentUserId(),originType:"user",target:e,targetType:"user",state:t,persist:!0,list:_.blockings,listOptions:{reported:n}}),a=i(r),t&&l.isLoggedIn()&&s.follow(l.currentUserId(),!1,{origin:e}),a}})},90:function(e,t,n){(function(t){var i,r=n(3),s=n(137),o=n(21),a=n(80),l=n(2072),u=n(83),c=n(392),d=n(81);i=o.Model.extend(l,{resource_type:null,lastFetchTime:null,_submodels:null,submodelMap:null,initialize:function(e,t){this._submodels=this._submodels||[],this.options=t||{},r.each(this.submodelMap,function(e,t){this.on("change:"+t,this.createSubmodel.bind(this,e,t))},this),this.setup.apply(this,arguments),r.each(this.submodelMap,function(e,t){this.get(t)&&this.createSubmodel(e,t)},this)},setup:t.noop,createSubmodel:function(e,t){var n=this.get(t);n=r.isArray(n)?n:[n],n.forEach(function(t){this.addSubmodel(new e(t))},this)},addSubmodel:function(){function e(e){-1===this._submodels.indexOf(e)?this._submodels.push(e):e.release()}return function(){Array.prototype.forEach.call(arguments,e,this)}}(),getAttributesToBeSaved:function(){var e=r.reduce(this.toJSON(),function(e,t,n){return null!==t&&(e[n]=t),e},{}),t={};return t[s.toAPIResource(this.resource_type)]=e,t},save:function(e,t){var n,i=this.getAttributesToBeSaved(),a=s.toAPIResource(this.resource_type),l="json"===r.result(this,"saveFormat"),u=l?"application/json":void 0;return e&&(i[a]=r.pick(i[a],Object.keys(e))),n=l?JSON.stringify(i):d.param(i),o.Model.prototype.save.call(this,e,r.extend({url:this.saveUrl(e,t),data:n,contentType:u},t)).done(function(e){this.set(e),this.updateResourceId()}.bind(this))},set:function(e,t,n){var i,s,a=this.attributes;return null==e?this:("object"==typeof e?(i=e,n=t):(i={})[e]=t,s=this.constructor.merge(this.attributes,r.clone(i)),r.each(this.submodelMap,function(e,t){i[t]&&e&&(s[t]=e.merge(a[t]||{},i[t]))},this),o.Model.prototype.set.call(this,s,n))},saveUrl:function(){return r.result(this,"baseUrl")},saveFormat:"param",destroy:function(e){var t=o.Model.prototype.destroy.call(this,r.extend({url:this.isNew()?null:this.destroyUrl()},e));return this.constructor.removeInstance(this),t},destroyUrl:function(){return r.result(this,"baseUrl")},baseUrl:t.noop,url:function(e){return r.result(this,e||"baseUrl")},toJSON:function(){var e=o.Model.prototype.toJSON.apply(this,arguments);return e._resource_id=this.resource_id,e._resource_type=this.resource_type,e},toString:function(){return this.resource_type?this.resource_type+" ("+(this.isNew()?"new":this.resource_id)+"): "+(this.attributes.permalink||this.attributes.title||this.attributes.name):Object.prototype.toString.call(this)},hasDataForView:function(e){return this.attrExists(e)},updateResourceId:function(){var e=this.constructor.hashFn(this.attributes),t=this.resource_id;e&&(this.resource_id=e,this.constructor.instances.changeKey(t,e))},attrExists:function(e){var t=Object.prototype.hasOwnProperty;return r.isArray(e)?e.every(t,this.attributes):t.call(this.attributes,e)},equivalentTo:function(e){return this===e||this.id&&this.id===e.id},getUrn:function(){return this.urnPrefix&&this.id?this.urnPrefix+":"+this.id:void 0},isPopulated:function(){return!!this.lastFetchTime},forceChange:function(e){var t=this.get(e);return this.unset(e,{silent:!0}),this.set(e,t),this}},{_resolve:function(e,n,i){var r,s,o=e.instances.find(i),l=u.defer();return o?l.resolve(o):(s=d.stringify({scheme:document.location.protocol.replace(/:/,""),host:a.get("public_api_host").replace(/^https?:\/\/api\./,""),path:n}),r=d.stringify({path:"resolve",query:{url:s,"_status_code_map[302]":200,_status_format:"json"}}),t.getJSON(r).done(function(t){o=e.getNewInstance({}),o.baseUrl=t.location,o.set("permalink_url",s),o.fetch().done(function(){e.instances.add(o),o.release(),l.resolve(o)}).fail(l.reject)}).fail(l.reject)),l}}),i.merge=function(e,t){return e&&e.last_modified&&t&&t.last_modified&&Date.parse(e.last_modified)>Date.parse(t.last_modified)?e:t},e.exports=c.applyTo(i,{hashFn:function(e){return e&&(e.id||e.resource_id)||null},onCleanup:function(e){e._submodels&&e._submodels.length&&(r.invoke(e._submodels,"release"),e._submodels.length=0)},prepareArgs:function(e,t){return t=t||{},e=e||{},t.parse&&(e=this.parse(e),t=r.clone(t),t.parse=!1),[e,t]},prepareInstance:function(e,t){return t=t||{},t.collection&&(this.lastFetchTime=Date.now()),r.isEmpty(e)||this.set(e),delete this.attributes.resource_id,this},getIncrementValue:function(e,t){var n=t&&t.collection;return n?n.constructor.instances.countFor(n.resource_id):1}})}).call(t,n(1))},96:function(e,t,n){(function(t){function i(){this.listenTo(u,"like:target:playlist:"+this.id,this.onLike).listenTo(u,"repost:target:playlist:"+this.id,this.onRepost)}var r,s,o,a=n(3),l=n(2066),u=n(89),c=n(21),d=n(381),p=n(16),h=n(218),f=n(219),g=n(382),m=n(90),v=n(101),y=n(384),_=n(86),b=n(385),x=n(102),w=n(82),k=n(81),C=a.constant(!1);o=c.Collection.extend({model:_,fetch:function(){return this.playlist.fetch.apply(this.playlist,arguments)},initialize:function(e,t){this.playlist=t.playlist},hasDataForView:function(){return!!this.playlist.attributes.tracks},isFullyPopulated:function(){return!0},_usageCount:function(){return 1},hold:t.noop,release:t.noop}),r=e.exports=m.extend(d,l,y,b,g,f.withOptions({attr:"title"}),h.withOptions({read:"artwork_url",write:"artwork_data"}),{resource_type:"playlist",urnPrefix:"soundcloud:playlists",submodelMap:{tracks:_,user:w},states:{shuffling:function(e){var t=this.getSoundIndex(this.getCurrentSound()),n=e&&this.isPlaying()?t:null,i=e?0:t;this.currentSoundCursor=i,this.setPlayOrder(n),this.toggleState("repeating",e)},repeating:{initial:!1}},soundsCollection:null,currentSoundCursor:0,_isPlayActionQueued:!1,_playOrder:null,_internalNavigation:!1,setup:function(){this.soundsCollection=new o(null,{playlist:this}),this.id?i.call(this):this.listenToOnce(this,"change:id",i),this.on("imageUrlChanged",this.cacheImageURL,this),this._playOrder||(this._playOrder=[])},baseUrl:function(){return k.stringify({path:["playlists",this.id]})},createSubmodel:function(e,t){"tracks"===t?this.prepareSounds():m.prototype.createSubmodel.apply(this,arguments)},prepareSounds:function(){var e=[];a.each(this.get("tracks"),function(t){var n,i,r;this.containsSound(t.id)||(r=new _(t),this.addSubmodel(r),i=a.defaults({resource_id:{playlist_id:this.id,sound_id:t.id}},t),n=new _(i,{suppressGlobalEvents:!0}),n.playlist=this,n.originalSound=r,e.push(n),this.toggleListeners(n,!0))},this),0===this.soundsCollection.length?this.soundsCollection.reset(e):this.soundsCollection.add(e,{silent:!0}),e.length&&this.setPlayOrder()},getSoundsCollection:function(){return this.soundsCollection},toggleListeners:function(e,t){var n=e[t?"on":"off"].bind(e);n("play",this.onSoundPlay,this),n("pause",this.onSoundPause,this),n("buffering:start buffering:end",this.onSoundBuffering,this),n("finish",this.onSoundFinish,this),n("time",this.onSoundTime,this),n("seeked",this.onSoundSeeked,this)},onSoundBuffering:function(e){this.trigger(e.type,e)},onSoundPlay:function(e){e.playlist=this,this.trigger("internal:play",e),this._internalNavigation||(this.trigger("play",e),p.trigger("audio:play",e),this._internalNavigation=!0)},onSoundPause:function(e){this._internalNavigation||(e.playlist=this,this.trigger("pause",e),p.trigger("audio:pause",e),this._internalNavigation=!0)},onSoundFinish:function(e){e.sound===this.getLastSound()&&(e.playlist=this,this.trigger("pause finish",e),p.trigger("audio:pause audio:finish",e))},onSoundTime:function(e){e.playlist=this,this.trigger("time",e)},onSoundSeeked:function(e){e.playlist=this,this.trigger("seeked",e)},getPrevSound:function(){return this.soundsCollection.at(this._playOrder[this.currentSoundCursor-1])},getCurrentSound:function(){return this.soundsCollection.at(this._playOrder[this.currentSoundCursor])},getNextSound:function(){return this.soundsCollection.at(this._playOrder[this.currentSoundCursor+1])},getFirstSound:function(){return this.soundsCollection.at(this._playOrder[0])},getLastSound:function(){return this.soundsCollection.at(this._playOrder[this.soundsCollection.length-1])},findSound:function(e){return this.findSoundById(e.id)},findSoundById:function(e){return this.soundsCollection.get(e)},getSounds:function(){return this.soundsCollection.models},getNumSounds:function(){return this.soundsCollection.length},getSoundIndex:function(e){return this.soundsCollection.indexOf(e)},containsSound:function(e){return!!this.findSoundById(e)},isGeoblocked:C,isMonetizable:C,isPublisherBlocked:C,hasScheduledPrivacy:C,play:function(e){return x.audio?(e=e||{},e.audible&&e.audible.playlist&&e.userInitiated&&(this.setPlayOrder(this.getSoundIndex(e.audible)),this.getState("shuffling")?this.currentSoundCursor=0:this.setCurrentSound(e.audible)),void(this.soundsCollection.length?(this._internalNavigation=!1,this.getCurrentSound().audio.play(e)):this.lastFetchTime||(this._isPlayActionQueued=!0,this.fetch().done(function(){this._isPlayActionQueued&&(this._isPlayActionQueued=!1,this.play(e))}.bind(this))))):void p.trigger("error:audio_support")},pause:function(e){this._isPlayActionQueued=!1,this.soundsCollection&&this.soundsCollection.length&&(this._internalNavigation=!1,this.getCurrentSound().audio.pause(e))},rewind:function(){this.currentSoundCursor=0},setCurrentSound:function(e){e&&(this.currentSoundCursor=this._playOrder.indexOf(this.getSoundIndex(e)))},isBuffering:function(){return this.soundsCollection.some(s("isBuffering"))},isPlaying:function(){return this.soundsCollection.some(s("isPlaying"))},isPlayable:function(){return this.soundsCollection.every(s("isPlayable"))},isProcessing:function(){return this.soundsCollection.some(s("isProcessing"))},isNowPlaying:function(){return this.getSoundIndex(v.getCurrentSound())>-1},setPlayOrder:function(e){var t=a.range(this.soundsCollection.length);this.getState("shuffling")&&(t=a.shuffle(t),"number"==typeof e&&(t.splice(t.indexOf(e),1),t.unshift(e))),this._playOrder=t},parse:function(e,t){return e=m.prototype.parse.apply(this,arguments),t=t||{},t.isSavingOrder&&(e.tracks||e.track_count)&&(delete e.tracks,delete e.track_count),e.secret_token&&e.tracks&&e.tracks.forEach(function(t){"public"===t.sharing||t.secret_token||(t.secret_token=e.secret_token)}),e},removeSound:function(e){if(e=this.findSound(e)){var t=this.getSoundIndex(e),n=this.get("tracks").slice();return this.currentSoundCursor>t&&--this.currentSoundCursor,e.isPlaying()&&e.pause(),this.toggleListeners(e,!1),n.splice(t,1),this.soundsCollection.remove(e),this.set("duration",this.get("duration")-e.get("duration")),this.set("tracks",n),e.playlist=null,e.release(),!0}return!1},addSound:function(e){var t,n,i;return this.findSound(e)?!1:(t=a.defaults({resource_id:{playlist_id:this.id,sound_id:e.id}},e.attributes),n=new _(t,{suppressGlobalEvents:!0}),n.playlist=this,n.originalSound=e,this.addSubmodel(e),this.toggleListeners(n,!0),i=this.get("tracks"),i||(i=[],this.set("tracks",i,{silent:!0})),this._playOrder.push(this.soundsCollection.length),i.push(n.toJSON()),this.soundsCollection.add(n),this.set("duration",this.get("duration")+n.get("duration"),{silent:!0}),this.forceChange("tracks"),!0)},getCurrentOrder:function(){return this.soundsCollection.pluck("id")},reorder:function(e){var t=this.soundsCollection,n=t.comparator,i=this.getCurrentSound(),r=i&&i.id;t.comparator=function(t){return e.indexOf(t.id)},t.sort({silent:!0}),t.comparator=n,this.currentSoundCursor=Math.max(0,e.indexOf(r)),this.set({tracks:this.soundsCollection.toJSON(),track_count:this.soundsCollection.length})},saveAttributes:function(e){var n={playlist:e};return c.Model.prototype.save.call(this,{},{url:this.saveUrl(),data:t.param(n)})},saveOrder:function(e){var t=[],n={playlist:{tracks:t}};return this.soundsCollection.each(function(e){t.push({id:e.id})}),c.Model.prototype.save.call(this,{},a.extend({url:this.saveUrl(),data:JSON.stringify(n),contentType:"application/json",isSavingOrder:!0},e))},resetOrder:function(){return this.fetch().done(function(){this.soundsCollection.each(function(e){e.playlist=null,e.release()}),this.soundsCollection.reset([],{silent:!0}),this.prepareSounds()}.bind(this))}},{onCleanup:function(e){e.soundsCollection.each(function(e){e.playlist=null,e.release()}),e.soundsCollection.off(),delete e.soundsCollection,m.onCleanup(e)},resolve:function(e,t,n){return m._resolve(this,[e,"sets",t,n],function(n){var i=n.get("user");return i&&n.get("permalink")===t&&i.permalink===e})}}),s=a.memoize(function(e){return function(t){return t[e]()}})}).call(t,n(1))},98:function(e,t,n){function i(e){return e&&e.session_id&&e.geo_id&&e.user_id}function r(e){d.set("session_id",e.session_id),d.set("geo_id",decodeURIComponent(e.geo_id)),p.set("user_id",e.user_id)}var s,o=n(3),a=n(80),l=n(103),u=n(81),c=n(113),d=new l("promoted-session","session"),p=new l("promoted-persistent"),h={addToSet:"add_to_set_click",follow:"follow_click",like:"like_click",play:"sound_play",skip:"sound_skip",finish:"sound_finish",impression:"impression",repost:"repost_click",share:"share_click",adClick:"ad_click",soundClickThrough:"sound_click",sponsorClickThrough:"sponsor_click",userClickThrough:"profile_click",purchaseClickThrough:"purchase_click"},f={search:"/promoted/search",suggestedUsers:"/promoted/users",uploadTakeover:"/promoted/upload-takeover"},g={dashboxListen:"listen",dashboxNotifications:"notifications",dashboxStream:"stream",dashboxTags:"tags",dashboxUserProfile:"profile"},m=[];s=e.exports={getAdUrl:function(e,t){return u.stringify({path:f[e],query:o.extend(s._getPromotedQueryParams(),t)},a.get("api_v2_host"))
},getAudioAdsUrl:function(e){var t=s._getPromotedQueryParams();return e&&e.trackId&&(t.track_id=e.trackId),u.stringify({path:"/audio-ad",query:t},a.get("api_v2_host"))},getDashboxUrl:function(e){var t={path:"/dashbox/"+g[e],query:s._getPromotedQueryParams()};return u.stringify(t,a.get("api_v2_host"))},getAdUrlQuery:function(){var e=s._getPromotedQueryParams();return e.user_urn=a.get("me").getUrn(),{query:e}},parseResponse:function(e){var t=o.first(e.promoted);return i(t)?(r(t),t):{}},parseDashboxResponse:function(e){return i(e)&&r(e),e&&e.data?e.data.dashbox:e},parseStreamResponse:function(e){return e&&e.collection&&e.collection.filter(function(e){return e.promoted}).forEach(function(e){i(e.promoted)&&r(e.promoted),e.promoted&&(e.promoted.ad_urn&&(e.ad_urn=e.promoted.ad_urn),e.promoted.tracking&&(e.tracking=e.promoted.tracking),e.campaign="promoted",delete e.promoted),e.user&&(e.promoted_by=e.user,e.promoted_by_urn=c.generate(e.promoted_by.kind,e.promoted_by.id),delete e.user)}),e},trackEvent:function(e,t){var n="impression"===e?s._sendRequestOnce:s._sendRequest;s._getTrackingUrls(e,t).forEach(n)},_getTrackingUrls:function(e,t){var n=t&&t.tracking&&t.tracking[h[e]]||[];return o.isArray(n)?n:[n]},_getPromotedQueryParams:function(){return{user_id:p.get("user_id"),session_id:d.get("session_id"),geo_id:d.get("geo_id")}},_sendRequest:function(e){var t=new Image;t.src=e},_sendRequestOnce:function(e){-1===m.indexOf(e)&&(s._sendRequest(e),m.push(e))}}},99:function(e,t,n){function i(){this.listenTo(o,"join:target:group:"+this.id,this.onJoin)}function r(e,t){this.attrExists(e)&&this.set(e,Math.max(0,this.get(e)+(t?1:-1)))}var s,o=n(89),a=n(80),l=n(218),u=n(219),c=n(90),d=n(383);s=e.exports=c.extend(d,u.withOptions({attr:"name"}),l.withOptions({read:"artwork_url",write:"artwork_data"}),{resource_type:"group",urnPrefix:"soundcloud:groups",baseUrl:function(){return["groups",this.id].join("/")},setup:function(){this.id?i.call(this):this.listenToOnce(this,"change:id",i),this.on("imageUrlChanged",this.cacheImageURL,this)},onJoin:function(e){r.call(this,"members_count",e.state)},isMyGroup:function(){return a.get("me").owns(this)}},{resolve:function(e){return c._resolve(this,["groups",e],function(t){return t&&t.get("permalink")===e})}})},101:function(e,t,n){function i(){var e=I.getState("isInRequiredListenPeriod");A.toggleState("globalPlayLock",e)}function r(e){var t;e.playlist&&e.playlist.getNextSound()?I.prefetchAudioAd(e.playlist.getNextSound()):(t=v.call(this,this.sourceCursor+1,this.source),t&&I.prefetchAudioAd(t.getCurrentSound()))}function s(e,t){e&&e===this.getCurrentSound()&&(e.play(t),e.playlist&&e===this.source&&(y.call(this,e.playlist,t&&t.restoreUrl),b.call(this,0)),M.addSound(e,t))}function o(e){if(e.isPlaying()){var t,n;n=function(){e.off("pause",n),clearTimeout(t)},t=setTimeout(function(){A.playNext(),n()},V),e.on("pause",n)}}function a(){var e=B.get("router").getLayoutInfo();return{args:e.args,layoutName:e.layoutName,url:window.location.href.replace(/^https?:\/\/[^\/]+\//,"")}}function l(){var e=this.source;e&&(this.sourceIsCollection=e instanceof L,this.sourceIsCollection&&(this.listenTo(e,"add",u).listenTo(e,"remove",c).listenTo(e,"reset",d),e.isPopulated()||e.fetch()),e.hold())}function u(e,t){var n=t.indexOf(e);n<=this.sourceCursor&&b.call(this,this.sourceCursor+1)}function c(e,t,n){n.index<=this.sourceCursor&&b.call(this,this.sourceCursor-1)}function d(){b.call(this,-1)}function p(e){e.sound.release()}function h(e){e.sound.hold()}function f(e,t){t[e]("finish",g,this)}function g(e){var t=e.sound;this.playNext({userInitiated:!1}),t.playlist&&t===t.playlist.getLastSound()?t.playlist.rewind():t.seek(0)}function m(){if(this.FallbackSource){var e,t=this.getCurrentSound();if(t&&t.isPublic()){if(e=new this.FallbackSource(null,{resource_id:t.id,resource_type:t.resource_type}),this.source!==e)return y.call(this,e,this.fallbackRestoreFn(t)),!0;e.release()}}return y.call(this,null),!1}function v(e,t){return t instanceof L?e>-1?(t.audibleAt||t.at).call(t,e):void 0:0===e?t:void 0}function y(e,t,n){var i=this.source;return i!==e?(this.source=e,this.restoreUrl=t,l.call(this),b.call(this,-1),i&&(this.stopListening(i),i.release()),n&&n.silent||this.trigger("change:source",this.source,i),this._autoplay&&!this._autoplayTimeout&&(this._autoplayTimeout=setTimeout(function(){this._autoplay=!1,this._autoplayTimeout=null,this.playCurrent({userInitiated:!1})}.bind(this),400)),!0):!1}function _(e,t,n,i){var r,s,o,a=t||O.defer(),l=null==n?j:n;if(e=e||{},"pending"===a.state()){if(this._fetchDeferred&&this._fetchDeferred!==a&&this._fetchDeferred.reject(),this._fetchDeferred||(this._fetchDeferred=a,a.always(function(){this._fetchDeferred=null}.bind(this))),!e.userInitiated&&this.getState("repeating")&&(r=this.getCurrentSound()))r.isPlayable()?a.resolve(r,{historyCursor:this.historyCursor}):a.reject();else if(this.historyCursor<this.history.length-1)a.resolve(this.history[this.historyCursor+1].sound,{historyCursor:this.historyCursor+1});else if(this.queue.length)a.resolve(this.queue[0],{queueIndex:0});else if(this.source&&this.sourceIsCollection){for(o=-1;!s&&this.sourceCursor+ ++o<this.source.length;)s=this.sourceCursor+o>-1&&v(this.sourceCursor+o,this.source),s=s&&(0===o?s.getNextSound():s.getFirstSound());s?a.resolve(s,{sourceCursor:this.sourceCursor+o,initialFallback:!!i}):!this.source.isFullyPopulated()&&l?this.source.fetch({add:!0,remove:!1}).fail(a.reject).done(_.bind(this,e,a,l-1)):m.call(this)?_.call(this,e,a,l,!0):a.resolve(void 0)}else this.source?(s="playlist"===this.source.resource_type&&this.source.getState("repeating")&&!this.source.getNextSound()?this.source.getFirstSound():-1===this.sourceCursor?this.source.getFirstSound():this.source.getNextSound(),s?a.resolve(s,{sourceCursor:0}):(m.call(this),_.call(this,e,a,l,!0))):a.reject();return a}}function b(e){this.sourceCursor="number"==typeof e?e:this.sourceIsCollection?this.indexOfSoundInSource(e,this.source):0}function x(e){var t,n=this.getCurrentSound();this.historyCursor!==e&&(n&&f.call(this,"off",n),this.historyCursor=e,t=this.getCurrentSound(),t&&f.call(this,"on",t),this.trigger("change:currentSound",{prev:n,current:t}))}function w(e,t,n,i){return t instanceof w?t:(this.sound=e,this.layoutInfo=D.clone(n),this.sourceInfo=t&&t.getSourceInfo(),void(this.restoreUrl=i))}function k(e){S.call(this,this.history,e,!0),S.call(this,this.queue,e),C.call(this,e)}function C(e){var t=this.source;t&&(t instanceof L?(t.remove(e),e.release()):"sound"===t.resource_type&&(t.release(),this.unsetInitialSource(t)))}function S(e,t,n){for(var i=e.length;i--;)e[i].sound===t&&(p(e[i]),n&&(this.historyCursor>i||this.historyCursor===i&&i===e.length-1)&&this.historyCursor--,e.splice(i,1))}function T(e){var t=e?"on":"off";P[t]("destroy",E,this)}function E(e){"sound"===e.targetType&&k.call(this,e.targetModel)}var A,I,D=n(3),P=n(89),N=n(21),L=n(85),B=n(80),R=n(16),M=n(153),O=n(83),U=n(385),F=5e3,z=3,j=3,V=2500;R.on("error:geoBlocked",o),A=e.exports=D.extend({},N.Events,{states:{globalPlayLock:{initial:!1},repeating:{initial:!1}},history:[],historyCursor:-1,source:null,sourceCursor:-1,initialSourcePriority:-1/0,queue:[],layoutInfo:{},restoreUrl:null,FallbackSource:null,_fetchDeferred:null,_sessionPlays:0,_autoplay:!1,_autoplayTimeout:null,setInitialSource:function(e,t,n){t=t||0,-1===this.sourceCursor&&t>this.initialSourcePriority&&(this.initialSourcePriority=t,this.saveLayout(),y.call(this,e,n))},unsetInitialSource:function(e){-1===this.sourceCursor&&this.source===e&&(y.call(this,null),this.initialSourcePriority=-1/0)},indexOfSoundInSource:function(e,t){var n=-1;return t instanceof L?(t.any(function(i,r){var s=v(r,t);return s&&s.getSoundIndex(e)>-1?(n=r,!0):void 0}),n):t.getSoundIndex(e)},hasPrevSound:function(){return this.historyCursor>0},hasNextSound:function(){var e=this.source,t=this.getCurrentSound();return!!(this.historyCursor<this.history.length-1||this.queue.length>0||e&&this.sourceIsCollection&&(!e.isFullyPopulated()||e.length&&this.sourceCursor<e.length-1)||e&&!this.sourceIsCollection&&(this.sourceCursor<0?e.getFirstSound():e.getNextSound())||t&&t.isPublic()&&this.FallbackSource)},hasCurrentSound:function(){return!(!this.getCurrentSound()&&!this.hasNextSound())},getCurrentSound:function(){var e=this.history[this.historyCursor];return e&&e.sound},getPrevSound:function(){var e=this.history[this.historyCursor-1];return e&&e.sound},addToQueue:function(e,t){var n=this.queue;(0===n.length||n[n.length-1].sound.id!==e.id)&&this.queue.push(new w(e,t,a()))},getSessionPlays:function(){return this._sessionPlays},addToHistory:function(e,t){var n,i,r,s,o=e!==this.getCurrentSound();n=this.historyCursor+(o?1:0),i=B.get("playHistoryLength"),s=new w(e,t,this.layoutInfo,this.restoreUrl),this.history.splice(n).forEach(p),this.history.push(s),h(s),r=Math.max(0,this.history.length-i),r&&(this.history.splice(0,r).forEach(p),this.historyCursor-=r),x.call(this,this.history.length-1)},reset:function(){var e=this.getCurrentSound();e&&e.pause(),this.history.forEach(function(e){e.sound.release()}),x.call(this,-1),this.history=[],this._sessionPlays=0,this.queue.forEach(function(e){e.release()}),this.queue=[],this.layoutInfo={},this._fetchDeferred&&this._fetchDeferred.reject(),y.call(this,null),this.FallbackSource=this.fallbackRestoreFn=this.restoreUrl=null,this.initialSourcePriority=-1/0},enableAutoplay:function(){this.source?this.playCurrent({userInitiated:!1}):this._autoplay=!0},play:function(e,t){t=t||{};var n,i=t.keepSource&&this.source||t.source||e.playlist||e,r=e.getCurrentSound(),s=this.getCurrentSound()!==r;A.getState("globalPlayLock")||(n=y.call(this,i,t.restoreUrl,{silent:!0}),b.call(this,r),s&&this.pauseCurrent(t),(n||s)&&this.addToHistory(r,i),n&&this.trigger("change:source",i),this.playCurrent(t))},playSource:function(e,t){t=t||{},y.call(this,e,t.restoreUrl)?this.playNext(t):this._fetchDeferred||this.playCurrent(t)},toggle:function(e,t){e.isPlaying()?this.pause(e,t):this.play(e,t)},pause:function(e,t){e.pause(t)},playCurrent:function(e){var t=this.getCurrentSound();t?(e=e||{},I.isUserAdConsumer()?(I.whenAdFinished(t,e).always(s.bind(this,t,e)),r.call(this,t)):s.call(this,t,e)):(A.saveLayout(),A.playNext(e))},pauseCurrent:function(e){var t=this.getCurrentSound();t&&t.pause(e)},toggleCurrent:function(e){var t,n=this.getCurrentSound();if(A.getState("globalPlayLock"))return t=I.isUserAdConsumer()&&I.getCurrentSound(),void(t&&t.toggle(e));if(n){if(I.isUserAdConsumer()&&(t=I.getCurrentSound()))return void t.toggle(e);n.toggle(e)}else this.playCurrent(e)},playNext:function(e){return e=D.extend({seek:0,isRepeating:A.getState("repeating")},e),I.isUserAdConsumer()&&I.getCurrentSound()?(I.skip(),O.resolve()):(this.pauseCurrent(),_.call(this,e).done(function(t,n){var i;t&&(null!=n.historyCursor?x.call(this,n.historyCursor):(null!=n.queueIndex?i=this.queue.shift():null!=n.sourceCursor&&(b.call(this,n.sourceCursor),i=this.source,this.sourceIsCollection&&n.sourceCursor>=this.source.length-z&&!this.source.isFullyPopulated()&&this.source.fetch({add:!0,remove:!1})),this.addToHistory(t,i)),this.playCurrent(e),n.initialFallback&&this.trigger("fallback"))}.bind(this)))},playPrev:function(e){var t=this.getCurrentSound(),n=this.getPrevSound();I.isUserAdConsumer()&&I.getCurrentSound()&&I.skip(),e=D.extend({seek:0},e),t&&t.currentTime()>F?(t.seek(0),t.isPlaying()||t.play(e)):n&&(this.pauseCurrent(),x.call(this,this.historyCursor-1),this.playCurrent(e))},setFallbackSource:function(e,t){this.FallbackSource=e,this.fallbackRestoreFn=t},setAdManager:function(e){I=e,A.listenTo(I,"state:isInRequiredListenPeriod",i)},restoreState:function(){var e,t=this.getCurrentRestoreUrl(),n=this.getCurrentSound(),i=B.get("router");t?(e=n.playlist||n,i.navigate(t,{trigger:!0}),B.set("restoreToSound",e.resource_type+e.resource_id)):n&&i.navigateToRoute("listen",[n],{trigger:!0})},getCurrentRestoreUrl:function(){var e=this.history[this.historyCursor];return e&&e.restoreUrl||""},getCurrentMetadata:function(){var e=I.isUserAdConsumer()?I.getCurrentSound():null;return e?new w(e,this.source,a()):this.history[this.historyCursor]},saveLayout:function(){this.layoutInfo=a()}}),U.applyTo(A),T.call(A,!0)},102:function(e,t,n){function i(e){try{if(e.getItem){var t=Date.now();return e.setItem(t,t),e.removeItem(t),!0}}catch(n){}return!1}function r(){return u.getFlashPlugin()&&u.getFlashVersion()>=c}function s(){return window.hasOwnProperty("Audio")&&!!(new window.Audio).canPlayType("audio/mpeg")}var o,a=n(3),l=n(107),u=n(715),c=9;o=e.exports=a.reduce({sessionStorage:function(){try{return"undefined"!=typeof sessionStorage&&i(sessionStorage)}catch(e){return!1}},localStorage:function(){try{return"undefined"!=typeof localStorage&&i(localStorage)}catch(e){return!1}},dragDrop:function(){var e=document.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},audio:function(){return!l.isIE9&&s()||r()},webSocket:function(){return window.WebSocket},WebWorker:function(){return window.Worker},svg:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},touch:function(){try{return window.hasOwnProperty("ontouchstart")}catch(e){return!1}},typedArrays:function(){return window.hasOwnProperty("Uint8Array")},pushState:function(){return window.history&&window.history.pushState},formData:function(){return window.FormData},corsImg:function(){return!1},MutationObserver:function(){return window.MutationObserver},getUserMedia:function(){return navigator.getUserMedia},audioTabIndicator:function(){return l.isChrome}},function(e,t,n){return e[n]=!!t(),e},{})},103:function(e,t,n){var i,r=n(193),s=n(934),o=n(724);i=e.exports=r.extend(),s.applyTo(i.prototype),o.applyTo(i.prototype)},105:function(e,t,n){function i(e,t){switch(t){case"day":e.setUTCHours(0,0,0,0);break;case"hour":e.setUTCMinutes(0,0,0)}}var r,s=n(22),o=n(169),a=1e3,l=6e4,u=60*l,c=24*u,d={minute:l,hour:u,day:c};r=e.exports={timecode:function(e,t){if(isNaN(e))return e;var n=[],i=Math.floor(e/u),r=Math.floor(e/l%60),o=Math.floor(e/a%60);return t&&t.inWords?(i>0&&n.push(i,s.plural(i,"hour")),r>0&&n.push(r,s.plural(r,"minute")),(o>0||0===r&&0===i)&&n.push(o,s.plural(o,"second")),n.join(" ")):(i>0&&n.push(i),n.push(t&&t.minimal&&0===i&&0===r?"":10>r&&i>0?"0"+r:r),n.push(10>o?"0"+o:o),n.join(":"))},stringToTime:function(e){var t,n=/^\d+(\.\d+)?$/g,i=/^(?:npt:)?(?:(?:(\d+):)?(\d\d?):)?(\d\d?)(\.\d+)?$/,r=/^(?:(\d\d?)[hH])?(?:(\d\d?)[mM])?(\d\d?)[sS]$/;return n.test(e)?1e3*parseFloat(e):(t=i.exec(e)||r.exec(e),t?1e3*(3600*(parseInt(t[1],10)||0)+60*(parseInt(t[2],10)||0)+parseInt(t[3],10)+(parseFloat(t[4])||0)):0)},convert:function(e,t,n){n=n||"s";var i="smh",r=i.indexOf(t),s=i.indexOf(n);return Math.round(Math.pow(60,s-r)*e)},floorTo30Minutes:function(e){return e=new Date(e),e.setMinutes(e.getMinutes()-e.getMinutes()%30),e},parseTime:function(e){var t,n,i,r=e.match(/^\s*(\d{1,2})\s*(?::\s*(\d{1,2}))?\s*(?:(a|p)m?)?\s*$/i);if(r&&(t=r[1]&&parseInt(r[1],10),n=r[2]&&parseInt(r[2],10),i=r[3]&&r[3].toLowerCase(),!(t>23||n>59))){if(i)if("p"===i){if(12>t)t+=12;else if(t>13)return}else if("a"===i)if(12===t)t=0;else if(t>12)return;return n||(n=0),[t,n]}},formatTime:function(e){return o.zeroPad(e.getHours(),2)+":"+o.zeroPad(e.getMinutes(),2)},getTimezoneOffset:function(){var e,t=new Date(2009,0,1,6,0,0),n=new Date(2009,6,1,6,0,0);return e=t.getUTCHours()>n.getUTCHours()?t.getTimezoneOffset():n.getTimezoneOffset()},time:d,getBounds:function(e){if(null==e.offset)return{};var t,n,r=new Date;return i(r,e.resolution),t=+new Date(+r+e.offset*d[e.resolution]),n=+new Date(t+(e.duration-1)*d[e.resolution]),{from:t,to:n}}}},107:function(e){var t,n=navigator.userAgent.toLowerCase(),i=function(e){return e.test(n)};t=e.exports={},t.isOpera=void 0!==window.opera&&"[object Opera]"===window.opera.toString()||i(/ opr\/\d/),t.isChrome=i(/chrome/),t.isWebKit=i(/webkit/),t.isSafari=!t.isChrome&&i(/safari/),t.isIE=!t.isOpera&&i(/msie/),t.isIE9=t.isIE&&i(/msie 9/),t.isGecko=!t.isWebKit&&i(/gecko/),t.isWindows=i(/windows|win32/),t.isMac=i(/macintosh|mac os x/),t.isMobile=i(/mobile|android|iphone|ipod|ipad|playBook|skyfire/),t.isHiDPI=window.devicePixelRatio?window.devicePixelRatio>1:!1,t.backingStoreRatio=function(){var e=document.createElement("canvas").getContext("2d");return e?e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1:void 0}()},109:function(e,t,n){(function(t){var i,r=n(381),s=n(90),o=n(86),a=n(81),l=1/0;i=e.exports=s.extend(r,{resource_type:"comment",urnPrefix:"soundcloud:comments",parse:function(e){return null===e.timestamp&&(e.timestamp=l),e},baseUrl:function(){return["comments",this.id].join("/")},saveUrl:function(){var e=this.getSound(),t=["tracks",e.id,"comments"].join("/"),n=e.get("secret_token");return n&&e.isPrivate()?a.modify(t,{query:{secret_token:n}}):t},destroyUrl:function(){return["tracks",this.getSoundId(),"comments",this.id].join("/")},getAttributesToBeSaved:function(){return{"comment[body]":this.get("body"),"comment[timestamp]":this.get("timestamp")}},setReplyTo:function(e){this.set("replyTo",e.id),this.trigger("change:recipient",e.get("user").permalink)},getSound:function(){var e=this.getSoundId(),t=o.hashFn({id:e,resource_type:"sound"}),n=o.instances.get(t);return!n&&e&&(n=new o(this.get("track")||{id:e}),this.addSubmodel(n)),n},getSoundId:function(){return this.get("track_id")||(this.get("track")||{}).id},reportAsSpam:function(){t.post("i1/comments/"+this.id+"/spam",function(){this.trigger("destroy",this,this.collection)}.bind(this))}},{EMPTY_TIMESTAMP:l})}).call(t,n(1))},110:function(e,t,n){(function(t){function i(){var e,n,i,r,s=window.history&&window.history.state&&window.history.state.scrollTop,o=document.documentElement,a=document.body;null!=s?(i=function(){n?n=!1:(clearTimeout(e),t(window).off("scroll",i),e=null)},(r=function(){n=!0,o.scrollTop=a.scrollTop=s,(o.scrollTop||a.scrollTop)===s?(t(window).off("scroll",i),e=null):(e||t(window).on("scroll",i),e=setTimeout(r,100))})()):o.scrollTop=a.scrollTop=0}var r,s,o,a=n(3),l=n(21),u=n(333),c=n(930),d=n(83),p=n(342);s="l-footer",o=n(998),r=e.exports=l.View.extend({css:null,template:null,tracking:null,views:null,_currentViews:null,_viewPaths:null,slots:null,includeFooter:null,footerClassName:"sc-border-light-top",initialize:function(){this.views={},this._currentViews={}},setArgs:function(e){this.args=e||{}},setup:function(){var e=d.defer();return a.defer(e.resolve),e},dispose:function(){a.invoke(this._currentViews,"_dispose"),a.invoke(this.views,"_dispose"),this.$el.remove(),delete this.slots,delete this.views,delete this._viewPaths,delete this._currentViews},switchLayout:function(e){e&&(a.invoke(this._currentViews,"_dispose"),a.invoke(this.views,"_dispose"),this.template=e.template,this.includeFooter=e.includeFooter,this.slots=null,this.$el.empty())},render:function(){var e,t;return this.includeFooter&&(e=this.views[s]),""===this.el.innerHTML&&(p.render(this.template,{},this.el),this.slots={},a.each(this.views,function(e,t){this.slots[t]=this.$("."+t)[0]},this)),a.each(this.views,function(e,t){this._currentViews[t]!==e&&(this._currentViews[t]&&this._currentViews[t]._dispose(),e.render(),t!==s&&this.slots[t].appendChild(e.el),this._currentViews[t]=e)},this),t=this.$(this.includeFooter),e&&!e.disposed&&t[0]&&t.append(e.$el.addClass(this.footerClassName)),i(),this.renderDecorate(),this},renderDecorate:t.noop,setViews:function(e){this.includeFooter&&(e[s]=[o]);var t=d.defer();return this._viewPaths={},a.each(e,function(e,t){var n=e[0],i=e[1];this._currentViews[t]&&this._currentViews[t].isEquivalentTo(n,i)||(this.views[t]=new n(i)),this._viewPaths[t]=n},this),a.delay(t.resolve.bind(t)),t},getChangeEventData:function(e){var t;return t=a.reduce(this.tracking,function(e,t,n){return e[n]=a.isFunction(t)?t.call(this):t,e},{},this),{layoutName:e,tracking:t,args:this.args}},setTitle:function(e){u.set(e)}}),c.applyTo(r.prototype)}).call(t,n(1))},111:function(e,t,n){(function(t){function i(){if(!f&&y.isLoggedIn()){var e=y.isLoggedIn()?"":"anonymous-";f=new _("rollouts-"+e+y.getUserIdentifier()),f.each(function(e,t){g.hasOwnProperty(t)&&r(t).indexOf(e)>-1?l(t,e):f.unset(t)})}}function r(e){var t=[],n=g[e];return n&&(t=m.pluck(n.groups,"value")),t}function s(e,t){l(t,d(e,t))}function o(e,n){return n.length?t.ajax({url:p.getRolloutAPIEndpoint(n),type:"GET"}).done(function(e){e.forEach(function(e){var t=a(e.mnemonic),n=e.enabled;l.call(this,t,n)},this)}.bind(this)):b.resolve()}function a(e){var t;return m.find(g,function(n,i){return e===n.rolloutId?(t=i,!0):!1}),t}function l(e,t){h.isReadOnly||h.set(e,t),f&&f.set(e,t)}function u(e){return"false"===e?!1:"true"===e?!0:/^[0-9.]+$/.test(e)?parseFloat(e):e}function c(){var e=new w;return x.applyTo(e),e}function d(e,t){var n,i,r,s,o=g[t],a=0;if(i=o.groups.reduce(function(e,t){return e+(t.ratio||0)},0),!i)return o.groups[o.groups.length-1].value;for(r=Math.floor(t.length/2);r--;)e*=t.charCodeAt(2*r)/t.charCodeAt(2*r+1);for(e=Math.floor(e)%i,r=0,s=o.groups.length;s>r;++r)if(n=o.groups[r],a+=n.ratio||0,a>e)return n.value;return null}var p,h,f,g,m=n(3),v=n(80),y=n(18),_=n(103),b=n(83),x=n(933),w=n(193),k=n(72),C=n(81),S=v.get("api_v2_host")+"features/",T=1e4;p=e.exports={setup:function(e){return this.reset(),g=e,i(),this},get:function(e){return h?h.get(e):void 0},reset:function(){f&&(f.dispose(),f=null),h=c()},fetch:function(e){var t,n=[],a=y.getUserIdentifier(),c=!0,d=C.getQueryParams();return i(),m.each(g,function(e,t){var i=d["rollouts."+t],o=!0,p=e.rolloutId&&y.isLoggedIn();void 0!==i?(p=!1,h.set(t,u(i))):o=p&&void 0!==h.get(t),p?(n.push(t),o||(c=!1,l(t,m.last(r(t))))):o||s(a,t)}),c?(h.makeReadOnly(),clearTimeout(this._fetchTimeoutId),this._fetchTimeoutId=setTimeout(o.bind(null,a,n),e||T),t=b.resolve()):t=o(a,n).always(h.makeReadOnly.bind(h)),t},serialize:function(e){return h?e?h.map(function(e,t){return e=e===!0?1:e===!1?0:e,k.unique(t)+":"+e}).join(","):h.map(function(e,t){return t+":"+e}).join(","):""},getRolloutAPIEndpoint:function(e){return S+e.map(function(e){return g[e].rolloutId}).join(",")},getGroupValue:d}}).call(t,n(1))},113:function(e,t,n){var i,r=n(3),s={comments:"comment",groups:"group",playlists:"playlist",sounds:"track",tracks:"track",users:"user"},o={comments:"comment",groups:"group",playlists:"playlist",sounds:"sound",tracks:"sound",users:"user"},a={comment:"comments",group:"groups",playlist:"playlists",sound:"tracks",track:"tracks",user:"users"},l={sets:"playlists",sounds:"tracks"},u=r.reduce(l,function(e,t,n){return e[t]=e[t]||[],e[t].indexOf(n)<0&&e[t].push(n),e[n]=e[n]||[],e[n].indexOf(t)<0&&e[n].push(t),e},{});i=e.exports={getAsAttributes:function(e){var t=e.split(":"),n=t[2],i=o[t[1]];return/\D/.test(n)||(n=parseInt(n,10)),"user"===i&&"system"===n&&(n=193),{id:n,kind:s[t[1]],resource_type:i}},generate:function(e,t){var n=a[e];return n?"soundcloud:"+n+":"+t:null},getAlternateUrns:function(e){var t=e.split(":"),n=t[1],i=u[n];return i?i.map(function(e){return t[0]+":"+e+":"+t[2]}):null}}},115:function(e,t,n){var i,r=n(3),s=n(16),o=n(90);i=e.exports=o.extend({url:null,lastFetchTime:1,initialize:function(e){e=e||{},this.id||(e.id=this.id=this.cid,i.instances.set(this.id,this)),this.fatal=!!e.fatal,o.prototype.initialize.apply(this,arguments)}},{raise:function(e,t){var n=new i(e);if(n.release(),t=t||{},t.hard)throw n;s.trigger("exception",n)},ajaxFatal:function(e){return function(t,n){"abort"!==n&&i.raise(r.extend(e,{xhr:t,fatal:!0}))}},ajaxNonFatal:function(e){return function(t,n){"abort"!==n&&i.raise({message:e,xhr:t,fatal:!1})}}})},117:function(e,t,n){(function(t){function i(e,t){var n=t+"d",i="resize"===e?r(n):s.trigger.bind(s,e+":"+n);return o[t](i,l)}function r(e){var t=window.innerWidth,n=window.innerHeight,i=s.trigger.bind(s,"resize:x:"+e),r=s.trigger.bind(s,"resize:y:"+e),o=s.trigger.bind(s,"resize:"+e);return function(e){var s=window.innerWidth,a=window.innerHeight;s!==t&&i(e),a!==n&&r(e),o(e),n=a,t=s}}var s,o=n(3),a=n(21),l=200;s=e.exports=o.extend({},a.Events),t(window).on("resize",i("resize","debounce")).on("resize",i("resize","throttle")).on("scroll",i("scroll","debounce")).on("scroll",i("scroll","throttle"))}).call(t,n(1))},122:function(e,t,n){var i,r=n(343),s=n(124);i=e.exports=function(e,t){var n,i=t.resource_type;return n="playlist-upload"===i?new r(e,t):new s(e,t)},i.getClass=function(e){var t=e.resource_type;return"playlist-upload"===t?r:s}},123:function(e,t,n){var i=n(3),r={buttonText:"I need help",buttonLink:"http://help.soundcloud.com"},s={buttonText:"Get latest status",buttonLink:"http://status.soundcloud.com"};e.exports={UNKNOWN:i.extend({title:"Sorry! Something went wrong",message:"A report has been sent to our tech team,<br> and they're looking in to the problem.<br>Please check back in a bit."},s),PAGE_NOT_FOUND:i.extend({title:"Sorry! We can't find that page."},r),SOUND_NOT_FOUND:i.extend({title:"Sorry! We can't find that track.",message:"Did you try to access a private track, but were not logged in?<br>Maybe the track has been removed."},r),PRIVATE_SOUND:{title:"This track is private.",message:"You'll need to sign in to hear it.",login_required:!0},PLAYLIST_NOT_FOUND:i.extend({title:"Sorry! We can't find that playlist.",message:"Did you try to access a private playlist, but were not logged in?<br>Maybe the playlist has been removed."},r),GROUP_NOT_FOUND:i.extend({title:"Sorry! We can't find that group."},r),USER_NOT_FOUND:i.extend({title:"Sorry! We can't find that user."},r),USER_INFO_NOT_LOADED:i.extend({title:"Error loading user information."},r)}},124:function(e,t,n){(function(t){function i(){this.isDirty()||p.call(this)}function r(){function e(){var e=this.result,t=e.byteLength,n=t-128,s={};"TAG"===m.getStringFromBuffer(e,n,3)&&f.extend(s,{title:m.getStringFromBuffer(e,n+3,30).trim(),publisherArtist:m.getStringFromBuffer(e,n+33,30).trim(),publisherAlbumTitle:m.getStringFromBuffer(e,n+63,30).trim()},C.convertFromID3(m.getByteFromBuffer(e,t-1))),s.title||(s.title=l(r.name)),i.set(s)}if(!this._detailsDeferred){var t,n=this._detailsDeferred=I.defer(),i=this,r=i.get("file");r.slice?(t=new FileReader,t.onload=e,t.onloadend=n.resolve,t.readAsArrayBuffer(r.slice(-128))):(i.set("title",l(r.name)),n.resolve())}return this._detailsDeferred}function s(){this._uploadRequest&&this._uploadRequest.reject(),this._transcodingStatus&&this._transcodingStatus.reject()}function o(){var e,n=I.defer();return a().done(function(i){if("pending"===n.state()){var r=new window.FormData,s=z.stringify({scheme:"https",host:i.bucket+".s3.amazonaws.com"});f.each(f.extend(i,{file:this.get("file")}),function(e,t){r.append(t,e)}),e=t.ajax({url:s,type:"POST",data:r,processData:!1,contentType:!1,dataType:"xml",timeout:0,progress:function(e){n.notify(e.loaded/(e.total||1),e)}}),e.done(function(){n.resolve(i.key)}).fail(n.reject)}}.bind(this)).fail(n.reject),n.fail(function(){e&&e.abort()})}function a(){return t.ajax({url:"upload/policy",dataType:"json",cache:!1})}function l(e){var t;return e=e.replace(/\.[a-z0-9]{2,}$/,""),t=e.replace(/_/g," ").replace(/(\S)-(\S)/g,"$1 - $2"),t=S.capitalize(t).trim(),t||e.trim()}function u(e){var t,n=R.instances.get(y.currentUserId());n&&(t=M.convert(e),n.add(t,{at:0}),t.release())}function c(){v.get("router").navigateToRoute("listen",[this.getAudible()],{trigger:!0})}function d(e){v.get("router").navigate(e,{trigger:!0})}function p(){var e=this.getAttributesFromModel();this.set(e),this.unsetImageFile({force:!0}),this.markFieldsClean()}var h,f=n(3),g=n(89),m=n(917),v=n(80),y=n(18),_=n(125),b=n(331),x=n(721),w=n(16),k=n(174),C=n(945),S=n(22),T=n(926),E=n(138),A=n(329),I=n(83),D=n(928),P=n(86),N=n(131),L=n(946),B=n(732),R=n(371),M=n(224),O=n(102),U=n(722),F=n(143),z=n(81),j=n(929);h=e.exports=k.extend(U,x,j,D,T,{fields:{file:{defaultValue:null}},constraints:{permalink:[[A,{type:"sound",getResource:function(){return this.getAudible()}}],[E,{shouldCheck:function(){return this.isEdit}}]]},_sound:null,resource_type:"sound-upload-edit",_uploadRequest:null,_transcodingStatus:null,_detailsDeferred:null,groupId:null,onCancelUrl:null,requiredSoundAttributes:["artwork_url","commentable","description","downloadable","embeddable_by","feedable","genre","geo_blockings","label_name","license","permalink","purchase_title","purchase_url","release_date","reveal_comments","reveal_stats","sharing","streamable","tag_list","title"],actions:{save:function(){var e=I.defer();return this.validate().done(function(t){t?(this.set("editing",!1),this.saveEdits().done(e.resolve).fail(e.reject)):e.reject()}.bind(this)),e},cancelUpload:function(){this._replacingAudio?b.confirm("Are you sure you want to cancel the replacement?").done(this.cancelUpload.bind(this)):this.performAction("cancel")},cancel:function(){return this.isEdit&&!this.isDirty()?void this.cancel():void b.confirm("Are you sure you want to cancel the "+(this.isEdit?"edits":"upload")+"?").done(this.cancel.bind(this))}},setup:function(e,t){var n=e.file,r=this.requiredSoundAttributes.map(function(e){return"change:"+e});this.setupTransfers(),n&&this.setFile(n),this.groupId=t.uploadToGroupId,this.onCancelUrl=t.onCancelUrl,t.resource_id?(this.isEdit=!0,this._sound=new P({id:t.resource_id}),this.listenTo(this._sound,r.join(" "),i),this._sound.attrExists(this.requiredSoundAttributes)?p.call(this):this._sound.fetch({attrs:this.requiredSoundAttributes}),this.setButtonConfig("cancelUpload",{label:"Cancel replacement"}),this.setButtonConfig("save",{label:"Save changes"}),this.set({status:F.COMPLETE,hasBeenSaved:!0}),this.addSubmodel(this._sound)):(this.setButtonConfig("cancelUpload",{label:"Cancel upload"}),this.setButtonConfig("save",{label:"Save"}))},setFile:function(e){var t=this.options.resource_id;this._replacingAudio=!!t,this.set("file",e),this.markFieldsDirty("file"),this.setTransferSize(e.size),this.get("title")||t||r.call(this),this.set({status:F.QUEUED,hasBeenSaved:!1})},setupTransfers:function(){this.set("transfer",new B({sampleSize:50})),this.set("transcoding",new B({sampleSize:10,totalSize:100}))},setTransferSize:function(e){this.get("transfer").setTotal(e)},createAudible:function(){return this._sound=new P({uid:this._s3key,original_filename:this.get("file").name}),this._sound},onAudibleSaved:function(){var e=this.getAudible();return this.isEdit?c.call(this):u(e),this.groupId&&g.addToGroup(this.getAudible().id,this.groupId,!0),w.trigger("upload_funnel:save"),this.set("hasBeenSaved",!0),I.resolve()},onSaveFailed:function(e){this.setToFailed("save",e),this.get("transcoding").setTotal(100).add(0),this._uploadRequest&&this._uploadRequest.reject(),this._transcodingStatus&&this._transcodingStatus.reject(),this.set("editing",!0),v.get("me").fetch()},getAttributesToBeSaved:function(){var e=f.pick(this.attributes,"feedable","downloadable","commentable");return e.api_streamable=this.get("streamable"),e.reveal_comments=this.get("publicComments"),e},getAttributesFromModel:function(){var e,t=this.getAudible(),n=f.pick(t.attributes,"title","permalink","description","feedable","sharing","downloadable","commentable","artwork_url");return n.streamable=!!t.get("streamable"),n.buyLink=t.get("purchase_url"),n.buyTitle=t.get("purchase_title")||this.getFieldMetadata("buyTitle").defaultValue,n.embeddableByAll="all"===t.get("embeddable_by"),n.tags=N.extract(t.attributes),f.extend(n,this.parseLicense(t.get("license"))),n.stats=!!t.get("reveal_stats"),n.publicComments=!!t.get("reveal_comments"),e=t.get("geo_blockings"),n.geoblocking=e&&!!e.length,n.geoblocking&&(n.availableCountries=_.complement(e)),n.labelName=t.get("label_name"),n.releaseDate=t.get("release_date")&&Date.fromString(t.get("release_date")),n},cancelUpload:function(){s.call(this),this.trigger("upload:cancelUpload",this),this.get("transfer").add(0),this.get("transcoding").add(0),this.set({status:F.COMPLETE,hasBeenSaved:!0}),this._sound&&this._sound.set("state",P.states.FINISHED),w.trigger("upload_funnel:cancel"),this.markFieldsClean()},cancel:function(){this._replacingAudio?this.cancelUpload():s.call(this),this.isEdit?(p.call(this),c.call(this)):(this.destroy(),this._sound&&g.destroy(this._sound),w.trigger("upload_funnel:cancel"),this.onCancelUrl&&d.call(this,this.onCancelUrl),this.groupId&&this.get("hasBeenSaved")&&this.getAudible()&&g.addToGroup(this.getAudible().id,this.groupId,!1))
},upload:function(){var e=I.defer();this.set("status",F.UPLOADING),O.formData&&(this._replacingAudio?e.resolve():r.call(this).done(e.resolve).fail(e.reject),e.done(function(){var e;e=this._uploadRequest=o.call(this),e.always(function(){this._request=null}.bind(this)).done(this.onUploadComplete.bind(this)).fail(this.onUploadFailed.bind(this)).progress(this.onUploadProgress.bind(this))}.bind(this)))},getAudible:function(){return this._sound},updateSound:function(e){this._sound&&(this._sound.release(),this._sound=e)},getSoundUploads:function(){return[this]},startTranscoding:function(e){function n(){t.getJSON("transcodings/"+e).done(function(e){switch(e.status){case L.QUEUED:case L.PREPARING:o=Math.min(1e4,1.5*o),i=setTimeout(n,o);break;case L.TRANSCODING:o=e.percentage===r?Math.min(3e4,1.5*o):1e3,r=e.percentage,s.notify(r),i=setTimeout(n,o);break;case L.FINISHED:s.resolve();break;case L.NOT_FOUND:case L.FAILURE:s.reject()}})}var i,r,s=I.defer(),o=1e3;return t.ajax({url:"transcodings",type:"POST",data:{uid:e},contentType:"application/json"}).done(function(){i=setTimeout(n,o)}).fail(s.reject),s.fail(function(){clearTimeout(i)}),s},onUploadComplete:function(e){var t=this.get("transfer");this._s3key=e,this.set("status",F.TRANSCODING),t.add(t.getTotalSize()),this.get("hasQueuedSave")&&this.saveEdits(),w.trigger("upload_funnel:upload_done"),this.get("transcoding").setTotal(0),this._transcodingStatus=this.startTranscoding(e).done(this.onTranscodingComplete.bind(this)).fail(this.onTranscodingFailed.bind(this)).progress(this.onTranscodingProgress.bind(this))},onUploadFailed:function(){this.setToFailed("upload"),w.trigger("upload_funnel:failed:uploading")},onUploadProgress:function(e,t){this.get("transfer").setTotal(t.total).add(t.loaded)},onTranscodingProgress:function(e){this.get("transcoding").setTotal(100).add(e)},onTranscodingComplete:function(){this._sound&&this._sound.set("state",P.states.FINISHED),this.get("transcoding").setTotal(100).add(100),this.set("status",F.COMPLETE),w.trigger("upload_funnel:complete")},onTranscodingFailed:function(){this._sound&&this._sound.set("state",P.states.FAILED),this.setToFailed("transcode"),this.get("transcoding").setTotal(100),w.trigger("upload_funnel:failed:transcoding")}},{hashFn:function(e,t){return e.resource_id||t&&t.resource_id||e.id||null},onCleanup:function(){this._sound&&this._sound.release()}})}).call(t,n(1))},125:function(e,t,n){function i(e,t){return{title:e,value:t}}function r(e){return{title:a(e),value:e}}function s(e,t){return u.find(Object.keys(e),function(n){return e[n]===t})}function o(e){return u.reduce(e,function(e,t){return u.extend(e,t)},{})}function a(e){return c.titleCase(e.replace("_"," "))}var l,u=n(3),c=n(332),d=n(635),p=o(d);l=e.exports={countryToCode:function(e){return s(p,e)||""},codeToCountry:function(e){return p[e]||""},country:function(e){return new i(p[e],e)},countries:function(e){var t=e?d[e]:p;return t&&u.chain(t).map(i).sortBy("title").value()},countryCodes:function(e){var t=e?d[e]:p;return t&&Object.keys(t)},regions:function(){return Object.keys(d).sort().map(r)},worldwide:function(){return{title:"Worldwide",value:"worldwide"}},complement:function(e){return u.difference(Object.keys(p),e)}}},126:function(e,t,n){var i,r=n(17);i=e.exports=new r({requires:["getSourceInfo"]})},130:function(e,t,n){var i,r=n(137),s=n(126),o=n(85),a=n(80),l=n(81);i=e.exports=o.extend(s,{defaults:{type:null,userId:null},isEdgeBaseUrl:!1,fetchFromApiV2:!1,baseUrlQueryParams:{},setup:function(e){e.resource_id&&!e.userId&&(e.userId=e.resource_id)},getSourceInfo:function(){return{type:"user-"+this.options.type,resourceId:this.options.userId,resourceType:"user"}},baseUrl:function(){var e={path:this.getUrlPath().join("/"),query:this.baseUrlQueryParams};return this.fetchFromApiV2?(e.path="/"+e.path,l.stringify(e,a.get("api_v2_host"))):(this.isEdgeBaseUrl?r.EDGE:"")+l.stringify(e)},getUrlPath:function(){return["users",this.options.userId,this.options.type]}},{hashFn:function(e,t){return t&&(t.userId||t.resource_id)||null}})},131:function(e){function t(e){return!r.test(e)}function n(){return!0}var i,r=/(\w+)\:(\w+)=(.+)/;i=e.exports={extract:function(e,t){var n=e.tag_list||"",r=e.genre||"",s=[];return r&&s.push(r),s.push.apply(s,i.parse(n,t)),s},parse:function(e,i){var r,s,o,a=[],l=[],u=!1,c=!0;for(i||(i={}),r=0,s=e.length;s>r;++r)o=e.charAt(r),'"'===o?u=!u:" "===o||","===o?u?l.push(o):c||(c=!0,a.push(l.join("")),l.length=0):(c=!1,l.push(o));return c||a.push(l.join("")),a.filter(i.includeMachineTags?n:t).map(function(e){return e.replace(/"/g,"").replace(/\s\s+/," ").trim()}).filter(Boolean)},serialize:function(e){var t=/\s/;return e.map(function(e){return t.test(e)?'"'+e+'"':e}).join(" ")},cleanUserText:function(e){return e.replace(/^['"]+|['"]+$|[\\.]/g,"").replace(/\s\s+/g," ").trim()}}},136:function(e,t,n){function i(e,t){var n=e.previousAttributes().username,i=/^user\d+$/;i.test(n)&&this.set("permalink",s(t))}function r(){var e=this.getAttributesFromModel();this.set(e),this.unsetImageFile({force:!0}),this.markFieldsClean()}function s(e){return e.replace(/^[_-]/,"").replace(/[_-]$/,"").replace(/([_-]){2,}/g,"$1").replace(/[^a-z0-9_-]/g,"")}var o,a=n(3),l=n(80),u=n(125),c=n(331),d=n(721),p=n(16),h=n(174),f=n(218),g=n(219),m=n(328),v=n(908),y=n(138),_=n(329),b=n(83),x=n(707);o=e.exports=h.extend(f.withOptions({read:"avatar_url"}),g.withOptions({attr:"username"}),d,{resource_type:"user-settings",_user:null,_webProfileForms:null,fields:{username:{defaultValue:""},permalink:{defaultValue:""},description:{defaultValue:""},avatar_url:{defaultValue:null},first_name:{defaultValue:""},last_name:{defaultValue:""},city:{defaultValue:""},country:{defaultValue:""}},constraints:{username:[[y,{message:"A username is required"}],[v,{minLength:3,message:"Your username must be at least {minLength} characters"}],[m,{maxLength:25,message:"Your username must not exceed {maxLength} characters"}]],permalink:[[y,{message:"A permalink is required"}],[_,{type:"user",getResource:function(){return l.get("me")}}]]},actions:{"default":"save",save:function(){var e=b.defer();return this.validate().done(function(t){t?this.saveEdits().done(function(){this.trigger("saved"),p.trigger("settings:saved"),e.resolve(),this.markFieldsClean()}.bind(this)).fail(e.reject):e.reject()}.bind(this)),e},cancel:function(){this.isDirty()?c.confirm("Are you sure you want to cancel your edits?").done(this.cancelEdits.bind(this)):this.cancelEdits()}},buttons:{save:{label:"Save changes",action:"save"},cancel:{label:"Cancel",action:"cancel"}},setup:function(){this._user=l.get("me"),this._webProfileForms=new x(null,{userId:this._user.id}),this.listenTo(this._webProfileForms,"form:dirty",this.enableAction).listenTo(this._webProfileForms,"form:clean",this.disableAction).listenTo(this,"imageDataChanged",this.markFieldsDirty.bind(this,"avatar_url")),r.call(this),this.listenTo(this,"change:username",i)},getUser:function(){return this._user},getWebProfileForms:function(){return this._webProfileForms},cancelEdits:function(){this.unsetImageFile(),r.call(this),this.getWebProfileForms().fetch()},isDirty:function(){var e=h.prototype.isDirty.apply(this,arguments);return e||this.getWebProfileForms().some(function(e){return e.isDirty()},this)},markFieldsClean:function(){h.prototype.markFieldsClean.apply(this,arguments),this.getWebProfileForms().invoke("markFieldsClean")},saveEdits:function(){var e=this.getUser(),t=this.getWebProfileForms(),n=this.getAttributesToBeSaved(),i=[];return e.set(n),e.save(n).done(function(){var n=this.getImageFileInfo();n.file&&(e.setImageFile(n.file,n.source),i.push(e.uploadImage().done(function(e){this.unsetImageFile({silent:!0}),this.set("avatar_url",e.avatar_url)}.bind(this)))),i.push(t.saveEdits()),b.all(i).done(t.fetch.bind(t))}.bind(this))},getAttributesToBeSaved:function(){var e=a.pick(this.attributes,"city","first_name","last_name","description","permalink","username");return e.country_code=this.get("country"),e},getAttributesFromModel:function(){var e=this.getUser(),t=a.pick(e.attributes,"avatar_url","city","first_name","last_name","description","permalink","username");return t.country=u.countryToCode(e.get("country")),t}},{hashFn:function(){return 1},onCleanup:function(e){e._webProfileForms.release()}})},137:function(e,t,n){(function(t){var i,r,s=n(80),o=n(18),a=n(81),l=/^https?:\/\/.+?\//,u=/^https?/,c={likes:"favorites",groups:"groups",people:"users",sound:"track",sounds:"tracks","web-profile":"web_profile"};i=e.exports={EDGE:"e1/",initialize:function(e){var n=s.get("client_id"),i=s.get("public_api_host");t.ajaxSetup({statusCode:e.statusCode,xhr:r,progress:null,timeout:4e4,beforeSend:function(e,t){var r,u=this.isPublicApiEndpoint(t.url);t.crossDomain=!0,(u||this.isApiV2Endpoint(t.url))&&(o.isLoggedIn()&&e.setRequestHeader("Authorization","OAuth "+o.getAuthToken()),u&&(r=i+t.url.replace(l,""),t.url=a.modify(r,{query:{client_id:n,app_version:s.get("app_version")}})))}.bind(this)})},isPublicApiEndpoint:function(e){return!u.test(e)||0===e.indexOf(s.get("public_api_host"))},isApiV2Endpoint:function(e){return 0===e.indexOf(s.get("api_v2_host"))},toAPIResource:function(e){return c[e]||e}},r=function(){var e,n=t.ajaxSettings.xhr,i=["Date","Content-Type"];return e=function(){var e=this,t=e._getAllResponseHeaders();return t||200!==this.status?t:i.map(function(t){return e.getResponseHeader(t)?t+": "+e.getResponseHeader(t):void 0}).filter(Boolean).join("\n")+"\n"},function(){var t=n();return t._getAllResponseHeaders=t.getAllResponseHeaders,t.getAllResponseHeaders=e,this.progress&&t.upload.addEventListener("progress",this.progress.bind(this)),t}}()}).call(t,n(1))},138:function(e,t,n){function i(e){return null==e||0===e.length}var r,s=n(149);r=e.exports=s.extend({nullable:!1,message:"This field must not be empty",shouldCheck:function(){return!0},check:function(e,t){var n=this.shouldCheck.call(this._form)&&i(e);t(!n)}})},139:function(e,t,n){function i(e){return s.first(e.subscriptions)}var r,s=n(3),o=n(42),a=n(22),l=n(19);r=e.exports={productIds:{PRO:"subscription-pro",UNLIMITED:"subscription-pro-unlimited"},getIcon:function(e,t){var n=i(e),r=n&&n.product.name;return s.isEmpty(n)?"":(t=s.defaults({prefix:"sc-status-icon",title:r||"",type:"creator"},t),o.render(t))},getIconLink:function(e,t){var n,r,s,o=this.getIcon(e,t);return o?(s=l.getRoute("premium",null,null,t&&t.referral),n=i(e),r=n&&n.product.name,'<a class="premiumIconLink" href="'+s+'" title="'+r+' user">'+o+"</a>"):o},getNextLevelProductId:function(e){var t=e.getPlan();return"free"===t||"lite"===t?this.productIds.PRO:this.productIds.UNLIMITED},getQuotaInfo:function(e,t){var n,i,r=e.getUploadSecondsLeft(),s=e.getUploadSecondsUsed(),o=e.getUploadMinutesLeft(),l=e.getUploadMinutesUsed(),u=e.hasProPlanLevel()?"Pro plan":"free",c=e.isOverQuota();return e.hasUnlimitedUpload()?!1:(n=Math.round((r+s)/60),i=n/60,t?{minutesLeft:o,minutesUsed:l,limitInMinutes:n,limitInHours:i,isOverQuota:c}:0>r?"You're over your "+u+" "+i+" hour limit by <strong>"+-o+"</strong> "+a.plural(o,"minute")+".":"You have "+o+" "+a.plural(o,"minute")+" left.")}}},143:function(e){e.exports={QUEUED:1,UPLOADING:2,FAILED:4,UPLOADED:8,TRANSCODING:16,COMPLETE:32}},144:function(e,t,n){function i(e,t){var n=0,i=this.length;return e&&e.length?(t.toPlaylist?n=s.call(this,e,t.toPlaylist):t.asPlaylist?n=r.call(this,e,{source:t.source}):t.asReplacementFor?(a.call(this,e[0],t.asReplacementFor),n=this.length-i):n=t.uploadToGroupId?o.call(this,e,x.pick(t,"uploadToGroupId","onCancelUrl","source")):o.call(this,e,{source:t.source}),n):0}function r(e,t){var n=new E,i=n.addFiles(e);return n.release(),this.add(n,x.extend(t,{at:0})),f.call(this,!0,n),i}function s(e,t){var n=E.hashFn({id:t}),i=E.instances.get(n);return i.addFiles(e)}function o(e,t){var n=0;return e.forEach(function(e){var i=this.length,r=new A({file:e},t);r.release(),this.add(r,x.extend(t,{at:0})),this.length!==i&&(f.call(this,!0,r),++n)},this),n}function a(e,t){var n=new A({file:e},{resource_id:t});n.setFile(e),n.release(),this.add(n,{at:0}),f.call(this,!0,n)}function l(e){return(e.size||0)<=_.MAX_FILE_SIZE&&c(e.type)&&u(e.name)}function u(e){var t=/\.(rtf|html?|bmp|png|gif|jpe?g|exe|zip|sit|gz|cdf|ico|docx?|xlsx?|pptx?|txt|avi|mov|midi|swf|pdf)$/i;return!t.test(e)}function c(e){var t=/^(image|message|text|multipart|model)\/|msword|ms-excel|ms-powerpoint|compressed/;return!t.test(e)}function d(){if(!L){var e,t=this.numUploading(),n=function(e){e.get("status")===I.QUEUED&&N>t&&(e.upload(),++t)};for(e=this.length-1;e>=0&&N>t;--e)this.at(e).getSoundUploads().forEach(n)}}function p(e){!this.numUploading()&&e.get("hasBeenSaved")&&h()}function h(){b&&(S.get("router").removeNavigationBlock(b),b=null)}function f(e,t){this.transferStatus[e?"addTransfer":"removeTransfer"](t.get("transfer")),this.transcodingStatus[e?"addTransfer":"removeTransfer"](t.get("transcoding"))}function g(e){this.remove(e)}function m(e){f.call(this,!1,e),this.numUploading()||this.hasUnsaved()||h()}function v(e){var t=e.get("status"),n=e.previous("status");t!==I.UPLOADING||1!==this.numUploading()||b||(b=S.get("router").addNavigationBlock(D,y.bind(this))),n===I.UPLOADING&&(this.transferStatus.removeTransfer(e.get("transfer")),d.call(this)),n===I.TRANSCODING&&this.transcodingStatus.removeTransfer(e.get("transcoding"))}function y(){return this.hasNotMarkedForSave()?(window.alert(P),!1):void 0}var _,b,x=n(3),w=n(731),k=n(122),C=n(85),S=n(80),T=n(16),E=n(343),A=n(124),I=n(143),D="You still have incomplete uploads. If you leave the page now, these will be canceled.",P="You still have incomplete uploads. Please save or cancel before leaving the page.",N=3,L=!1;_=e.exports=C.extend({next_href:!1,model:k,transferStatus:null,transcodingStatus:null,setup:function(){this.transferStatus=new w,this.transcodingStatus=new w,this.on("change:status",v,this).on("change:hasBeenSaved",p,this).on("remove",m,this).on("upload:cancelUpload",g,this)},addFiles:function(e,t){var n,r,s,o=x.groupBy(e,function(e){return l(e)?"valid":"invalid"});if(t=x.defaults(t||{},{source:"",asPlaylist:!1,toPlaylist:!1}),S.get("me").isCPPEnabled()&&(t.asPlaylist=!1),o.invalid&&this.trigger("error",{name:"invalid",count:o.invalid.length}),n=i.call(this,o.valid,t),r="dragdrop"===t.source||t.uploadToGroupId,n){for(s=n;s--;)T.trigger(["upload_funnel","start",t.source].filter(Boolean).join(":"));r&&S.get("router").navigateToRoute("upload",null,{trigger:!0}),t.toPlaylist||T.trigger(["upload_group",1===n?"single":"multiple",1===n?!1:t.asPlaylist?"grouped":"ungrouped"].filter(Boolean).join(":")),d.call(this)}return n},cancelAll:function(){var e,t;for(e=this.length;e--;)t=this.at(e),t.cancel()},numToUpload:function(){return this.uploadsByStatus(I.QUEUED+I.UPLOADING).length},numUploading:function(){return this.uploadsByStatus(I.UPLOADING).length},numTransoding:function(){return this.uploadsByStatus(I.TRANSCODING).length},hasNotMarkedForSave:function(){return this.some(function(e){return e.get("hasQueuedSave")===!1&&e.get("hasBeenSaved")===!1})},hasUnsaved:function(){return this.some(function(e){return e.get("hasBeenSaved")===!1})},uploadsByStatus:function(e){return this.getSoundUploads().filter(function(t){return t.get("status")&e})},getSoundUploads:function(){return x.flatten(this.map(function(e){return e.getSoundUploads()}))},pause:function(){L=!0},resume:function(){L=!1,d.call(this)},hasDataForView:function(){return!0}},{MAX_FILE_SIZE:5368709120,SIMULTANEOUS_UPLOADS:N,isAcceptable:l,neverRelease:!0,hashFn:function(){return 1}})},145:function(e,t,n){(function(t){function i(e,t){t&&t.sent_at&&(this._lastMessageSentAt=new Date(t.sent_at),this.set("has_attachment",r.call(this)))}function r(){var e=this.get("last_message");return e?!!e.content.match(p.scLinksRegexGlobal):!1}var s,o=n(89),a=n(330),l=n(16),u=n(3),c=n(80),d=n(404),p=n(216),h=n(90),f=n(83),g=n(82),m=193;s=e.exports=h.extend({resource_type:"conversation",_lastMessageSentAt:null,submodelMap:{users:g},baseUrl:function(){return a.baseUrlWithId(this.id)},setup:function(){this.listenTo(this,"change:last_message",i)},parse:function(e){var t=u.find(e.users,function(e){return"system"===e.id});return t&&(t.id=m),h.prototype.parse.apply(this,arguments)},getRecipient:function(){var e,t=c.get("me").id;return e=u.find(this.get("users"),function(e){return t!==e.id}),e||this.get("users")[0]},fetch:function(){return h.prototype.fetch.apply(this,arguments).fail(function(){this.trigger("error")}.bind(this))},isFromSoundCloud:function(){return this.getRecipient().id===m},setRead:function(e){this.set("read",e)},markAsRead:function(){var e=this.toggleReadState(!0);return l.trigger("conversation:read",this.id),e},toggleReadState:function(e){var t,n=null!=e?e:!this.get("read");return this.set("read",n),this._saveDeferred||(this._saveDeferred=t=f.defer().always(function(){this._saveDeferred=null}.bind(this)).done(function(){this.get("read")!==n&&this.toggleReadState(this.get("read"))}.bind(this)),this.save({read:n},{dataType:"text"}).done(function(){setTimeout(t.resolve,1e3)}).fail(function(){setTimeout(t.reject,1e3)})),this._saveDeferred},getUuid:function(){var e=this.get("last_message");return d.hashFn(e)},infoForBadge:function(){var e=this.get("last_message");return{from:this.getRecipient(),isFromSoundCloud:this.isFromSoundCloud(),content:e.content,sentAt:e.sent_at,id:this.id}},lastMessageSentAt:function(){return this._lastMessageSentAt||i.call(this,null,this.get("last_message")),this._lastMessageSentAt},destroyAndReport:function(e){e?t.ajax({url:"me/conversations/"+this.id+"/spam",type:"PUT",success:function(){this.trigger("destroy",this)}.bind(this)}):o.destroy(this)}})}).call(t,n(1))},149:function(e,t,n){var i,r=n(709),s=n(83);i=e.exports=Class.extend({nullable:!0,validate:function(e,t){var n=s.defer();return null==t?this.result(n,this.nullable):this.check(t,this.result.bind(this,n)),n}}),r.applyTo(i.prototype)},150:function(e,t,n){var i,r,s,o,a=n(3),l=n(81);s={type:{"":"",sounds:"sound",people:"person",groups:"group",sets:"set"}},o={singular:{"":"everything",sound:"track",person:"person",group:"group",set:"playlist"},plural:{"":"everything",sound:"tracks",person:"people",group:"groups",set:"playlists"},category:{"":"",sound:"sounds",person:"people",group:"groups",set:"sets"}},r=["q","q[fulltext]","filter.duration","filter.created_at","filter.license","filter.genre","filter.genre_or_tag","filter.place"],i=e.exports={highlightText:function(e,t,n){var i,r=a.extend({pre:"<b>",post:"</b>"},n),s=e.split("");if(!t)return e;for(i=t.length;i--;)s.splice(t[i].post,0,r.post),s.splice(t[i].pre,0,r.pre);return s.join("")},getParams:function(){var e=l.parse(window.location.href);return this.getValidParams(e.query)},getValidParams:function(e){return a.pick(e,r)},modifyParamsWith:function(e,t){var n={},i=this.getParams();return void 0===t&&i.hasOwnProperty(e)?delete i[e]:(n[e]=t,a.extend(i,n)),l.stringify({query:i})},getFilters:function(e){var t={},n=/^filter\./;return e=e||this.getParams(),a.each(e,function(e,i){n.test(i)&&(t[i]=e)}),a.isEmpty(t)?void 0:t},fuzzy:function(e,t,n){var i,r=e.replace(/\W+/gi,"").split(""),s=new RegExp("\\b("+r.join(").*?(")+")","i");return e?(i=t.map(function(t){var i,r,o=n?t.get?t.get(n):t[n]:t,a=s.exec(o),l=o.toLowerCase(),u=[];if(a){for(i=a.index,r=1;r<a.length;++r)i=l.indexOf(a[r].toLowerCase(),i)+1,u.push({pre:i-1,post:i});for(r=u.length;--r;)u[r-1].post===u[r].pre&&(u[r-1].post=u[r].post,u.splice(r,1));return{item:t,highlights:u,score:e.length/a[0].length/o.length-u.length}}}).filter(Boolean),i.sort(function(e,t){return t.score-e.score}),i):t.map(function(e){return{item:e,highlights:[],score:1}})},convert:function(e,t,n){var i="category"===e?s.type[n]:n;return"type"===t?i:o[t][i]}}},151:function(e){e.exports={ALT:18,BACKSPACE:8,CTRL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESC:27,HOME:36,INSERT:45,LEFT:37,META:97,PGDOWN:34,PGUP:33,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,COMMA:188}},153:function(e,t,n){function i(e){return function(t){return t[0]===e}}function r(e,t){for(var n;e.length>m;)n=e.shift(),e.some(i(n[0]))||t.unset(n[0],w);t.set("log",e)}function s(e,t,n,i){e.has(t)||e.set(t,[n,i],w)}function o(e,t){for(var n=0,i=e.length;i>n;++n)if(e[n][k]===t[k])return n;return-1}function a(e,t){var n,i=o(e,t);return i>-1?(n=e[i],n[C]+=t[C],n[S]=n[S]||t[S]):e.unshift(t.slice()),e}function l(){d._persistent.reset(),d._session.reset()}function u(e,t){return e/t>=y}function c(e){var t=this.get(e[k]);return p.object(Object.keys(I).concat(Object.keys(D)),e.concat(t))}var d,p=n(3),h=n(16),f=n(103),g=n(193),m=250,v=2e3,y=.25,_=null,b=null,x=null,w={dontPersist:!0},k=0,C=1,S=2,T=3,E=0,A=1,I={id:k,playTime:C,userInitiated:S,timestamp:T},D={duration:E,userId:A},P={field:null,from:"global",id:null,unique:!1,playState:null,userInitiated:null,filter:null,newestFirst:!1,limit:!1};h.on("connect:logout",l),d=e.exports={_persistent:new f("play-log"),_session:new g,addSound:function(e,t){_&&this.writeToLog(),_=e,b=e.getListenTime(),x=t||{},e.on("pause",this.writeToLog,this).hold()},select:function(e){e=p.extend({},P,e);var t=this["session"===e.from?"_session":"_persistent"],n=t.get("log")||[];return e.id?n=n.filter(function(t){return t[k]===e.id}):e.userId&&(n=n.filter(function(n){return t.get(n[k])[A]===e.userId})),e.unique&&(n=n.reduceRight(a,[])),n=n.filter(function(n){return null!=e.userInitiated&&n[S]!=e.userInitiated?!1:"played"!==e.playState||u(n[C],t.get(n[k])[E])?e.filter?e.filter.apply(null,n):!0:!1}),e.newestFirst&&n.reverse(),e.limit&&n.length>e.limit&&(n=n.slice(0,e.limit)),n=e.field?p.pluck(n,I[e.field]):n.map(c,t)},count:function(e){return this.select(e).length},numSessionPlays:function(){return this.count({from:"session",unique:!0,playState:"played"})},getPlayedIds:function(){return this.select({field:"id",from:"persistent",unique:!0,playState:"played"})},writeToLog:function(){var e,t,n,i=Math.floor(_.getListenTime()-b),o=d._persistent,a=d._session,l=_.id,u=_.duration();i>=Math.min(u,v)&&(t=o.get("log")||[],n=a.get("log")||[],s(o,l,u,_.get("user_id")),s(a,l,u,_.get("user_id")),e=[l,i,x.userInitiated?1:0,Date.now()],t.push(e),n.push(e),r(t,o),r(n,a)),_.off("pause",this.writeToLog,this).release(),_=b=null}}},156:function(e,t,n){e.exports=n.p+"assets/images/close-light-3cc615.png"},158:function(e,t,n){var i,r=n(3),s=n(21);i=e.exports=Class.extend({enabled:!0,_breakCount:0,_failCount:0,_maxBreaks:0,_timeoutId:null,defaults:{tolerance:1,baseDelay:1e3,maxDelay:3e4,backoffRate:2,giveUp:null,enabled:!0},initialize:function(e){r.bindAll(this,"failed","succeeded"),this.setup(e)},setup:function(e){this.options=r.extend({},this.options||this.defaults,e),e=r.defaults(this.options,this.defaults);var t=e.maxDelay/e.baseDelay;if(e.backoffRate>1)for(;t>1;)++this._maxBreaks,t/=e.backoffRate;else this._maxBreaks=1/0;e.enabled||this.disable()},dispose:function(){this.off(),this.clearTimeout()},clearTimeout:function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},failed:function(){++this._failCount>=this.options.tolerance&&this.disable()},succeeded:function(){this._breakCount=this._failCount=0},disable:function(e){if(this.enabled){var t=!e||e.autoEnable!==!1;this.enabled=!1,++this._breakCount,t&&(!this.options.giveUp||this._breakCount<this.options.giveUp)?this._timeoutId=setTimeout(this.enable.bind(this),this.currentDelay()):this.trigger("giveup"),this.trigger("disabled")}},enable:function(){this.enabled||(this.enabled=!0,this._failCount=0,this.trigger("enabled"))},currentDelay:function(){var e=this.options;return Math.min(e.baseDelay*Math.pow(e.backoffRate,Math.floor(Math.random()*Math.min(this._maxBreaks,this._breakCount))),e.maxDelay)}}),r.extend(i.prototype,s.Events)},160:function(e,t,n){var i,r=n(110);i=e.exports=r.extend({includeFooter:".l-one-column",css:n(1787),template:n(1571)})},167:function(e,t,n){(function(t){function i(){var e=this.url();e&&o.isLoggedIn()?u.prototype.fetch.apply(this,arguments).done(i.bind(this)).fail(this._fetchDefer.reject):this._fetchDefer.resolve()}function r(){this._fetchDefer=null}var s,o=n(18),a=n(16),l=n(115),u=n(90),c=n(83),d=n(193),p=n(81),h=n(3);s=e.exports=u.extend({CREATE:"PUT",READ:"GET",DELETE:"DELETE",_currentRequests:null,next_href:null,_fetchDefer:null,readPathSuffix:"ids",setup:function(){this._currentRequests=new d},url:function(e){var t=p.parse(h.result(this,"baseUrl"));if(t.path=t.path.replace(/\/?$/,"/"),e)t.path+=e;else{if(null!==this.next_href)return this.next_href;t.path+=this.readPathSuffix,t.query.linked_partitioning=1,t.query.limit=5e3}return p.stringify(t)},get:function(){return u.prototype.get.apply(this,arguments)||!1},fetch:function(){var e=this._fetchDefer;return e||(this._fetchDefer=e=c.defer().fail(r.bind(this)),o.isLoggedIn()?i.call(this):this.listenToOnce(a,"connect:hasUserData",i)),e},parse:function(e){return this.next_href=e.next_href||!1,h.reduce(e.collection,function(e,t){return e[t]=!0,e},{})},toggle:function(e,t){var n=this.get(e),i="boolean"==typeof t?t:!n;i!==n&&(i?this.set(e,!0):this.unset(e))},setRemote:function(e,n,i){var r,s,o,a,u=this._currentRequests.get(e);return u?void 0:(s=n?"CREATE":"DELETE",r=this.url(e,s,i),o=this[s],u=t.ajax(h.extend({url:r,type:o,data:this.getRequestData(e,s),dataType:"json"},this.getAjaxOptions(e,s))),this._currentRequests.set(e,u),a=this,u.always(function(){this._currentRequests.unset(e)}.bind(this)).done(function(){var t=a.get(e);(this.type===a.DELETE&&t||this.type===a.CREATE&&!t)&&a.setRemote(e,t)}).fail(l.ajaxNonFatal("Could not toggle value")),u)},getAjaxOptions:t.noop,hasDataForView:function(){return!!this.lastFetchTime},getRequestData:function(){return null}},{neverRelease:!0,hashFn:function(){return 1}})}).call(t,n(1))},168:function(e,t,n){var i,r=n(3),s=n(90),o=n(324);i=e.exports=s.extend({url:null,resource_type:"product",setup:function(e){var t=r.extend({},o[e.id],e);this.set(t)},isGift:function(){return this.get("id").indexOf("gift")>-1},isPro:function(){return-1===this.get("id").indexOf("unlimited")&&!this.isFree()},isProUnlimited:function(){return this.get("id").indexOf("unlimited")>-1},isRenewal:function(){return"renewal"===this.get("use_case")},isFree:function(){return this.get("id").indexOf("free")>-1},isCurrency:function(e){return this.getPrice().currency===e},getTitle:function(){return this.get("features").title},getPrice:function(e){return this.getTermData(e).price||{currency:"EUR"}},getPackagePrice:function(e){var t=this.getTermData(e).package;return t&&(t.price||{currency:"EUR"})},getDiscount:function(e){var t=this.getTermData(e).discount;return t&&t.price},getTermData:function(e){var t=e||this.get("preselected_term");return this.get(t)||{}},getUrn:function(){return this.getTermData().package.urn},hasDataForView:function(){return!0}},{useCases:{DISABLED:"disabled",REGULAR:"regular",MONEY_BACK:"money_back",RENEWAL:"renewal",DOWNGRADE:"downgrade",UPGRADE:"upgrade"}})},169:function(e){var t,n=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"];t=e.exports={format:function(e){return"number"!=typeof e&&(e=parseInt(e,10)),e!==e?"":e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},inWords:function(e){return n[e]||e},round:function(e,t){var n=Math.pow(10,t||0);return Math.round(e*n)/n},zeroPad:function(e,t){if(null==e)return e;e+="";var n=t-e.length;return n>0&&(e=new Array(n+1).join("0")+e),e},toOrdinal:function(e){if(null==e)return e;var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}}},172:function(e,t,n){e.exports=n.p+"assets/images/loader-db80c5.gif"},173:function(e,t,n){function i(e){var t=u.get("me");return l.all(e,function(e){return t.owns(e)})}function r(e){this.getFieldMetadata("sounds").datasource.blacklist(e),o.call(this)}function s(e){this.getFieldMetadata("sounds").datasource.unblacklist(e),o.call(this)}function o(){this.setActionState("save",this.get("sounds").length?"enabled":"disabled"),this.forceChange("sounds")}var a,l=n(3),u=n(80),c=n(89),d=n(16),p=n(174),h=n(364),f=n(328),g=n(138),m=n(96),v=n(851);a=e.exports=p.extend({fields:{title:{defaultValue:""},sounds:{defaultValue:function(){return new h}},playlist:{defaultValue:null},sharing:{defaultValue:"public",datasource:[{label:"private",value:"private"},{label:"public",value:"public"}]}},buttons:{save:{label:"Save",action:"save"}},actions:{save:function(){var e=m.getNewInstance({title:this.get("title"),sharing:this.get("sharing")});return this.validate().then(function(t){return t?e.save().then(function(){return m.instances.add(e),c.notify("createPlaylist",{object:e}),this.get("sounds").each(function(t){e.addSound(t),c.notify("addToPlaylist",{object:t,target:e.id,targetType:e.get("kind"),state:!0})}),this.set("playlist",e),this.markFieldsClean(),e.saveOrder()}.bind(this)):void d.trigger("tracking:add_to_set:validation")}.bind(this))},"default":"save"},constraints:{title:[[g,{message:"Title is required"}],[f,{maxLength:255,message:"Title must not exceed {maxLength} characters"}]],sounds:[[g,{message:"Playlist must contain at least one track"}]]},setup:function(){var e,t=this.get("sounds");this.startingSounds=this.options.startingSounds||[],e=l.any(l.invoke(this.startingSounds,"isPrivate")),this.set("sharing",e?"private":"public"),this.getFieldMetadata("sounds").datasource=new v(null,{sourceType:i(this.startingSounds)?"mySounds":"likes"}),this.listenTo(t,"add",r).listenTo(t,"remove",s),l.each(this.startingSounds,this.addSound,this)},addSound:function(e){this.get("sounds").add(e)},areAllSoundsMine:function(){return i(this.get("sounds").models)}},{onCleanup:function(e){e.get("sounds").release()}})},174:function(e,t,n){var i,r=n(911),s=n(910),o=n(913),a=n(90),l=n(83);i=e.exports=a.extend(o,s,r,{destroy:function(e){return this.trigger("destroy",this,this.collection,e),l.resolve()}},{hashFn:function(e,t){return e&&e.id||t&&t.resource_id}})},175:function(e,t,n){function i(){var e=this._ignoredCollections;return b.find(this.sources,function(t,n){return e.indexOf(n)<0&&!t.isFullyPopulated()})}function r(e,t){var n=e?"on":"off";t[n]("all",u,this)[n]("add",a,this)[n]("reset",o,this)[n]("remove",l,this)}function s(){this._map={dupes:[],blacklist:[]},this.filters.reduce(function(e,t,n){return e[n]=[],e},this._map)}function o(e){var t=this.length,n=!t&&(!!e.length||this.isFullyPopulated());e.models.forEach(function(t){a.call(this,t,e,{silent:n})},this),(n||this.length>t)&&(this.lastFetchTime=Date.now()),n&&this.trigger("reset",this,{})}function a(e,t,n){n=n||{};var i=t.indexOf(e);this.sources.some(function(e){return e===t?!0:void(i+=e.length)}),this.lastFetchTime=Date.now(),f.call(this,e,i,n)}function l(e,t,n){var i=n.index;this.sources.some(function(e){return e===t?!0:void(i+=e.length)}),g.call(this,e,i)}function u(e){switch(e){case"add":case"remove":case"reset":case"destroy":return;default:this.trigger.apply(this,arguments)}}function c(e,t){var n=this.length,i=n+this._ignore.length,r=i,s=n+e,o={silent:t},a=!this.lastFetchTime;return this.sources.every(function(t){var n,l,u,c;do{for(n=t.models.slice(i,i+e),u=n.length,u&&(this.lastFetchTime=t.lastFetchTime||Date.now(),a&&(a=!1,this.trigger("reset",this,{}))),c=this.length;l=n.shift();)i++,f.call(this,l,r++,o);e-=this.length-c}while(this.length<s&&u);return i-=t.length,this.length<s&&t.isFullyPopulated()},this),this.length>n}function d(e){var t,n,i=e;for(t=0,n=this._ignore.length;n>t&&this._ignore[t]<=i;++t)++i;return i}function p(e){var t,n,i,r=d.call(this,e);if(e>-1)for(t=0,n=this.sources.length;n>t;++t){if(i=this.sources[t],!(r>=i.length))return{source:i,index:r,model:i.at(r)};r-=i.length}}function h(e){var t=this.sources.indexOf(e);t>-1&&t<this.sources.length-1&&this._ignoredCollections.push(t)}function f(e,t,n){var i,r,s,o=this._map;r=t===this._sourceModels.length?function(e,t){e.push(t)}:function(e,n){e.splice(t,0,n)},e instanceof this.model||(e=this.extractModel(e,t)),e&&(i=this.indexOfEquivalentModel(e,this._sourceModels),r(this._sourceModels,e),-1===i?r(o.dupes,!0):t>i?r(o.dupes,!1):(o.dupes[i]=!1,r(o.dupes,!0)),s=this._blacklistedIds.indexOf(e.cid),r(o.blacklist,-1===s),this.filters.forEach(function(t,n){r(o[n],!!t.call(this,e))
},this),v.call(this),y.call(this,n))}function g(e,t){var n,i,r,s,o=this._map,a=o.dupes;if(s=t===this._sourceModels.length-1?function(e){e.pop()}:function(e){e.splice(t,1)},a[t])for(i=t+1,r=b.last(this._ignore);r>=i;++i)a[i]===!1&&(n=this._sourceModels[i],this.compareModels(e,n)&&(a[i]=!0));s(this._sourceModels),s(a),s(o.blacklist),this.filters.forEach(function(e,t){s(o[t])}),v.call(this),y.call(this)}function m(e,t){var n,i=this._map;for(n=this._sourceModels.length;n--&&(!this.compareModels(e,this._sourceModels[n])||(i.blacklist[n]=t,!i.dupes[n])););v.call(this),y.call(this)}function v(){var e=this._map;this._ignore=this._sourceModels.reduce(function(t,n,i){return b.every(b.pluck(e,i))||t.push(i),t},[])}function y(e){function t(e,t){return-1===l.indexOf(t)}var n,i,r,s,o,a,l=this._ignore;for(n=this._sourceModels.filter(t),a=x(this.models,n,this.compareModels),i=0,r=a.length;r>i;i+=2)s=a[i+1],a[i]?(o=n[s],this.add(o,b.defaults({at:s,parse:!1},e))):this.remove(this.at(s),{_propagateToSource:!1})}var _,b=n(3),x=n(921),w=n(83),k=n(85);_=e.exports=k.extend({sources:null,_sourceModels:null,filters:null,_map:null,_blacklistedIds:[],_ignore:null,_fetchDeferred:null,_bulkFetchDeferred:null,_ignoredCollections:null,setup:function(){this.sources=this.setupSources(),this.sources.forEach(r.bind(this,!0)),this._sourceModels=[],this.filters||(this.filters=[]),s.call(this),this._ignore=[],this._ignoredCollections=[],this._blacklistedIds=[],c.call(this,this.options.limit,!0)},setupSources:function(){},bulkFetch:function(e,t){var n,i=this.options.limit,r=e-this.length;return n=this._bulkFetchDeferred,n&&!t?n:(n||(n=this._bulkFetchDeferred=w.defer().always(function(){this._bulkFetchDeferred=null,this.options.limit=i}.bind(this))),0>=r||this.isFullyPopulated()?n.resolve():(this.options.limit=r,this.fetch({reset:!0}).done(function(){this.bulkFetch(e,!0)}.bind(this)).fail(n.reject),n))},fetch:function(e){var t,n,r,s,o,a;return e||(e={}),r=this.options.limit,o=this.length,s=this._fetchDeferred,s&&!e.internalFetch?this._fetchDeferred:(s||(s=this._fetchDeferred=w.defer().always(function(){this._fetchDeferred=null}.bind(this)),s.originalLimit=r),c.call(this,r,e.silent)||(t=i.call(this)),t?(e.reset=!this.length,e.remove=!1,a=this,n=t.options.limit,t.setLimit(r),t.fetch(e).fail(function(){a.sources.indexOf(t)===a.sources.length-1?s.reject():h.call(a,t)}).always(function(){if("rejected"!==s.state()){var i,l=r-(a.length-o);t.setLimit(n),0>=l?(a.options.limit=s.originalLimit,t.setLimit(s.originalLimit),s.resolve()):(a.options.limit=l,i=b.clone(e),i.internalFetch=!0,delete i.url,a.fetch(i))}}),s):s.resolve({}))},extractModel:null,blacklist:function(e){this._blacklistedIds.push(e.cid),m.call(this,e,!1)},unblacklist:function(e){function t(t){return t===e.cid}this._blacklistedIds=b.reject(this._blacklistedIds,t),m.call(this,e,!0)},remove:function(e,t){var n=!t||void 0===t._propagateToSource||t._propagateToSource;return n?(Array.isArray(e)||(e=[e]),e.forEach(function(e){var t=p.call(this,this.indexOf(e));t&&t.source.remove(t.model)},this)):k.prototype.remove.call(this,e,b.defaults({_propagateToSource:!1},t)),this},isFullyPopulated:function(){return!i.call(this)},recalculateFilters:function(){this.filters.forEach(function(e,t){this._sourceModels.forEach(function(n,i){this._map[t][i]=!!e.call(this,n)},this)},this),v.call(this),y.call(this)},setQueryForFilters:function(e){this._queryData=e,this.recalculateFilters()}},{onCleanup:function(e){for(var t;t=e.sources.pop();)t.release(),r.call(e,!1,t);this._sourceModels=this._map=null}})},176:function(e,t,n){var i,r=n(167);i=e.exports=r.extend({baseUrl:function(){return"me/followings/"}})},181:function(e,t,n){function i(e){var t;e.state?this.add({id:e.target},{at:0}):(t=this.get(e.target))&&this.remove(t)}var r,s=n(89),o=n(82),a=n(130);r=e.exports=a.extend({model:o,defaults:{limit:3,type:"followings"},setup:function(e){a.prototype.setup.apply(this,arguments),this.listenTo(s,"follow:origin:user:"+e.userId,i)}})},183:function(e,t,n){var i=n(80),r=n(330),s=n(21).Model;e.exports={stream:new s({channel:"/me/activities/tracks",itemName:"sound",minPollInterval:12e4,maxPollInterval:192e4,baseUrl:function(){return i.get("api_v2_host")+"stream"}}),activities:new s({channel:"/me/activities/all/own",itemName:"activity",itemNamePlural:"activities",minPollInterval:12e4,maxPollInterval:192e4,baseUrl:function(){return i.get("api_v2_host")+"activities"}}),unreadConversations:new(s.extend({defaults:{baseUrl:function(){return r.baseUrl("unread")+"?force=1"},itemName:"conversation",itemNamePlural:"conversations",minPollInterval:0,maxPollInterval:0},initialize:function(){this.setDefaultPolling()},enableRealTimePolling:function(){this.set("minPollInterval",4e4),this.set("maxPollInterval",18e4),this.trigger("pollIntervalChange")},setDefaultPolling:function(){this.set("minPollInterval",3e5),this.set("maxPollInterval",192e4),this.trigger("pollIntervalChange")}})),conversations:new s({baseUrl:r.baseUrl,itemName:"conversation",itemNamePlural:"conversations",minPollInterval:1e3,maxPollInterval:3e4})}},184:function(e,t,n){function i(){T.forEach(function(e){"resolved"!==e.state()&&e.abort()}),T.length=0}function r(){return d||(d=new f({giveUp:1})),d}function s(e,t,n,i){e.sound&&"rejected"!==t.state()?o.call(this,e,t,n,i):t.resolve()}function o(e,t,n,i){var r=e.sound;r.hold(),this.listenTo(r,"finish",this._onAdFinish).listenTo(r,"pause",this._onAdPause).listenTo(r,"play",this._onAdPlay).listenTo(r,"playStart",this._onAdPlayStart).listenTo(r,"time",this._onAdTime),this._currentAd=e,this._upcomingSound=n,this._upcomingSound.hold(),t.done(a.bind(this)),r.play(p.extend({checkpointInterval:S},i))}function a(){var e=this.getCurrentSound();this.stopListening(e),e.pause(),e.release(),this._currentAd=null,this._upcomingSound.release(),this._upcomingSound=null}function l(e,t){var n=u.getCurrentAd(),i=u.getCurrentSound(),r=n.get("audio"),s=n.get("companion_display"),o=i.getMonetizableTrack();switch(e){case"companion_display:impression":_.trackEvent("impression",s),v.trigger("tracking:impression",{ad_urn:s.ad_urn,external_media:s.ad_visual,impression_name:"companion_display",impression_object:i.getUrn(),context:t.context,monetization_type:"audio_ad",monetized_object:o.getUrn()});break;case"audio_ad:impression":_.trackEvent("impression",r),v.trigger("tracking:impression",{ad_urn:r.ad_urn,impression_name:"audio_ad_impression",impression_object:i.getUrn(),context:t.context,monetization_type:"audio_ad",monetized_object:o.getUrn()});break;case"companion_display:clickthrough":_.trackEvent("adClick",s),v.trigger("tracking:ad:click",{ad_urn:s.ad_urn,external_media:s.ad_visual,click_name:"clickthrough::companion_display",click_object:i.getUrn(),click_target:s.landing_page,context:t.context,monetization_type:"audio_ad",monetized_object:o.getUrn()});break;case"audio_ad:skip":_.trackEvent("skip",r),v.trigger("tracking:ad:skip",{ad_urn:r.ad_urn,click_name:"ad::skip",click_object:i.getUrn(),external_media:s.ad_visual,context:t.context,monetization_type:"audio_ad",monetized_object:o.getUrn()});break;case"audio_ad:finish":_.trackEvent("finish",r),v.trigger("tracking:ad:finish",{ad_urn:r.ad_urn,click_name:"ad::finish",click_object:i.getUrn(),external_media:s.ad_visual,context:t.context,monetization_type:"audio_ad",monetized_object:o.getUrn()});break;case"audio_ad:playStart":_.trackEvent("play",r)}}var u,c,d,p=n(3),h=n(21),f=n(158),g=n(80),m=n(18),v=n(16),y=n(83),_=n(98),b=n(111),x=n(385),w=1e3,k=w,C=15*w,S=3*w,T=[],E={AD_PLAY:"ad:play",AD_PAUSE:"ad:pause",AD_SKIP:"ad:skip",AD_FINISH:"ad:finish",AD_PLAYSTART:"ad:playStart",AD_TIME:"ad:time"};u=e.exports=p.extend({},h.Events,{_adDeferred:null,_currentAd:null,_upcomingSound:null,states:{isInRequiredListenPeriod:{initial:!1}},setAudioAd:function(e){c=e},prefetchAudioAd:function(e){p.delay(function(){var t=new c({id:e.id},{requiredListenPeriod:C}),n=r();t.configureMonetizableTrack(e),!t.isPopulated()&&n.enabled&&t.fetch().fail(n.failed).done(n.succeeded)},k)},isUserAdConsumer:function(){return!this._isUserInAdFreeArea()&&this._isUserInAdGroup()},getCurrentSound:function(){return this._currentAd&&this._currentAd.sound},getUpcomingSound:function(){return this._upcomingSound},getCurrentAd:function(){return this._currentAd},skip:function(e){if(u.getState("isInRequiredListenPeriod"))return u._adDeferred;var t=u.getCurrentAd();return i(),t&&(u.trigger(E.AD_SKIP,t),u.metrics("audio_ad:skip",e)),(u._adDeferred||y.defer()).resolve()},whenAdFinished:function(e,t){var n=this._adDeferred,o=new c({id:e.id},{requiredListenPeriod:C}),a=r();return o.configureMonetizableTrack(e),n&&"pending"===n.state()?this.skip():o.sound&&o.sound.currentTime()>0?y.resolve():(n=this._adDeferred=y.defer(),!o.isPopulated()&&a.enabled?(T.push(o.fetch().fail(function(){a.failed(),n.reject(),i()}).done(function(){a.succeeded(),s.call(this,o,n,e,t),i()}.bind(this))),n):(s.call(this,o,n,e,t),n))},metrics:function(e,t){u.getCurrentAd()&&u.getCurrentSound()&&l(e,t||{})},_onAdFinish:function(){var e=this.getCurrentAd(),t=this._adDeferred;u.trigger(E.AD_FINISH,e),u.toggleState("isInRequiredListenPeriod",!e.isSkippableRightNow()),t.resolve()},_onAdPause:function(){var e=u.getCurrentAd();u.trigger(E.AD_PAUSE,e)},_onAdPlay:function(){var e=u.getCurrentAd();u.trigger(E.AD_PLAY,e)},_onAdPlayStart:function(){var e=u.getCurrentAd();u.trigger(E.AD_PLAYSTART,e),u.toggleState("isInRequiredListenPeriod",!e.isSkippableRightNow())},_onAdTime:function(){var e=u.getCurrentAd();u.trigger(E.AD_TIME,e),u.toggleState("isInRequiredListenPeriod",!e.isSkippableRightNow())},_isUserInAdGroup:function(){return b.get("audio_ads")||!m.isLoggedIn()},_isUserInAdFreeArea:function(){var e=g.get("router").getLayoutInfo()||{};return"front"===e.layoutName}}),x.applyTo(u)},185:function(e){e.exports={DISABLED:-1,UNKNOWN:0,PENDING:1,INVALID:2,VALID:3}},187:function(e){e.exports={precise:function(e,t){return t=Math.pow(10,t||0),Math.round(e*t)/t},clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}}},188:function(e){e.exports={CANCELING:"canceling",EDITING:"editing",NONE:"none",SAVING:"saving"}},192:function(e,t,n){(function(t){var i,r=n(3),s=n(17);i=e.exports=new s({canvas:null,context:null,isDirty:!1,isAnimating:!1,requires:["draw"],applyTo:function(e){e.defaults=r.extend({scale:1,$eventEl:null},e.defaults)},after:{draw:function(){this.setDirty(this.isAnimating)},onResize:function(){this.setDirty(!0)}},before:{setup:function(e){e.$eventEl||(e.$eventEl=this.$el),this.canvas=this.el,this.context=this.el.getContext("2d")}},override:{render:function(){this.hasData()?this.setDirty(!0):(this.setDirty(!1),this.fetchData())},destroyElement:t.noop},defaults:{onResize:t.noop},setDirty:function(e){(this.isDirty=e)&&this.trigger("dirty")}})}).call(t,n(1))},193:function(e,t,n){var i,r=n(3),s={};["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","isEmpty","chain","sample"].forEach(function(e){s[e]=function(){var t=[this._asMap()];return t.push.apply(t,arguments),r[e].apply(r,t)}}),i=e.exports=Class.extend([s,{initialize:function(e){this._store={},this.length=0,this._final=!1,this.maxLength=e&&e.maxLength||!1,this.maxLength&&(this._keys=[])},maxLength:0,get:function(e){return this._store[e]},set:function(e,t){return this.has(e)?this.maxLength&&this._keys.splice(this._keys.indexOf(e),1):(++this.length,this.maxLength&&this.length>this.maxLength&&this.unset(this._keys[0])),this.maxLength&&this._keys.push(e),this._store[e]=t,this},unset:function(e){var t;return this.has(e)&&(--this.length,this._final?this._store[e]=t:(delete this._store[e],this.maxLength&&this._keys.splice(this._keys.indexOf(e),1))),this},reset:function(){return this._store={},this.maxLength&&(this._keys=[]),this._final=!1,this.length=0,this},has:function(e){return this._store.hasOwnProperty(e)},keys:function(){return Object.keys(this._store)},_asMap:function(){return this._store},finalize:function(){this._final=!0}}])},194:function(e){e.exports={INITIAL:"timed-comment-sm:initial",CURRENT_COMMENT:"timed-comment-sm:current-comment",CURRENT_TIMESTAMP:"timed-comment-sm:current-timestamp",ACTIVE_TIMESTAMP:"timed-comment-sm:active-timestamp"}},196:function(e,t,n){(function(t){function i(e){return d.centered(e,450,500,"createNewConnection")}var r,s,o,a=n(18),l=n(16),u=n(90),c=n(83),d=n(236),p=n(81);o={facebook_profile:"connection-facebook.html",twitter:"connection-facebook.html",facebook_page:"connection-facebook.html",tumblr:"connection-facebook.html"},r=e.exports=u.extend({baseUrl:function(){return"me/connections/"+this.id}},{create:function(e){var n,r,l=o[e];if(s){if(n=s.popup,s.type===e)return n&&!n.closed&&n.focus&&n.focus(),s.deferred;s.deferred.reject()}return s||(s={deferred:c.defer().always(function(){var e=s.popup;e&&!e.closed&&e.close(),clearInterval(s.intervalId),s=null}),popup:null,intervalId:null}),r=s.deferred,l=location.protocol+"//"+location.host+"/"+l,a.login().fail(r.reject).done(function(){t.ajax({type:"POST",url:"me/connections",data:{service:e,redirect_uri:l},dataType:"json",contentType:"application/json"}).fail(r.reject).done(function(e){var t=s.popup=i(e.authorize_url);s.intervalId=setInterval(function(){(!t||t.closed)&&r.reject()},2e3)})}),r},callback:function(e){var t,n=p.parseQueryString(e.location.search);"1"===n.success?(t=new r({id:parseInt(n.id,10)}),t.fetch().fail(s.deferred.reject).done(function(){l.trigger("connect:newConnection",t),s.deferred.resolve(t)})):(l.trigger("connect:connectionError",n.errorMessage),s.deferred.reject())}})}).call(t,n(1))},207:function(e,t,n){e.exports=n.p+"assets/images/playlist-cover-bg_large-6e3a38.png"},212:function(e,t,n){(function(t){var i,r=n(3),s=n(381),o=n(384),a=n(130),l=n(224),u=5;i=e.exports=a.extend(s,o,{defaults:{type:"spotlight"},model:l,fetchFromApiV2:!0,add:function(){return a.prototype.add.apply(this,arguments),this.length>u&&this.remove(this.models.slice(u)),this},parse:function(e){return e.collection.slice(0,u).map(function(e){var t="playlist"===e.kind;return{type:t?"playlist_spotlight":"track_spotlight",created_at:e.created_at,track:t?null:e,playlist:t?e:null}})},getMaxItemCount:function(){return u},getCurrentOrder:function(){return this.map(function(e){return(e.get("playlist")||e.get("track")).id})},reorder:function(e){var t=this.comparator;this.comparator=function(t){return e.indexOf(t.audible.id)},this.sort({silent:!0}),this.comparator=t},resetOrder:function(){return this.fetch({reset:!0})},saveOrder:function(){return this.save()},save:function(){var e=this.map(function(e){return e.audible.getUrn()});return t.ajax(r.result(this,"baseUrl"),{type:"PUT",data:JSON.stringify({spotlight:e}),dataType:"json",contentType:"application/json"})}})}).call(t,n(1))},214:function(e,t,n){var i,r,s,o=n(89),a=n(745),l=n(380),u=n(130);i=e.exports=u.extend(l,{model:a,defaults:{type:"likes"},fetchFromApiV2:!0,setup:function(e){u.prototype.setup.apply(this,arguments),this.listenTo(o,"like:origin:user:"+e.userId,s)},unshuffle:function(e){return-Date.parse(e.get("created_at"))},parse:function(e){var t=this.options.userId;return e.collection.forEach(function(e){e.user_id=t}),e.collection},audibleAt:function(e){return this.at(e).getAudible()}}),s=function(e){var t;e.state?this.add(r(e),{at:0}):(t=this.find(function(t){var n;return"sound"===e.targetType&&(n=t.get("track"))&&e.target===n.id||"playlist"===e.targetType&&(n=t.get("playlist"))&&e.target===n.id}),t&&this.remove(t))},r=function(e){var t={user_id:e.origin,created_at:(new Date).toISOString(),kind:"like"};return"sound"===e.targetType?(t.track={id:e.target},t.playlist=null):(t.playlist={id:e.target},t.track=null),t}},215:function(e,t,n){function i(e){e&&-1===this.getRecipientIds().indexOf(e.id)&&this.set("recipients",this.get("recipients").concat(e))}function r(e){var t=C.defer();return e instanceof S||e instanceof x?t.resolve(s(e)):p(e)?t.reject():S.resolve(e).done(function(e){e&&e.id&&t.resolve(s(e))}).fail(t.reject),t}function s(e){return{id:e.id,username:e.get("username"),avatar_url:e.get("avatar_url")}}function o(e,t){var n;t!==this._lastBodyValue&&(this._lastBodyValue=t,w.getAudibleModels(t.match(w.scLinksRegexGlobal)||[]).done(function(e){n=g.reduce(e,function(e,t){return t&&t.audible&&e.push(t.audible),e},[]),this.set("attachments",n)}.bind(this)))}function a(e,t){t&&!t.isValid&&y.trigger("messages:new-message-validation-error",{field:e})}function l(e){a.call(this,"recipients",e)}function u(e){a.call(this,"body",e)}function c(e){var t,n;t=g.reject(this.get("attachments"),function(t){return t.resource_id===e?(n=t,!0):!1}),this.set("attachments",t),d.call(this,n)}function d(e){var t=this.get("body"),n=e.getShareURL(),i=new RegExp("\\n{0,2}"+RegExp.escape(n)+"\\S*\\n{0,2}","igm");t=t.replace(i,""),this.set("body",t)}function p(e){return"string"==typeof e&&"soundcloud"===e.toLowerCase()}function h(){this.clearStoredValues(),this.set("body","")}var f,g=n(3),m=n(229),v=n(174),y=n(16),_=n(138),b=n(328),x=n(346),w=n(216),k=n(927),C=n(83),S=n(82);f=e.exports=v.extend(k,{fields:{recipients:{defaultValue:[]},body:{defaultValue:""},links:{defaultValue:[]},attachments:{defaultValue:[]}},constraints:{body:[[_,{message:"Please write a message"}],[b,{maxLength:2e4,message:"Message must not exceed {maxLength} characters"}]],recipients:[[_,{message:"Please choose a user"}]]},buttons:{send:{label:"Send",action:"send"}},serialization:{restoreAndStoreOnSetup:!0,fields:["body"]},actions:{"default":"send",send:function(e){var t=C.defer(),n=this.get("recipients")[0],i=this.get("body");return this.validate().done(function(r){r?m.send(n,i,e.showSuccessMessage).done(t.resolve).fail(t.reject):t.reject()}).fail(t.reject),t.done(h.bind(this)),t}},setup:function(e,t){this.serialization.storeKey=t.conversationId&&"conversation_"+t.conversationId,this.listenTo(this,"change:body",o).listenTo(this,"validation:body",u).listenTo(this,"validation:recipients",l).listenTo(this,"removeSoundFromAttached",c)},getRecipientIds:function(){return g.pluck(this.get("recipients"),"id")},addRecipient:function(e){var t=r(e);return t.done(i.bind(this))},addAttachment:function(e,t){this.set("body",this.get("body").replace(/\n*$/,"\n"+e.getShareURL({type:t})+" "))}})},216:function(e,t,n){(function(t){var i,r=n(3),s=n(80),o=n(22),a=n(96),l=n(83),u=n(747),c=n(86),d=n(334),p=n(81),h=/soundcloud\.com\/[a-zA-Z0-9_\/?=#&%-]+/g,f=/^(?:(?:https?:\/\/)?(?:www\.|m\.)?soundcloud\.(?:com|dev))\/?/i,g=/^(?:(?:ht|f)tps?:\/\/|mailto:)/i,m=["accounts","activate","activity","admin","android","announcements","api","apps","artworks","assets","comments","community-guidelines","connect","customize","creativecommons","creator","creators","dashboard","dropbox","emails","errors","events","explore","facebook","faqs","favorites","feedbacks","feeds","for","forums","genres","gifts","google_plus","groups","guestlist","help","hot","invite","imprint","iphone","ipad","ipod","jobs","join-us","latest","login","logout","mac","me","messages","mobile","music","newsletters","notifications","oauth","oauth2","orders","oembed","pages","partners","people","player","playlists","posts","press","pro","press_release","search","session","sets","settings","signup","sitemap","sound","sounds","stats","stream","subscription","terms-of-use","tour","tracks","turn_off_notifications","tags","upload","users","videos","waveform","welcome","widgets","widget.xml","widget","widget.json","you","campaigns","contacts","discover","fans","faq","join-us","logged_exceptions","manifest.webapp","robots","topics"],v=[];u.forEach(function(e){v.unshift(e)}),i=e.exports={getReservedKeywords:function(){return m},updateSCLinks:function(e,n){return n&&n.usertext&&(e=d.usertext(e,n)),n&&n.usertextOneline&&(e=d.usertextOneline(e,n)),e=t("<div>").html(e),e.find("a").each(function(e,n){var s,a,l,u,c,d=n.getAttribute("href"),h=t(n);if(!g.test(d)&&(c=p.parse(d),c.path&&(l=r.find(v,function(e){return e.route.test(n.pathname.slice(1))}))))if("listen"===l.name)s=c.path.split("/").slice(1),h.text(o.capitalize(s[0])+" – "+o.capitalize(s[1]));else if("user"===l.name){if(a=c.path.split("/")[1],i.getReservedKeywords().indexOf(a)>-1)return;if(h.addClass("g-link-user"),u=n.previousSibling,u&&3===u.nodeType&&/@$/.test(u.textContent))return;n.parentNode.insertBefore(document.createTextNode("@"),n),h.text(a)}}),e.html()},scLinksRegexGlobal:h,soundcloudUrlRegex:f,getAudibleModels:function(e){var t,n=this.filterAudibleLinks(e),i=l.defer();return t=n.map(function(e){return"listen"===e.info.name?c.resolve.apply(c,e.info.params):a.resolve.apply(a,e.info.params)}),l.settled(t).always(function(){var e=r.map(arguments,function(e,t){var i=e[0];return i instanceof a||i instanceof c?{audible:i,link:n[t].link}:null});i.resolve(e)}),i},filterAudibleLinks:function(e){var t=s.get("router"),n=["listen","playlist"];return r.reduce(e,function(e,i){var r=t.getUrlInfo(i);return r&&n.indexOf(r.name)>-1&&e.push({info:r,link:i}),e},[])}}}).call(t,n(1))},217:function(e,t,n){var i,r,s,o=n(80),a=n(83),l="//connect.facebook.net/en_US/all.js";i=e.exports={initialized:!1,appId:o.get("fb_app_id"),init:function(){return s||(s=a.defer().done(function(){i.initialized=!0}),r()),s},isLoggedIn:function(){var e=a.defer();return i.init().done(function(){FB.getLoginStatus(function(t){e.resolve("connected"===t.status)})}),e.promise()},login:function(){var e=a.defer();return FB.login(function(t){var n=!!t.authResponse;e.resolve(n,n?t.authResponse.accessToken:null)}),e.promise()},getAccessToken:function(){return FB.getAuthResponse().accessToken},parseXFBML:function(e){FB.XFBML.parse(e)}},r=function(){window.fbAsyncInit=function(){FB.init({appId:i.appId,status:!0,cookie:!0,xfbml:!0}),delete window.fbAsyncInit,s.resolve()};var e,t,n=document,r="facebook-jssdk",o=n.getElementsByTagName("script")[0];n.getElementById(r)||(t=n.createElement("div"),t.id="fb-root",n.body.appendChild(t),e=n.createElement("script"),e.id=r,e.async=!0,e.src=l,o.parentNode.insertBefore(e,o))}},218:function(e,t,n){(function(t){function i(e){var t,n=m.defer(),i=h.setFormat(e[this.imageProperties.read],20),r=this,s=new d({tolerance:1,baseDelay:2e3,maxDelay:8e3,backoffRate:1.5,giveup:6,enabled:!1}),o=new Image;return p.trigger("upload:image:upload_success",this._imageSource),o.onload=function(){var i=r.imageProperties.read;r.get(i)===e[i]&&r.forceChange(i),r.set(e),r.unsetImageFile(),y.endTiming(t,{category:"upload",variable:"image"}),n.resolve(e)},o.onerror=function(){s.failed()},t=y.startTiming(),s.on("enabled",function(){o.src=i+"?"+Date.now()}).on("giveup",n.reject),this.trigger("imageUrlChanged",i),n}function r(e){c.trigger("error",{action:"upload_image",xhr:e}),this.unsetImageFile()}function s(e){var t=new FileReader,n=m.defer();return t.onload=function(e){var t=new Image;t.onload=n.resolve.bind(n,t),t.src=e.target.result},t.onerror=t.onabort=n.reject,t.readAsDataURL(e),n}function o(e,t){var n=m.defer();return s(e).done(function(e){var i=document.createElement("canvas"),r=i.getContext("2d"),s=a(e.width,e.height);i.width=i.height=t,r.imageSmoothingEnabled=r.mozImageSmoothingEnabled=r.oImageSmoothingEnabled=r.webkitImageSmoothingEnabled=!0,r.drawImage(e,s.x,s.y,s.w,s.h,0,0,t,t),n.resolve(i.toDataURL("image/png"))}).fail(n.reject),n}function a(e,t){var n=e-t;return n>0?{x:Math.floor(n/2),y:0,w:t,h:t}:{x:0,y:Math.floor(-n/2),w:e,h:e}}var l,u=n(3),c=n(89),d=n(158),p=n(16),h=n(26),f=n(17),g=n(416),m=n(83),v=n(102),y=n(730);l=e.exports=new f({_imageFile:null,_imageSource:null,_imageDataURI:null,applyTo:function(e,t){e.imageProperties=u.pick(t,"read","write")},defaults:{getImageAltText:function(){return this.get("username")?g.get(this.attributes,!0)+" avatar":g.get(this.attributes)},getImageSaveUrl:function(){return this.saveUrl()}},getImageUrl:function(e){return this._imageDataURI||h.urlFrom(this.attributes,e)},hasOwnImage:function(){return!!this._imageDataURI||!h.isDefaultImage(this.get(this.imageProperties.read))},getPlaceholderUrl:function(e){return this._imageDataURI?!1:h.getPlaceholderUrl(this.getImageUrl(),e)},getImageFileInfo:function(){return{file:this._imageFile,source:this._imageSource}},setImageFile:function(e,t){this._imageSource=t,this._imageFile=e,o(e,500).done(function(n){this._imageDataURI=n,this.trigger("imageDataChanged",{file:e,source:t})}.bind(this))},unsetImageFile:function(e){e=e||{},this._imageFile=this._imageSource=null,e.force&&(this._imageDataURI=null),e.silent||this.trigger("imageDataChanged",{file:null,source:null})},uploadImage:function(){var e,n=this._imageFile;if(v.formData&&n)return p.trigger("upload:image:upload_started",this._imageSource),e=new window.FormData,e.append(this.get("kind")+"["+this.imageProperties.write+"]",n),t.ajax({url:this.getImageSaveUrl(),type:"PUT",data:e,processData:!1,contentType:!1,dataType:"json"}).then(i.bind(this),r.bind(this))}})}).call(t,n(1))},219:function(e,t,n){var i,r=n(17);i=e.exports=new r({applyTo:function(e,t){e.getTitleAttribute=function(){return t.attr}}})},221:function(e,t,n){(function(t){var i,r,s=n(3),o=n(85);r={add:!0,remove:!0,merge:!0},i=e.exports=o.extend({model:null,setup:t.noop,_prepareModel:function(e){return e},_removeReference:t.noop,parse:function(e){return e&&e.collection||e},indexOfEquivalentModel:function(e,t,n){return(t||this.models).indexOf(e,n)},compareModels:function(e,t){return e===t},toJSON:function(){return this.models.slice()},set:function(e,t){var n,i,o,a,l=this.indexOfEquivalentModel.bind(this);for(t=s.defaults({},t,r),e=this.parse(e,t),e=s.isArray(e)?e.slice():[e],n=e.length;n--;)o=e[n],(l(o,e.slice(n+1))>-1||l(o)>-1)&&e.splice(n,1);return this.length+=e.length,i=null!==t.at&&t.at!==a?t.at:this.models.length,Array.prototype.splice.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0}),t.silent||e.forEach(function(e){this.trigger("add",e,this,t)},this),this},remove:function(e,t){var n,i,r,o;for(t||(t={}),e=s.isArray(e)?e.slice():[e],n=0,i=e.length;i>n;n++)o=e[n],r=this.indexOf(o),r>=0&&(this.models.splice(r,1),this.length--,t.silent||(t.index=r,this.trigger("remove",o,this,t)));return this}})}).call(t,n(1))},224:function(e,t,n){var i,r=n(90),s=n(86),o=n(96);i=e.exports=r.extend({resource_type:"user_stream_item",submodelMap:{track:null,playlist:null},baseUrl:null,audible:null,createSubmodel:function(e,t){var n,i="track"===t?s:o,r=this.get(t);r&&(n=new i(r),this.addSubmodel(n),this.listenTo(n,"destroy",this.onSubmodelDestroy),this.audible=n)},onSubmodelDestroy:function(){this.destroy()},equivalentTo:function(e){if(this===e)return!0;var t=this.get("track")||this.get("playlist"),n=e.get("track")||e.get("playlist")||e.attributes;return t.kind===n.kind&&t.id===n.id},getAudible:function(){return this.audible},isSpotlight:function(){return this.get("type").indexOf("_spotlight")>-1},isRepost:function(){return/[_-]repost$/.test(this.get("type"))},isRegular:function(){return!this.isRepost()&&!this.isSpotlight()},toggleSpotlight:function(e){this.isRepost()||(void 0===e&&(e=!this.isSpotlight()),this.set("type",this.get("type").replace(e?/$/:/_spotlight$/,e?"_spotlight":"")))},getModelData:function(){return this.get("track")||this.get("playlist")}},{convert:function(e){var t=e instanceof s,n=e.toJSON();return new i({type:n.kind,created_at:n.created_at,track:t?n:null,playlist:t?null:n})}})},229:function(e,t,n){function i(e,t,n){var i,r=c.instances.get(n.id),s=new o;r&&r.add(n.last_message),s.add(n,{userAction:!0,merge:!0}),i=a.instances.get(n.id),i&&i.markAsRead(),u.trigger("new-message:sent",{recipient:e,showSuccessMessage:t})}function r(e,t){var n,i=function(e){return t.responseText.indexOf(e)>-1};t.responseText&&(n=i("confirmed their address")?"emailnotconfirmed":i("sender must be followed")?"privacy":i("sender is muted")?"youaremuted":i("rate limit")?"ratelimit":i("receiver does not exist")?"receiverdoesntexist":null,n&&u.trigger("new-message:failed",{errorCode:n,recipient:e}))}function s(e){e.forEach(function(e){var t=this.get(e);t||this.add({id:e},{at:0})},this),this.trigger("new-conversations-added")}var o,a=n(145),l=n(330),u=n(16),c=n(694),d=n(85);o=e.exports=d.extend({model:a,currentConversationId:null,baseUrl:l.baseUrl,setup:function(){this.listenTo(u,"new-unread-messages",s)},getCurrentConversationId:function(){return this.currentConversationId},fetch:function(e){return d.prototype.fetch.apply(this,arguments).done(function(){e&&e.reset&&this.trigger("new-conversations-added")}.bind(this))},setCurrentConversationId:function(e){e!==this.currentConversationId&&(this.currentConversationId=e,this.trigger("change:currentConversationId",{currentConversationId:e}))},comparator:function(e,t){return t.lastMessageSentAt()-e.lastMessageSentAt()}},{hashFn:function(){return 1},neverRelease:!0,send:function(e,t,n){var s=l.post(e.id,t);return s.done(i.bind(this,e,n)).fail(r.bind(this,e)),s}})},232:function(e,t,n){var i,r=n(3),s=n(80),o=n(221),a=n(81);i=e.exports=o.extend({defaults:{prefix:"",context:null,urn:null},baseUrl:function(){var e=this.options;return a.stringify({path:["search","suggest","tags"],query:{q:e.prefix.toLowerCase(),highlight_mode:"offsets",context:e.context&&e.context.map(function(e){return e.toLowerCase()}).join(","),urn:e.urn,user_id:s.get("me").id}})},parse:function(e){return r.pluck(e.suggestions,"id")}},{hashFn:function(e,t){return[t.prefix,JSON.stringify(t.context),t.urn].join(";")}})},233:function(e,t,n){function i(e){e.length>0&&h.trigger("new-unread-messages",e)}function r(e){var t;e.forEach(function(e){t=c.instances.get(e),t&&t.setRead(!0)},this)}function s(){var e=f[this.notificationType];return{backoffRate:1.1,baseDelay:e.get("minPollInterval"),maxDelay:e.get("maxPollInterval")}}function o(){this._breaker&&this.restart()}function a(){this.trigger("anyUnreadMessages",this.hasAnyUnreadMessages())}function l(e){this.remove(e),a.call(this)}var u,c=n(145),d=n(85),p=n(158),h=n(16),f=n(183),g=n(3);u=e.exports=d.extend({model:c,notificationType:"unreadConversations",defaults:{limit:20},setup:function(){this.listenTo(f[this.notificationType],"pollIntervalChange",o).listenTo(h,"conversation:read",l)},baseUrl:function(){return f[this.notificationType].get("baseUrl")()},startPolling:function(){if(!this._isPolling){var e,t;e=this._breaker=new p(s.call(this)),this._isPolling=!0,t=function(){this._isPolling&&(clearTimeout(this._pollingId),this.fetch({reset:!0,remove:!0}).done(function(){e.succeeded(),this._pollingId=setTimeout(t,e.currentDelay())}.bind(this)).fail(function(t){t.status>=400&&t.status<500?e.disable({autoEnable:!1}):e.failed()}))}.bind(this),this._breaker.on("enabled",t),t()}},stopPolling:function(){this._isPolling&&(clearTimeout(this._pollingId),this._pollingId=null,this._isPolling=!1,this._breaker.dispose(),this._breaker=null)},restart:function(){this.stopPolling(),this.startPolling()},parse:function(){return this.next_href=null,d.prototype.parse.apply(this,arguments)},reset:function(e,t){var n,s,o,l;t=t||{},n=d.prototype.reset.call(this,e,t),o=g.pluck(n,"id"),s=g.difference(t.previousModels,this.models),l=g.pluck(s,"id"),i(o),r.call(this,l),a.call(this)},hasAnyUnreadMessages:function(){return this.length>0}},{hashFn:function(){return 1},onCleanup:function(e){e.stopPolling()},neverRelease:!0})},235:function(e,t,n){function i(e){return"This "+(r(e)?"track":"playlist")}function r(e){return"sound"===e.resource_type}function s(e){return new Date(e).format()}var o,a=n(125);o=e.exports={enabledAttributes:function(e){return{isPrivate:e.isPrivate(),isGeoblocked:e.isGeoblocked(),isMonetizable:e.isMonetizable(),isPublisherBlocked:e.isPublisherBlocked(),hasScheduledPrivacy:e.hasScheduledPrivacy()}},publisherBlocked:function(e){return e.isPublisherBlocked()?i(e)+" is in the publishing clearing process":void 0},sharing:function(e){return e.isPrivate()?i(e)+" is private":void 0},monetization:function(e){var t,n,r,o="";return e.isMonetizable()?(t=e.get("monetization"),n=t.start_timestamp,r=t.end_timestamp,n&&(o+=r?" between":" from",o+=" "+s(n)),r&&(o+=n?" and":" until",o+=" "+s(r)),i(e)+" is monetizable"+o):void 0
    },scheduling:function(e){var t="",n=e.get("scheduled_public_date"),r=e.get("scheduled_private_date");return e.hasScheduledPrivacy()?(n&&e.isPrivate()&&(t+=" public on "+s(n)),r&&(t.length&&(t+=", and will go"),t+=" private on "+s(r)),i(e)+" will go"+t):void 0},geoblocking:function(e){if(e.isGeoblocked()){var t=a.complement(e.get("geo_blockings")),n="";return n=1===t.length?a.country(t[0]).title:t.length+" countries",i(e)+" will only be playable in "+n}}}},236:function(e){e.exports={centered:function(e,t,n,i){var r=Math.min(t,window.screen.width-50),s=Math.min(n,window.screen.height-50),o=window.screenX+(window.outerWidth-r)/2,a=window.screenY+(window.outerHeight-s)/2;return window.open(e,i||"",["location=1","width="+r,"height="+s,"top="+a,"left="+o,"toolbar=no","scrollbars=yes"].join(","))}}},243:function(e,t,n){var i,r=n(103),s=new r("upload-settings");i=e.exports={getUploadAsPlaylist:function(){var e=s.get("asPlaylist");return void 0===e?!0:e},toggleUploadAsPlaylist:function(){s.set("asPlaylist",!this.getUploadAsPlaylist())}}},251:function(e,t,n){var i,r=n(167),s=n(81);i=e.exports=r.extend({baseUrl:"me/mutings/users/",CREATE:"POST",url:function(e,t,n){return"CREATE"!==t?r.prototype.url.call(this,e,t):s.stringify({path:["me","blockings"],query:{user_id:e,reported:n&&n.reported?"true":null}})}})},252:function(e,t,n){function i(e){return e||""}var r,s=n(3),o=n(80),a=n(90),l=n(81);r=e.exports=a.extend({resource_type:"stats-totals",baseUrl:function(){var e=this.options;return l.stringify({path:"/"+l.joinPath(s.compact([].concat("users",e.user,e.track&&["tracks",e.track],"stats","totals",e.singleMetric)))},o.get("api_v2_host"))},fetch:function(e){var t=this.options.from,n=this.options.to;return t&&n&&(e=s.extend({data:{from:+t,to:+n}},e)),a.prototype.fetch.call(this,e)},parse:function(e){return e&&e.period||e}},{hashFn:function(e,t){return t=t||{},[t.singleMetric,+t.from,+t.to,t.track].map(i).join("_")}})},318:function(e,t,n){var i,r=n(3),s=n(89),o=n(85),a=n(82);i=e.exports=o.extend({actionName:null,defaults:{resource_id:null,resource_type:null},model:a,setup:function(){var e=r.result(this,"actionName"),t=this.options.resource_type,n=[e,"target",t,this.options.resource_id].join(":");if(null===this.actionName)throw new Error("Interactors collection should define an action name the collection subscribes to.");this.listenTo(s,n,this.onAction)},onAction:function(e){if(e.state)this.add({id:e.origin},{at:0});else{var t=this.get(e.origin);t&&this.remove(t)}}})},319:function(e,t,n){function i(){var e="user"===this.options.playlists_for?"users":"tracks";return["/"+e,this.options.resource_id,"playlists"].join("/")}var r,s,o=n(80),a=n(85),l=n(175),u=n(96),c=n(81);r=e.exports=l.extend({model:u,defaults:{resource_id:null,playlists_for:null,exclude:null},setupSources:function(){var e=this.options.exclude;return e&&(this.filters=[function(t){return t.id!==e}]),[new s(null,this.options)]}},{hashFn:function(e,t){var n=s.hashFn.apply(this,arguments);return t.exclude&&(n+="_"+t.exclude),n}}),s=a.extend({model:u,parse:function(e){return e.collection.map(function(e){return delete e.tracks,e})},baseUrl:function(){return c.stringify({path:i.call(this),query:{representation:"mini"}},o.get("api_v2_host"))}},{hashFn:function(e,t){return[t.playlists_for,t.resource_id,t.limit,t.offset].join("_")}})},320:function(e,t,n){var i,r,s=n(3),o=n(85),a=n(40),l=n(346);r={query:null,kind:"all"},i=e.exports=o.extend({regex:null,model:l,defaults:{limit:1500},baseUrl:function(){return"i1/me/shortcuts"},filterBy:function(e){return s.defaults(e,r),this.regex=e.query?new RegExp("(^|[\\s.\\(\\)\\[\\]_-])("+e.query.replace(/([.?*+\^$\[\]\\(){}\-])/g,"\\$1")+")","i"):null,this.filter(function(t){var n=this.regex?this.regex.test(a(t.getTitle())):!0,i="all"===e.kind||e.kind===t.get("kind");return i&&n}.bind(this))},getRegex:function(){return this.regex},parse:function(e){return e}},{hashFn:function(){return 1}})},321:function(e,t,n){var i,r=n(126),s=n(175),o=n(212),a=n(82),l=n(224),u=n(371);i=e.exports=s.extend(r,{model:l,getSourceInfo:function(){return{type:"user-profile",resourceId:this.options.resource_id||this.options.userId,resourceType:"user"}},setupSources:function(){var e,t,n;return t=[new u(null,{userId:this.options.resource_id||this.options.userId})],e=a.instances.get(this.options.userId),n=e&&e.getPerk("spotlight"),(n||void 0===n)&&t.unshift(new o(null,{userId:this.options.resource_id||this.options.userId})),t},audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()}},{hashFn:function(e,t){return(t.userId||t.resource_id)+"_stream"}})},322:function(e,t,n){var i,r=n(86),s=n(130);i=e.exports=s.extend({model:r,fetchFromApiV2:!0,defaults:{limit:20,type:"tracks"}})},323:function(e,t,n){var i,r=n(130),s=n(415);i=e.exports=r.extend({model:s,defaults:{type:"web-profiles"},getProfileByName:function(e){return this.find(function(t){return t.get("service")===e})},getOtherProfileByUrl:function(e){return this.find(function(t){return"other"===t.get("service")&&-1!==t.get("url").indexOf(e)})},parse:function(){return this.next_href=null,r.prototype.parse.apply(this,arguments)}})},324:function(e,t,n){var i,r=n(746),s={free:"Count plays, likes, comments, and downloads.",pro:"See who's playing your tracks and in which countries you're most popular.",unlimitedLocations:"See who's playing your tracks and in which countries and cities you're most popular.",unlimitedSources:"Know from which pages, apps, and social networks your tracks are being played."},o=[{name:"Basic stats",features:[s.free]},{name:"Extensive stats",features:[s.free,s.pro]},{name:"Comprehensive stats",features:[s.free,s.unlimitedLocations,s.unlimitedSources]}],a={free:{title:"Free",upload:"Upload <strong>3 hours</strong> total",stats:o[r.get("free","stats")],quietMode:{isEnabled:r.get("free","quietMode"),message:"No Quiet Mode"},spotlight:{isEnabled:r.get("free","spotlight"),message:"No Spotlight"}},pro:{title:"Pro",upload:"Upload <strong>6 hours</strong> total",stats:o[r.get("creator-pro","stats")],quietMode:{isEnabled:r.get("creator-pro","quietMode"),message:"Post in Quiet Mode"},spotlight:{isEnabled:r.get("creator-pro","spotlight"),message:"Spotlight your tracks and playlists on your profile"}},pro_unlimited:{title:"Pro Unlimited",upload:"Upload <strong>unlimited*</strong> tracks",stats:o[r.get("creator-pro-unlimited","stats")],quietMode:{isEnabled:r.get("creator-pro-unlimited","quietMode"),message:"Post in Quiet Mode"},spotlight:{isEnabled:r.get("creator-pro-unlimited","spotlight"),message:"Spotlight your tracks and playlists on your profile"}}};i=e.exports={"subscription-free":{id:"subscription-free",features:a.free},"subscription-pro":{features:a.pro},"subscription-pro-unlimited":{features:a.pro_unlimited},"gift-free":{id:"gift-free",features:a.free},"gift-pro":{features:a.pro},"gift-pro-unlimited":{features:a.pro_unlimited}}},326:function(e,t,n){function i(e,t){this.set("service",s(t))}function r(e){var t;this.get("url")?(t=this.createWebProfile(null,u.get("me").id),t.set(l.pick(this.attributes,"url","title","service")),t.save().done(e.resolve).fail(e.reject)):e.resolve()}function s(e){var t;return e?(l.any(f,function(n,i){return n.test(e)?(t=i,!0):void 0}),t||"personal"):""}function o(){var e=this.getAttributesFromModel();this.set(e),this.markFieldsClean()}var a,l=n(3),u=n(80),c=n(174),d=n(83),p=n(712),h=n(415),f={facebook:/facebook\.com/i,twitter:/twitter\.com/i,myspace:/myspace\.com/i,lastfm:/(last\.fm|lastfm\.[a-z]*)/i,youtube:/youtube\.com/i,google_plus:/plus\.google\.com/i,beatport:/beatport\.com/i,discogs:/discogs\.com/i,flickr:/flickr\.com/i,hypem:/hypem\.com/i,ning:/ning\.com/i,posterous:/posterous\.com/i,purevolume:/purevolume\.com/i,residentadvisor:/residentadvisor\.net\/(profile|dj)/i,residentadvisorlabel:/residentadvisor\.net\/record-label/i,reverbnation:/reverbnation\.com/i,soundcloud:/soundcloud\.com/i,songkick:/songkick\.com/i,tumblr:/tumblr\.com/i,vimeo:/vimeo\.com/i,virb:/virb\.com/i,wordpress:/wordpress\.com/i,ccmixter:/ccmixter\.org/i,itunes_podcast:/itunes\.apple\.com/i,instagram:/instagram\.com/i,foursquare:/foursquare\.com/i,flavors:/flavors.me/i,thedjlist:/thedjlist.com/i,berklee:/berkleemusic\.com/i,whatpeopleplay:/whatpeopleplay\.com/i,zeroinch:/zero-inch\.com/i,gigatools:/gigs\.gigatools\.com/i,freesound:/freesound\.org/i,bandpage:/bandpage\.com/i};a=e.exports=c.extend({resource_type:"web-profile-form",_webProfile:null,fields:{url:{defaultValue:""},title:{defaultValue:""},service:{defaultValue:""}},constraints:{url:[[p,{strict:!0}]]},actions:{save:function(){var e=d.defer();return this.validate().done(function(t){t?this.saveEdits().done(e.resolve).fail(e.reject):e.reject()}.bind(this)),e}},setup:function(e,t){var n=e&&e.id||t.resource_id;this._webProfile=this.createWebProfile(n),o.call(this),this.listenTo(this,"change:url",i)},saveEdits:function(){var e,t=d.defer();return this.isDirty()?(e=this.getWebProfile(),e.isNew()?r.call(this,t):e.destroy().done(r.bind(this,t))):t.resolve(),t.done(this.markFieldsClean.bind(this))},removeWebProfile:function(){this.getWebProfile().isNew()?this.destroy():(this.set({title:"",url:"",service:""}),this.markFieldsDirty(["title","url","service"])),this.trigger("deleted",{form:this})},createWebProfile:function(e,t){var n=e?{resource_id:e}:null,i=t?{userId:t}:null,r=new h(n,i);return this.addSubmodel(r),r},getAttributesFromModel:function(){return l.pick(this.getWebProfile().attributes,"title","url","service")},getWebProfile:function(){return this._webProfile},isActive:function(){return this.isNew()||!!this.get("url")}},{hashFn:function(e,t){return e.id||t.resource_id||null}})},327:function(e,t,n){(function(t){function i(){a.current.dispose()}function r(e){if(e.key){var t,n,i,r;t=b.exec(e.key),t&&(i=c.getItem(e.key),n=t[0],r=u[n],r&&null===i?r===a.current?r.store.write():(r.dispose(),delete u[n]):!r&&i&&(u[n]=new l(n)))}}function s(){if(p.get("pageVisible")&&a.size()>1){var e=1679616,t=("0000"+(Math.random()*e).toString(36)).substr(-4);h.broadcast({excludeThis:!0},"instances:ping",t),d.delay(function(){p.get("pageVisible")&&a.each(function(e,n){if(n!==_){var i=e.get("pong");i!==t&&(e.dispose(),delete u[n])}})},v)}}function o(e){a.current.set("pong",e)}var a,l,u,c,d=n(3),p=n(80),h=n(16),f=n(103),g=n(102),m=3e4,v=1e3,y="inst_",_=y+Date.now(),b=new RegExp(y+"\\d{13}$");g.localStorage?(a=e.exports={initialize:function(){var e,n,a,p;for(c=window.localStorage,u={},this.current=u[_]=new l(_),u[_].store.write(),["each","some","every","map","filter","find"].forEach(function(e){this[e]=d[e].bind(d,u)}.bind(this)),e=0,n=c.length;n>e;++e)a=c.key(e),a!==this.current.store.keyName&&(p=b.exec(a))&&(u[p[0]]=new l(p[0]));setInterval(s,m),h.on("broadcast:instances:ping",o),t(window).on("unload",i),window.addEventListener("storage",r,!1)},size:function(){return Object.keys(u).length}},l=function(e){this.store=new f(e),e===_&&(this.set=this.store.set.bind(this.store))},d.extend(l.prototype,{get:function(e){return this.store.get(e)},dispose:function(){return this.store.dispose()}})):a=e.exports=null}).call(t,n(1))},328:function(e,t,n){var i,r=n(149);i=e.exports=r.extend({maxLength:100,message:"{maxLength} characters max",check:function(e,t){t(e.length<=this.maxLength)}})},329:function(e,t,n){(function(t){function i(e,n){var i=c.stringify({scheme:document.location.protocol.replace(/:/,""),host:o.get("public_api_host").replace(/^https?:\/\/api\./,""),path:[e,n]}),r=c.stringify({host:o.get("api_v2_host"),path:"resolve",query:{permalink_url:i}});return t.getJSON(r)}var r,s=n(3),o=n(80),a=n(149),l=n(96),u=n(83),c=n(81),d=n(82),p=[{rule:/^(?![_-])/,errorMessage:"Permalinks must not start with an underscore or hyphen"},{rule:/^(?!.*[-_]$)/,errorMessage:"Permalinks must not end with an underscore or hyphen"},{rule:/^(?!.*[\-_]{2,})/,errorMessage:"Permalinks must not have two consecutive underscores or hyphens"},{rule:/^[a-z0-9_-]*$/,errorMessage:"Only numbers, letters, underscores and hyphens are permitted"},{rule:/[a-z]/,errorMessage:"Permalinks must contain at least one letter"},{rule:/^.{3,255}$/,errorMessage:"Permalink must be between 3 and 255 characters"}],h={playlist:[],sound:[{rule:new RegExp("^(?!("+["assets","comments","download","dropbox","favorites","follow","followers","followings","group","likes","manage","music","new","sets","spotlight","stats","stream","track-manager"].join("|")+")$)"),errorMessage:"This permalink is reserved. Please choose another one"}],user:[{rule:new RegExp("^(?!("+["101","accounts","activate","activity","admin","android","announcements","api","apps","artworks","assets","comments","community-guidelines","connect","customize","creativecommons","creator","creators","dashboard","dropbox","emails","errors","events","explore","facebook","faqs","favorites","feedbacks","feeds","for","forums","genres","gifts","google_plus","groups","guestlist","help","hot","invite","imprint","iphone","ipad","ipod","latest","login","logout","mac","manage","me","messages","mobile","music","newsletters","notifications","oauth","oauth2","orders","oembed","pages","partners","people","player","playlists","posts","press","pro","press_release","search","session","sets","settings","signup","sitemap","sound","sounds","stats","stream","subscription","terms-of-use","tour","tracks","track-manager","turn_off_notifications","tags","upload","users","videos","waveform","welcome","widgets","you"].join("|")+")$)"),errorMessage:"This permalink is reserved. Please choose another one"}]};r=e.exports=a.extend({type:"sound",initialize:function(){a.prototype.initialize.apply(this,arguments),this.constraints=p.concat(h[this.type])},check:function(e,t){if(""===e)return void t(!0);var n=s.find(this.constraints,function(t){return!t.rule.test(e)});n?(this.message=n.errorMessage,t(!1)):this.resolvePermalink(e).done(function(){this.message="This permalink is already in use. Please try another.",t(!1)}.bind(this)).fail(function(){t(!0)})},resolvePermalink:function(e){var t,n=this.getResource.call(this._form),r=o.get("me").get("permalink");return n&&e===n.get("permalink")?t=u.reject():"sound"===this.type?t=i(r,e):"playlist"===this.type?t=l.resolve(r,e):"user"===this.type&&(t=d.resolve(e)),t}})}).call(t,n(1))},330:function(e,t,n){(function(t){function i(){return u.get("messages_on_api_v2")}function r(e,t){return e+":"+t}function s(){return i()?l.stringify({path:"/"+l.joinPath(["users",a.get("me").id,"conversations"])},a.get("api_v2_host")):"me/conversations"}var o,a=n(80),l=n(81),u=n(111);o=e.exports={parseOtherId:function(e){var t,n=String(a.get("me").id);return"string"==typeof e?(t=e.split(":"),t[0]===n?t[1]:t[0]):void 0},baseUrl:function(){var e=s();return arguments.length&&(e=e+"/"+l.joinPath([].slice.call(arguments))),e},baseUrlWithId:function(e){var t=[].slice.apply(arguments);return i()&&(t[0]=o.parseOtherId(e)),o.baseUrl.apply(null,t)},post:function(e,n){var s,l,u={},c=a.get("me").id;return i()?(s=o.baseUrl(e),l="contents"):(s=o.baseUrl(),u.id=r(c,e),l="content"),u[l]=n,t.ajax({type:"POST",url:s,dataType:"json",data:u})}}}).call(t,n(1))},331:function(e,t,n){var i,r=n(83);i=e.exports={confirm:function(e){var t=window.confirm(e),n=r.defer();return n[t?"resolve":"reject"]()}}},332:function(e,t,n){function i(e){return e.toUpperCase()}var r,s=n(40),o=RegExp.escape(".,'\"()[]-"),a=new RegExp("^[^\\s"+o+"]"),l=new RegExp("(?:^|\\s)[\\s"+o+"]?[^\\s"+o+"]","g");r=e.exports={sentenceCase:function(e){return e.replace(a,i)},titleCase:function(e){return e.replace(l,i)},permalink:function(e){return s(e).toLowerCase().replace(/\s/g,"-").replace(/[^a-z0-9_-]+/g,"").replace(/^[_-]+|[_-]+$/g,"").replace(/([-_])[-_]+/g,"$1").replace(/^[^a-z]+$/,"$&a")}}},333:function(e,t,n){function i(){s()}function r(e){o(e.sound)}function s(){u._setTitle((c?c+" on ":"")+f)}function o(e){var t=e.playlist;t?l(t,e):e.has("title")&&e.has("user")?a(e):e.fetch().done(a.bind(!1,e))}function a(e){return u._setTitle(g+e.get("title")+" by "+e.get("user").username)}function l(e,t){u._setTitle(g+t.get("title")+" in "+e.get("title"))}var u,c,d=n(16),p=n(101),h=n(102),f="SoundCloud - Hear the world’s sounds",g=h.audioTabIndicator?"":"▶ ",m=!1;u=e.exports={initialize:function(){m||(m=!0,d.on("audio:play",r).on("audio:pause",i))},deinitialize:function(){m&&(m=!1,d.off("audio:play",r).off("audio:pause",i))},set:function(e){var t=p.getCurrentSound(),n=!(t&&t.isPlaying());c=e,n&&s()},update:function(){var e=p.getCurrentSound();e&&e.isPlaying()&&o(e)},_setTitle:function(e){document.title=e}}},334:function(e,t,n){var i,r=n(3),s=n(7),o={paragraphs:!1,whitelist:[],externalLinks:!1};i=e.exports={usertext:s,usertextOneline:function(e,t){var n=r.extend({},o,t);return this.usertext(e,n)}}},335:function(e,t,n){var i,r=n(110);i=e.exports=r.extend({includeFooter:".l-sidebar-right",css:n(834),template:n(1570)})},336:function(e,t,n){var i,r=n(3),s=n(17),o=n(98);i=e.exports=new s({requires:["adZone"],around:{parse:function(e,t){var n=o.parseResponse(t),i=n.data,r=[];return i&&r.push({ad_urn:n.ad_urn,campaign:"promoted",kind:i.kind,origin:i,promoted_by:n.promoted_by_user,promoted_by_urn:n.promoted_by_urn,tracking:n.tracking}),e(r)}},defaults:{parse:function(e){return e}},override:{url:function(){return null!==this.next_href?this.next_href:o.getAdUrl(this.adZone,r.result(this,"adZoneParams"))}}})},341:function(e,t,n){function i(e){e.length&&(this.add(e,{at:0}),this.trigger("new-data",e))}function r(e,t){this.trigger("change:queue-size",this,t)}var s,o=n(85),a=n(183),l=n(391);s=e.exports=o.extend({notificationType:null,queue:null,initialize:function(){var e,t=this.notificationType;o.prototype.initialize.apply(this,arguments),e=a[t],this.baseUrl=e.get("baseUrl"),this.queue=new l({type:t}),this.queue.on("data",i,this).on("change:size",r,this)},fetchNewItems:function(){this.queue.fetchQueuedItems()},markAsRead:function(e){var t=this.at(0);!e&&t&&(e=t.getUuid?t.getUuid():t.get("uuid")),e&&this.queue.markAsRead(e)}},{onCleanup:function(e){e.queue.off("data",i,e).off("change:size",r,e).release()}})},342:function(e,t,n){var i,r=n(43);i=e.exports={render:function(e,t,n){var i=e(t||{});n&&(n.innerHTML=i)},subviews:function(e){r.replacePlaceholders(e)}}},343:function(e,t,n){(function(t){function i(e){this[e]("change:status",a,this)[e]("imageDataChanged",r,this),this._soundUploads[e]("change:status",l,this)[e]("remove",o,this)}function r(e){this._soundUploads.invoke("setImageFile",e.file,e.source)}function s(e,t){e.forEach(function(e){this.get("transfer")[t?"addTransfer":"removeTransfer"](e.get("transfer")),this.get("transcoding")[t?"addTransfer":"removeTransfer"](e.get("transcoding"))},this)}function o(e,t){s.call(this,[e],!1),t.length||this.cancel()}function a(){var e,t=this.get("status");t!==C.FAILED||this.failedSaving?this.setActionState("save","enabled"):this.setActionState("save","disabled"),t===C.TRANSCODING&&this.get("hasQueuedSave")&&(e=this._soundUploads.map(function(e){return e.saveEdits()}),b.settled(e).always(this.saveEdits.bind(this)))}function l(){var e,t=this._soundUploads,n=!1,i=!1,r=!0,s=!0;this.failedSaving||(t.some(function(e){switch(e.get("status")){case C.UPLOADING:return i=!0,!0;case C.QUEUED:n=!0,s=!1,r=!1;break;case C.TRANSCODING:s=!1,r=!1;break;case C.COMPLETE:r=!1}}),e=i?C.UPLOADING:n?C.QUEUED:r?C.FAILED:s?C.COMPLETE:C.TRANSCODING,e===C.FAILED?this.setToFailed():this.set("status",e))}function u(e){e.forEach(function(e){e.set(h.pick(this.attributes,S))},this)}function c(e){e.changedAttributes()&&this._soundUploads.each(function(t){t.set(h.pick(e.changedAttributes(),S))})}var d,p,h=n(3),f=n(89),g=n(731),m=n(85),v=n(174),y=n(329),_=n(96),b=n(83),x=n(384),w=n(124),k=n(722),C=n(143),S=["description","tags","editing","feedable","artwork_url","buyLink","buyTitle","sharing","streamable","embeddableByAll","domainLocking","downloadable","license","creativeCommonsLicense","attribution","nonCommercial","nonDerivative","shareAlike","commentable","publicComments","stats","geoblocking","geoblockings","labelName","releaseDate"];p=m.extend({model:w,url:null,isFullyPopulated:function(){return!0},hasDataForView:function(){return!0}}),d=e.exports=v.extend(k,x,{_soundUploads:null,_playlist:null,failedSaving:!1,resource_type:"playlist-upload",constraints:{permalink:[[y,{type:"playlist",getResource:function(){return this.getAudible()}}]]},actions:{save:function(){var e=b.defer(),t=b.defer(),n=function(e){var i;return e.length?(i=e.pop(),i.set("editing",!1),i.saveEdits().always(n.bind(this,e))):t.resolve(),t};return this.validate().done(function(t){t?(this.set("editing",!1),n(this.getSoundUploads().slice()).done(function(){this.saveEdits().done(e.resolve).fail(e.reject)}.bind(this)).fail(function(){this.set("hasQueuedSave",!0),e.reject()}.bind(this))):e.reject()}.bind(this)).fail(e.reject),e}},getAttributesToBeSaved:function(){return{}},setup:function(){this._soundUploads=new p,i.call(this,"on"),this.set("transfer",new g),this.set("transcoding",new g),this.on("change",c,this)},validate:function(){var e=b.defer(),t=v.prototype.validate.apply(this,arguments),n=this._soundUploads.map(function(e){return e.validate()});return n.push(t),b.all(n).done(function(){var t=Array.prototype.slice.call(arguments);e.resolve(t.every(h.identity))}),e},addFiles:function(e){var t=e.map(function(e){var t=new w({file:e},{inPlaylist:!0});return t.release(),t});return this._soundUploads.add(t),u.call(this,t),s.call(this,t,!0),this._soundUploads.length},onAudibleSaved:function(){var e=this.getAudible();return this._soundUploads.each(function(t){var n,i=t.getAudible();e.addSound(i),n=e.findSoundById(i.id),t.updateSound(n)}),e.saveOrder().done(function(){this.failedSaving=!1,this.set("hasBeenSaved",!0)}.bind(this)).fail(this.onSaveFailed.bind(this))},onSaveFailed:function(e){this.failedSaving=!0,this.setToFailed("save",e),this.set("editing",!0)},cancel:function(){var e;for(e=this._soundUploads.length;e--;)this._soundUploads.at(e).cancel();this.destroy(),this._playlist&&f.destroy(this._playlist)},resetOrder:t.noop,saveOrder:t.noop,getCurrentOrder:function(){return h.pluck(this.getSoundUploads(),"resource_id")},reorder:function(e){var t=this._soundUploads,n=t.comparator;t.comparator=function(t){return e.indexOf(t.resource_id)},t.sort({silent:!0}),t.comparator=n},getAudible:function(){return this._playlist},createAudible:function(){return this._playlist=new _,this._playlist},getSoundUploadsCollection:function(){return this._soundUploads},getSoundUploads:function(){return this._soundUploads.models}},{onCleanup:function(){this._playlist&&this._playlist.release(),s.call(this,this.getSoundUploads(),!1),i.call(this,"off"),this._soundUploads.release()}})}).call(t,n(1))},346:function(e,t,n){var i,r,s=n(90);r={like:"title",following:"username",group:"name"},i=e.exports=s.extend({resource_type:"shortcut",url:null,getTitle:function(){var e=r[this.get("kind")];return this.get(e)},getArtworkUrl:function(){var e=this.get("following"===this.get("kind")?"avatar_url":"artwork_url");return e||n(536)},getPermalink:function(){return this.get("permalink_url").replace(/^https?:.+?\w\//,"/")}},{hashFn:function(e){return e.kind?[e.kind,e.id].join("_"):e.id}})},347:function(e,t,n){var i,r=n(3),s=n(2);i=e.exports={getMarkup:function(e,t,n){if(Array.isArray(t))return t.map(function(t){return i.getMarkup(e,t,n)}).join("");n=n||{};var o=[],a=n.whitelist,l="self"===n.closingTag?"/":"",u=n.closingTag===!0?"</"+e+">":"";return r.each(t,function(e,t){"style"===t&&"object"==typeof e&&(e=this.getStyleAttr(e)),a&&-1===a.indexOf(t)||o.push(" "+t+'="'+s.Utils.escapeExpression(e)+'"')},this),"<"+e+o.join("")+l+">"+u},getStyleAttr:function(e){return r.map(e,function(e,t){return null!=e&&""!==e?t+":"+e+";":""}).join("")}}},358:function(e,t,n){e.exports=n.p+"assets/images/header/header-icons-1afa05.png"},361:function(e,t,n){var i,r=n(719),s=n(341);i=e.exports=s.extend(r,{notificationType:"activities",parse:function(e){var t=e.collection;return t&&t.forEach(function(e){e.user&&(delete e.user.cpp,delete e.user.feeds_enabled,delete e.user.default_tracks_feedable),e.resource&&(delete e.resource.cpp,delete e.resource.feeds_enabled,delete e.resource.default_tracks_feedable)}),t}},{hashFn:function(){return 1}})},362:function(e,t,n){var i,r=n(3),s=n(109),o=n(363),a=n(111),l=n(81);i=e.exports=o.extend({baseUrl:function(){return l.stringify({path:["app","v2","tracks",this.options.sound_id,"comments"],query:{filter_replies:1,embed_avatars:a.get("embed_avatars")?1:0}})},getCommentAtTimestamp:function(e,t){return t=r.isNumber(t)?t:0,this.find(function(n){var i=n.get("timestamp"),r=e-i;return 0===t?i===e:r>=0&&Math.abs(r)<=t&&i!==s.EMPTY_TIMESTAMP})||null},onCommentCreated:function(e){e.get("replyTo")||this.add(e,{at:0})}},{hashFn:function(e,t){return t&&t.sound_id||null}})},363:function(e,t,n){function i(e){e.state&&-1===this.indexOf(e.object)&&this.onCommentCreated(e.object)}var r,s=n(89),o=n(85),a=n(109),l=n(86);r=e.exports=o.extend({model:a,defaults:{sound_id:null,secret_token:null},soundDuration:null,setup:function(e){var t=new l({id:e.sound_id});0===t.get("comment_count")&&(this.lastFetchTime=Date.now()),this.options.secret_token=t.get("secret_token"),this.soundDuration=t.duration(),t.release(),this.listenTo(s,"comment:target:sound:"+e.sound_id,i)},baseUrl:function(){return["tracks",this.options.sound_id,"comments"].join("/")},parse:function(e){var t=/^http:/;return e.collection.map(function(e){return e.timestamp=this.normalizeTimestamp(e.timestamp),t.test(e.user.avatar_url)&&(e.user.avatar_url=e.user.avatar_url.replace(t,"https:")),e},this)},normalizeTimestamp:function(e){return(e>this.soundDuration||0>e)&&(e=a.EMPTY_TIMESTAMP),e},onCommentCreated:function(e){this.add(e,{at:0})}},{hashFn:function(e,t){return t&&t.sound_id||null}})},364:function(e,t,n){var i,r=n(85),s=n(86);i=e.exports=r.extend({model:s,next_href:!1,lastFetchTime:Date.now()})},367:function(e,t,n){function i(e){return e.resource_type="playlist"===e.kind?"playlist":"sound",e}var r,s=n(84),o=n(126),a=n(85),l=n(80),u=n(81),c=n(111),d=null;r=e.exports=a.extend(o,{model:s,audioSourceVersion:null,defaults:{resource_id:null,resource_type:null},getSourceInfo:function(){return{type:"recommender",version:this.audioSourceVersion,resourceId:this.options.resource_id,resourceType:this.options.resource_type}},parse:function(e){return this.audioSourceVersion=e.version||"no_version",e.collection.map(i)},baseUrl:function(){var e=l.get("me").id||null;return e||d||(d=Math.floor(1e8*Math.random())),u.stringify({host:l.get("api_v2_host"),path:["tracks",this.options.resource_id,"related"],query:{user_id:e,anon_user_id:e?null:d,variant:c.get("w2v_related_sounds")?"w2v":null}})}},{hashFn:function(e,t){return t.resource_id}})},371:function(e,t,n){var i,r,s=n(89),o=n(80),a=n(18),l=n(380),u=n(113),c=n(130),d=n(224);i=e.exports=c.extend(l,{model:d,defaults:{type:"sounds"},setup:function(e){this.isMe=a.currentUserId()===e.userId,this.listenTo(s,"repost:origin:user:"+e.userId,r)},baseUrl:function(){return o.get("api_v2_host")+"profile/"+u.generate("user",this.options.userId)},parse:function(e){var t=e.collection,n=a.currentUserId();return t?(this.isMe||(t=t.filter(function(e){return e.user&&(delete e.user.cpp,delete e.user.feeds_enabled,delete e.user.default_tracks_feedable),e.track||e.playlist&&(e.playlist.track_count||e.playlist.user_id===n)})),t.forEach(function(e){e.type=e.type.replace(/-/g,"_")}),t):[]},audibleAt:function(e){return this.at(e).getAudible()},unshuffle:function(e){return-Date.parse(e.get("created_at"))}}),r=function(e){var t,n="sound"===e.targetType?"track":"playlist",i=n+"_repost";e.state?this.add({type:i,created_at:(new Date).toISOString(),track:"track"===n?{id:e.target}:null,playlist:"playlist"===n?{id:e.target}:null},{at:0}):(t=this.find(function(t){return t.get("type")===i&&t.get(n).id===e.target}),t&&this.remove(t))}},374:function(e){var t,n,i,r=window.location.hostname.replace(/.*\.(.+\..+)/,"$1"),s="."+r,o=864e5;t=e.exports={get:function(e){return i||(i={},document.cookie.split(/\s*;\s*/).forEach(function(e){var t=e.split("=");i[t[0]]=t[1]})),i[e]},set:function(e,t,i){document.cookie=[e+"="+t,i?"expires="+new Date(Date.now()+i*o).toGMTString():"","path=/","domain="+s].filter(Boolean).join(";"),n()},unset:function(e){t.set(e,"",-1),n()}},n=function(){i=null}},375:function(e,t,n){var i,r=n(3),s=n(107),o={base:1e3,digits:1,unit:"MB"};s.isWindows&&(o.base=1024),i=e.exports={bytesToMB:function(e,t){var n=r.extend({},o,t),i=e/Math.pow(n.base,2);return i.toFixed(n.digits)+n.unit}}},376:function(e,t,n){(function(t){var n,i;n=e.exports={getScrollbarSize:function(){if(void 0===i){var e,n,r;e=t('<div class="g-scrollable-inner" style="width:50px;height:50px;overflow:hidden; position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>'),t("body").append(e),n=t("div",e).innerWidth(),e.css("overflow","auto"),r=t("div",e).innerWidth(),e.remove(),i=n-r}return i}}}).call(t,n(1))},378:function(e,t,n){function i(e){var t=e===s.get("me").id,n=o.isLoggedIn();return t&&n}var r,s=n(80),o=n(18),a=n(16),l=n(103),u=n(153),c=n(111),d=n(441),p=new l("already-seen"),h="listen-upsell",f="stream-upsell",g="user-upsell",m="signup-teaser-modal",v=4,y=2;r=e.exports={getUpsellableTrackCount:function(){return v},couldHaveUserUpsell:function(e){return i(e)&&!r.alreadySeenUserUpsell()&&!s.get("me").isPremium()},isValidSound:function(e){var t,n,i,r,o=s.get("me"),a="sound"===e.resource_type;return a&&!e.hasVisuals()&&!o.isPremium()&&o.get("track_count")>=v&&o.owns(e)&&(t=new Date(e.get("created_at")),n=Date.now(),i=new Date(n-36e5),r=new Date(n-6048e5),i>=t&&t>=r)?!0:!1},isValidIndex:function(e,t){return e>-1&&t.length>=v},isValidUserSounds:function(e){var t=e.length&&e.first().get("created_at"),n=new Date(t),i=s.get("me");return!i.isPremium()&&e.length>v&&n>=new Date(Date.now()-6048e5)&&n<=new Date(Date.now()-864e5)},alreadySeenListenUpsell:function(){return 1===p.get(h)},alreadySeenUserUpsell:function(){return 1===p.get(f)?(p.unset(f),this.dismissUserUpsell(),!0):1===p.get(g)},dismissListenUpsell:function(){p.set(h,1)},dismissUserUpsell:function(){p.set(g,1)},startPlayTracking:function(){o.isLoggedIn()||a.on("audio:play",this.onAudioPlay,this)},stopPlayTracking:function(){a.off("audio:play",this.onAudioPlay,this)},onAudioPlay:function(e){var t=u.numSessionPlays(),n=1===p.get(m),i=e.userInitiated;!o.isLoggedIn()&&!n&&t>y&&i&&this.showSignupTeaser(e.sound.getUrn())},showSignupTeaser:function(e){var t,n=c.get("signup_teaser");t=new d({version:n,width:625,soundUrn:e}),t.open(),p.set(m,1)}}},380:function(e,t,n){function i(e){this._poolUrl&&this.options.minPoolSize&&this._pool.length<this.options.minPoolSize&&this.fetch(s.defaults({onlyToPool:!0,url:void 0,restoreUrl:this.next_href,fromPool:!1,reset:!0},e))}var r,s=n(3),o=n(17),a=n(83),l=n(81),u={smallFirstFetch:!0,blockSize:50,minPoolSize:12};r=e.exports=new o({_pool:null,_poolUrl:null,_poolingEnabled:!0,_shuffle:!1,requires:["unshuffle"],applyTo:function(e){var t=e.constructor;this.after(t,{onHold:function(e,t,n){e._pool&&s.invoke(e._pool,"hold",n)},onRelease:function(e,t,n){s.invoke(e._pool,"release",n)}})},togglePooling:function(e){return this._poolingEnabled="boolean"==typeof e?e:!this._poolingEnabled,this},toggleShuffle:function(){if(this._poolingEnabled){var e,t,n,i=this.models.concat(this._pool),r=!this._shuffle;return r?i=s.shuffle(i):(i=s.sortBy(i,this.unshuffle),this._shuffle=r),n=this.models,this.models=i,e=s.find(i,function(e,n){var i=(this.soundAt||this.at).call(this,n);return i&&i.isPlaying&&i.isPlaying()?(t=n,!0):void 0}.bind(this)),this.models=n,e&&t&&(i.splice(t,1),i.unshift(e)),this.reset(i.splice(0,this.options.limit),{fromPool:!0}),this.add(i),r&&(this._shuffle=r),this.next_href=null,this.trigger("shuffled",this,r),this}},isShuffled:function(){return this._shuffle},override:{bulkFetch:function(){throw"bulkFetch does not work with pooled collections"}},after:{removeWhere:function(e){this._pool=this._pool.filter(function(t){var n=e.call(this,t);return n&&this._removeReference(t),!n},this)}},around:{initialize:function(e,t,n){return this._pool=[],n=s.defaults(n||{},u),e(t,n)
    },reset:function(e,t,n){if(!this._poolingEnabled)return e(t,n);var i,r;for(t||(t=[]),n||(n={}),i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i]);for(i=0,r=this._pool.length;r>i;i++)this._removeReference(this._pool[i]);return this._reset(),this._pool.length=0,this.add(t,{silent:!0,parse:n.parse,fromPool:void 0===n.fromPool?!0:n.fromPool}),n.silent||this.trigger("reset",this,n),this},fetch:function(e,t){if(!this._poolingEnabled)return e(t);var n,r,o,u,c,d,p=this.options.limit,h=this.options.smallFirstFetch&&!this._shuffle&&0===this.length;if(t||(t={}),d=t.url||s.result(this,"url"),d&&!t.onlyToPool){if(c=l.parse(d,"query").query,p=parseInt(c.limit,10),o=parseInt(c.offset,10)||0,this._pool.length>=p||this._poolUrl===!1)return n=a.resolve(),this[t.reset?"reset":"add"](this._pool.splice(0,p),s.defaults({fromPool:!0},t)),this.lastFetchTime=Date.now(),this.next_href=this._poolUrl===!1&&0===this._pool.length?!1:l.modify(d,{query:{offset:o+p}}),i.call(this,t),n;this._poolUrl||(this._poolUrl=h?d:l.modify(d,{query:{limit:this.options.blockSize}}))}return this._poolUrl?(t.url=this._poolUrl,r=!(this._requests&&this._requests[t.url]),n=e(s.defaults({reset:!1,remove:!1,merge:!1},t)),r?(n.addAfterFetch=!1,u=this.next_href||d,n.done(function(e){var r,a;this._poolUrl=e.next_href||!1,h&&this._poolUrl&&(this._poolUrl=l.modify(this._poolUrl,{query:{limit:this.options.blockSize}}),i.call(this,s.defaults({add:!0},t))),this.next_href=t.restoreUrl||(this._poolUrl!==!1||this._pool.length?l.modify(u,{query:{offset:o+p}}):!1),(!t.onlyToPool||n.addAfterFetch)&&(r=0===this.models.length,a=this._pool.splice(0,p),s.invoke(a,"release",this._usageCount()),this.add(a,s.defaults({fromPool:!0,silent:r},t)),this._poolUrl!==!1||this._pool.length||(this.next_href=!1),r&&!t.silent&&this.trigger("reset",this,t))}.bind(this))):h||(n.addAfterFetch=!0)):n=a.resolve({}),n},set:function(e,t,n){if(n||(n={}),!this._poolingEnabled||n.fromPool||"number"==typeof n.at&&n.at<=this.models.length)return e(t,s.extend({remove:!1},n));var i=this.models,r=this._byId;return this.models=this._pool,this._byId={},e(t,s.defaults({silent:!0},n)),s.chain(this._pool).last(this.models.length).invoke("off"),this._shuffle&&(this._pool=s.shuffle(this._pool)),this.models=i,this._byId=r,this.length=this.models.length,this}}})},381:function(e,t,n){var i,r=n(17),s=n(188);i=e.exports=new r({_editState:s.NONE,override:{isEditing:function(){return this._editState===s.EDITING},isSaving:function(){return this._editState===s.SAVING},isCanceling:function(){return this._editState===s.CANCELING},getEditState:function(){return this._editState}},setEditState:function(e,t){var n=this._editState;return n!==e&&(this._editState=e,this.trigger("change:editState",this,e,n,t||{})),this}})},382:function(e,t,n){(function(t){function i(e){return e&&e.attrs&&e.attrs.indexOf("visuals")>-1}function r(e){var t=e&&e.attrs;return!t||t.length>1||"visuals"!==t[0]}function s(){var e=f.stringify({path:"/visuals",query:{urn:this.getUrn()}},d.get("visualsHost"));return e}var o,a,l,u=n(3),c=n(158),d=n(80),p=n(17),h=n(83),f=n(81),g=n(955),m=n(701),v=5e3;o=e.exports=new p({_lastVisualsFetch:null,around:{fetch:function(e,n){var o,d,p;return a||(a=new c({giveUp:1})),p=[],r(n)&&p.push(e(n)),i(n)&&(l||(l=new g),l.fetch(),this._lastVisualsFetch||null!=this.get("visuals")?d=this._lastVisualsFetch:(this._lastVisualsFetch=d=h.defer(),this.mayHaveVisuals()?a.enabled?t.ajax({dataType:"json",url:s.call(this),timeout:v}).done(function(e){var t,n=e.visuals||this.get("visuals")||{};e.tracking&&(n.tracking=e.tracking),n&&"sound"===this.resource_type&&(t=new m(u.map(n,function(e){return null!=e.entry_time?e:void 0}).filter(u.identity),{resource_id:this.resource_id}),t.lastFetchTime=Date.now(),t.release()),this.set("visuals",n)}.bind(this)).always(function(e,t,n){"timeout"===n&&a.failed(),this.set("visuals",this.get("visuals")||null),d.resolve()}.bind(this)):(this.set("visuals",this.get("visuals")),d.resolve()):(d.resolve(),this.set("visuals",{}))),d&&p.push(d)),o=h.defer(),h.settled(p).done(function(e){o.resolve.apply(null,e)}).fail(o.reject),o}},mayHaveVisuals:function(){return!l||l.get(this.getUrn())!==!1},hasVisuals:function(){return!u.isEmpty(this.get("visuals"))}})}).call(t,n(1))},383:function(e,t,n){function i(e){return e&&e.replace(/^http:/,"https:")}var r,s=n(3),o=n(17);r=e.exports=new o({applyTo:function(e,t){e.getTypes=s.constant(t&&t.types||{})},defaults:{getShareURL:function(e){return this.getShareAttributes(e).permalink_url}},getShareAttributes:function(e){var t=s.clone(this.attributes),n=e&&e.type,r=n&&this.getTypes()[n];return r&&s.each(r,function(e,n){t[n]=e.replace(/\:([a-zA-Z0-9_-]+)/g,function(e,n){return t[n]})}),t.permalink_url=i(t.permalink_url),t.uri=i(t.uri),t}})},384:function(e,t,n){var i,r=n(3),s=n(85),o=n(17),a=n(83),l=n(188);i=e.exports=new o({_resetOrder:null,_originalOrder:null,requires:["getCurrentOrder","reorder","resetOrder","saveOrder"],around:{saveOrder:function(e,t){var n=a.defer().always(this.setEditState.bind(this,l.NONE));return this.setEditState(l.SAVING),a.all([e(t)]).done(n.resolve).fail(n.reject),this._originalOrder=null,n},resetOrder:function(e,t){var n=a.defer().always(this.setEditState.bind(this,l.NONE));return this.setEditState(l.CANCELING),r.isEqual(this.getOriginalOrder(),this.getCurrentOrder())?n.resolve():(this instanceof s&&(this.next_href=null),a.all([e(t)]).done(n.resolve).fail(n.reject)),n}},saveResetOrder:function(){this._resetOrder=this.getCurrentOrder(),this._originalOrder=this._originalOrder||this._resetOrder},getResetOrder:function(){return this._resetOrder||[]},getOriginalOrder:function(){return this._originalOrder}})},385:function(e,t,n){var i,r=n(17);i=e.exports=new r({requires:["trigger"],defaults:{states:null},_states:null,toggleState:function(e,t,n){var i,r,s,o;return e?(this._states||(this._states={}),this.states||(this.states={}),e in this.states?(e in this._states||(this._states[e]=this.getState(e)),s="undefined"!=typeof t?!!t:!this._states[e],n||this._states[e]!==s?(this._states[e]=s,r=this.states[e],i=r.handler?r.handler:r,o=typeof i,"string"===o?this.$el[s?"addClass":"removeClass"](i):"function"===o?i.call(this,s):i&&"function"==typeof i.setup&&i[s?"setup":"teardown"].call(this),this.trigger("state:"+e,s),this):this):this):this},getState:function(e){return this._states&&e in this._states?this._states[e]:this.states&&e in this.states?!!this.states[e].initial:!1}})},391:function(e,t,n){(function(t){function i(e){var t,n,i;return e&&e.collection&&e.collection.length&&(t=e.collection[0],n=t.last_message?t.last_message.conversation_id+"_"+t.last_message.sent_at:t.uuid||t.id,i=d.isNumber(n)?n>(void 0===this.lastRead?-1:this.lastRead):n!==this.lastRead),i}function r(e){var t=g[e];return!!(h.get("notifications")&&t&&t.channel)}function s(e){var t=e?"on":"off";this[t]("change:size",l)}function o(e){var t=e?"on":"off";g[this.get("type")][t]("pollIntervalChange",a,this)}function a(){var e=this._breaker;e&&this.restart()}function l(e,t){t&&e.stopPolling()}function u(){var e=g[this.get("type")];return{backoffRate:1.1,baseDelay:e.get("minPollInterval"),maxDelay:e.get("maxPollInterval")}}var c,d=n(3),p=n(158),h=n(80),f=n(90),g=n(183),m=n(103),v=n(83),y=n(81),_=new m("notify");c=e.exports=f.extend({channel:null,_queue:null,_waitingQueue:null,_unseenQueue:null,_breaker:null,lastRead:null,_request:null,defaults:{size:null,type:null},initialize:function(e){this._queue=[],this._waitingQueue=[],this._unseenQueue=[];var t=e.type,n=g[t];this.baseUrl=n.get("baseUrl"),this.channel=n.get("channel"),this.lastRead=_.get(t),d.bindAll(this,"onNotification"),r(t)?h.get("notifications").subscribe(n.channel,this.onNotification):this.startPolling(),o.call(this,!0)},startPolling:function(){if(!this._isPolling){var e,t;e=this._breaker=new p(u.call(this)),this._isPolling=!0,t=function(){this._isPolling&&(clearTimeout(this._pollingId),this.fetch({force:!0}).done(function(n){i.call(this,n)?(e.succeeded(),this._pollingId=setTimeout(t,e.currentDelay())):e.failed()}.bind(this)).fail(function(t){t.status>=400&&t.status<500?e.disable({autoEnable:!1}):e.failed()}))}.bind(this),this._breaker.on("enabled",t),s.call(this,!0),t()}},stopPolling:function(){this._isPolling&&(s.call(this,!1),clearTimeout(this._pollingId),this._pollingId=null,this._isPolling=!1,this._breaker.dispose(),this._breaker=null)},restart:function(){this.stopPolling(),this.startPolling()},onNotification:function(e){this._request?this._waitingQueue.push(e):this._queue.push(e),this._unseenQueue.push(e),this.set("size",this._unseenQueue.length)},hasUnfetchedItems:function(){return this._queue.length>0},fetchQueuedItems:function(){if(!this._request){if(!this.hasUnfetchedItems())return this.set("size",0),v.resolve();var e,n=this._queue,i=n.length,r=n[0].uuid,s=n[i-1].uuid;e=y.modify(d.result(this,"baseUrl"),{query:{"uuid[to]":r,cursor:s,limit:i,offset:null}}),this._request=v.defer(),t.ajax({url:e,dataType:"json",type:"GET"}).done(function(e){this.onFetchQueuedItemsDone(e),this._request.resolve(),this._request=null}.bind(this)).fail(function(){this.onFetchFail(),this._request.reject(),this._request=null}.bind(this))}return this._request},markAsRead:function(e){var t,n=this.get("type"),i=0;this.lastRead!==e&&(this.lastRead=e,_.set(n,e),t=this._unseenQueue.some(function(t){return++i,t.uuid===e?!0:void 0}),t?this._unseenQueue.splice(0,i):this._unseenQueue.length=0,this.set("size",this._unseenQueue.length)),r(n)||this.startPolling()},fetch:function(e){var t,n=!(!e||!e.force);return null===this.get("size")||n?(t=y.modify(d.result(this,"baseUrl"),{query:{limit:1,linked_partitioning:1}}),f.prototype.fetch.call(this,d.extend({url:t,dataType:"json",jqAjax:!0},e)).done(function(e){var t=i.call(this,e);this.lastFetchTime=Date.now(),t&&(null===this.get("size")||n)&&(this._queue.push(e.collection[0]),this.set("size",!0))}.bind(this))):v.resolve()},hasDataForView:function(){return null!==this.get("size")},onFetchFail:function(){this._waitingQueue.length&&Array.prototype.push.apply(this._queue,this._waitingQueue.splice(0,this._waitingQueue.length))},onFetchQueuedItemsDone:function(e){this._queue.length=0,this._waitingQueue.length&&(this._queue.push.apply(this._queue,this._waitingQueue),this._waitingQueue.length=0);var t=e.collection;t&&t.length?this.trigger("data",t):this.set("size",0)}},{hashFn:function(e){return e.type},onCleanup:function(e){r(e.get("type"))&&h.get("notifications").unsubscribe(e.channel,e.onNotification),e.stopPolling(),o.call(e,!1)},cleanupInstantly:!0})}).call(t,n(1))},392:function(e,t,n){(function(t){function i(e,t){return!t.neverRelease&&t.cleanup()||e}function r(e){return e?function(t){s(t),e.apply(t,arguments)}:s}function s(e){e.off&&e.off(),e.stopListening&&e.stopListening()}var o,a=n(3),l=n(21),u=n(914),c=t.noop,d=0,p=6e4,h=[];setInterval(function(){do;while(h.reduce(i,!1))},p),e.exports={applyTo:function f(e,t){t=a.extend({neverRelease:!1,cleanupInstantly:!1,hashFn:function(){return null},prepareArgs:function(){return arguments},prepareInstance:function(){return this},getIncrementValue:function(){return 1},onHold:c,onRelease:c,onCleanup:null},t,e),delete t.prototype;var n,i,s,p,g,m=e.extend||l.Model.extend,v=t.neverRelease;return n=new u({autoCleanup:t.cleanupInstantly,onCleanup:r(t.onCleanup),onIncrement:t.onHold,onDecrement:t.onRelease,neverRelease:v}),h.push(n),v?s=p=c:(s=function(e){n.increment(this.resource_id,e)},p=function(e){n.decrement(this.resource_id,e)}),g={hold:s,release:p,_usageCount:function(){return n.countFor(this.resource_id)},constructor:function(){var t=i.prepareArgs.apply(this,arguments),r=i.hashFn.apply(this,t)||"f-"+ ++d,s=i.neverRelease?1:i.getIncrementValue.apply(null,t),a=n.get(r);return a?(this.constructor.neverRelease||a.hold(s),i.prepareInstance.apply(a,t),a):(a=this,n.set(r,a),a.constructor.neverRelease||a.hold(s-1),a.resource_id=r,o(e).apply(a,t),void i.prepareInstance.apply(a,t))}},i=m.call(e,g,t),a.extend(i,{__constructor__:o(e),reset:function(){n.reset()},extend:function(t){var n,r;return t=t||{},a.isArray(t)&&(t=a.extend.apply(null,[{}].concat(t))),t.hasOwnProperty("constructor")||(t.constructor=o(e)),n=m.apply(i,arguments),n.extend=m,r=f(n,i),r.__super__&&(r.__super__=r.__super__.constructor.__super__),r},instances:function(){return n.add=function(e){var t=i.hashFn(e.attributes);e.resource_id=t,t&&this.set(t,e)},n}(),getNewInstance:function(){function t(){return o(e).apply(this,r)}var n,r=arguments;return t.prototype=i.prototype,n=new t},removeInstance:function(e){n.decrement(e.resource_id,1/0),n.cleanup()}})}},o=function(e){return e.__constructor__||e}}).call(t,n(1))},404:function(e,t,n){function i(){this._messageSentAt=new Date(this.get("sent_at"))}function r(){var e=this.getPossibleAudibleLinks();e&&u.getAudibleModels(e).done(function(e){e.forEach(function(e){e&&s.call(this,e.audible,e.link)},this),this.trigger("audibleFinishedResolving")}.bind(this))}function s(e,t){var n=d.parse(e.getShareURL()).path,i={link:null,model:e};-1!==t.indexOf(n)&&(i.link=t,this.addSubmodel(i.model),o.call(this,i))}function o(e){var t=this.get("audibleInformation");t.push(e),this.set("audibleInformation",t),this.trigger("audibleInformationUpdated",{audibleInformation:e,timestamp:this.sentAt()})}var a,l=n(90),u=n(216),c=n(113),d=n(81),p=193;a=e.exports=l.extend({resource_type:"conversation_message",_messageSentAt:null,getSenderId:function(){var e=this.get("sender_urn");return e?c.getAsAttributes(e).id:null},setup:function(){this.set("audibleInformation",[]),i.call(this)},sentAt:function(){return this._messageSentAt},fetchAudibles:function(){r.call(this)},getAudible:function(){var e=this.get("audibleInformation");return e&&e[0]&&e[0].model},hasDataForView:function(){return!0},getPossibleAudibleLinks:function(){var e=this.get("content")?this.get("content"):"";return e.match(u.scLinksRegexGlobal)},isFromSoundCloud:function(){return this.getSenderId()===p},isFromMissingUser:function(){return"missing_user"===this.get("sender_type")}},{hashFn:function(e){return e.id||[e.conversation_id,e.sent_at].join("_")}})},405:function(e,t,n){var i,r=n(90);i=e.exports=r.extend({resource_type:"explore-category",url:null,hasDataForView:function(){return!0}},{hashFn:function(e){return e.resource_id||e.permalink||"default"}})},406:function(e,t,n){var i,r=n(90),s=n(86);i=e.exports=r.extend({resource_type:"onboarding-recommendation",submodelMap:{track:s},createSubmodel:function(e,t){var n,i=this.get(t);i&&(n=new s({id:i.id}),n.set(i),this.addSubmodel(n),this.listenTo(n,"destroy",this.destroy),this.audible=n)},getAudible:function(){return this.audible}})},407:function(e,t,n){var i,r=n(137),s=n(167);i=e.exports=s.extend({baseUrl:function(){return r.EDGE+"me/playlist_likes/"}})},408:function(e,t,n){var i,r=n(137),s=n(167);i=e.exports=s.extend({baseUrl:function(){return r.EDGE+"me/playlist_reposts/"}})},410:function(e,t,n){var i,r=n(137),s=n(167);i=e.exports=s.extend({baseUrl:function(){return r.EDGE+"me/track_likes/"}})},411:function(e,t,n){var i,r=n(137),s=n(167);i=e.exports=s.extend({baseUrl:function(){return r.EDGE+"me/track_reposts/"}})},413:function(e,t,n){var i,r=n(86),s=n(82);i=e.exports=function(e,t){var n,i=e.resource_type;return delete e.resource_type,n="user"===i?new s(e,t):new r(e,t)},i.getClass=function(e){var t=e.resource_type;return"user"===t?s:r}},415:function(e,t,n){var i,r=n(137),s=n(90),o=n(216).soundcloudUrlRegex,a={facebook:"Facebook",twitter:"Twitter",myspace:"MySpace",lastfm:"Last.fm",youtube:"YouTube",beatport:"Beatport",discogs:"Discogs",flickr:"Flickr",hypem:"Hype Machine",ning:"Ning",posterous:"Posterous",purevolume:"PureVolume",residentadvisor:"Resident Advisor",residentadvisorlabel:"Resident Advisor",reverbnation:"ReverbNation",soundcloud:"SoundCloud",songkick:"Songkick",tumblr:"Tumblr",vimeo:"Vimeo",virb:"Virb",wordpress:"Wordpress",ccmixter:"ccMixter",itunes_podcast:"iTunes Podcast",foursquare:"Foursquare",flavors:"flavors.me",thedjlist:"The DJ List",berklee:"Berklee",whatpeopleplay:"Whatpeopleplay",zeroinch:"zero",google_plus:"Google+",bandpage:"BandPage"};i=e.exports=s.extend({resource_type:"web-profile",baseUrl:function(){var e=this.collection?this.collection.resource_id:this.options.userId;return["users",e,"web-profiles",this.id].join("/")},getServiceName:function(){var e=this.get("service");return this.get("title")?this.get("title"):"personal"===e||"other"===e?this.get("url").replace(/^https?:\/\//,""):a[e]||""},getServiceClassName:function(){return this.get("service").replace(/[^a-z]/g,"")},getUrl:function(){var e=this.get("url");return"soundcloud"===this.get("service")?e.replace(o,"/"):e},getAttributesToBeSaved:function(){var e={};return e[r.toAPIResource(this.resource_type)]=["network","title","url"].reduce(function(e,t){var n=this[t];return"network"===t&&(n=this.service),null!=n&&(e[t]=n),e}.bind(this.attributes),{}),e}})},416:function(e,t,n){var i,r=n(2),s=n(22);i=e.exports={get:function(e,t){var n=r.Utils.escapeExpression(e.username||e.title||e.name);return t===!0&&(n=s.possessive(n)),n}}},536:function(e,t,n){e.exports=n.p+"assets/images/default/cloudx40-cd5e68.png"},537:function(e,t,n){e.exports=n.p+"assets/images/list-bullet-ab4e6e.png"},566:function(e,t,n){e.exports=n.p+"assets/images/notifications/error-18e777.png"},577:function(e,t,n){var i=n(2);e.exports=(i.default||i).template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="l-banner l-inner-fullwidth">\n\n</div>\n<div class="listen-content">\n\n</div>\n<div class="l-three-column listen-about">\n  <div class="l-sidebar-left">\n\n  </div>\n  <div class="l-main sc-border-light-right">\n\n  </div>\n  <div class="l-sidebar-right">\n\n  </div>\n</div>\n'})},578:function(e,t,n){var i=n(2);e.exports=(i.default||i).template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="l-premium">\n  <div class="l-premium-banner l-inner-fullwidth">\n\n  </div>\n  <div class="l-premium-content">\n\n  </div>\n</div>\n'})},635:function(e){e.exports={africa:{DZ:"Algeria",AO:"Angola",AG:"Antigua And Barbuda",BJ:"Benin",BT:"Bhutan",BW:"Botswana",BF:"Burkina Faso",BI:"Burundi",CM:"Cameroon",CV:"Cape Verde",CF:"Central African Republic",TD:"Chad",KM:"Comoros",CG:"Congo",CD:"Congo, The Democratic Republic Of The",CI:"Cote D'ivoire",EG:"Egypt",GQ:"Equatorial Guinea",ER:"Eritrea",ET:"Ethiopia",GF:"French Guiana",GA:"Gabon",GM:"Gambia",GH:"Ghana",GN:"Guinea",GW:"Guinea-Bissau",KE:"Kenya",LS:"Lesotho",LR:"Liberia",MW:"Malawi",ML:"Mali",MR:"Mauritania",YT:"Mayotte",MA:"Morocco",MZ:"Mozambique",NA:"Namibia",NE:"Niger",NG:"Nigeria",QA:"Qatar",RW:"Rwanda",ST:"Sao Tome And Principe",SN:"Senegal",SC:"Seychelles",SL:"Sierra Leone",SO:"Somalia",ZA:"South Africa",SD:"Sudan",SR:"Suriname",SZ:"Swaziland",TZ:"Tanzania, United Republic Of",TG:"Togo",TT:"Trinidad And Tobago",UG:"Uganda",EH:"Western Sahara",ZM:"Zambia",ZW:"Zimbabwe"},asia:{AF:"Afghanistan",BH:"Bahrain",BD:"Bangladesh",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",KH:"Cambodia",CN:"China",DJ:"Djibouti",HK:"Hong Kong",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IL:"Israel",JP:"Japan",JO:"Jordan",KP:"Korea, Democratic People's Republic Of",KR:"Korea, Republic Of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LB:"Lebanon",LY:"Libyan Arab Jamahiriya",MO:"Macao",MY:"Malaysia",MN:"Mongolia",MM:"Myanmar",NP:"Nepal",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PH:"Philippines",SA:"Saudi Arabia",SG:"Singapore",SB:"Solomon Islands",SS:"South Sudan",LK:"Sri Lanka",SY:"Syrian Arab Republic",TW:"Taiwan, Province Of China",TJ:"Tajikistan",TH:"Thailand",TL:"Timor-Leste",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",AE:"United Arab Emirates",UZ:"Uzbekistan",VN:"Viet Nam",YE:"Yemen"},australasia:{AS:"American Samoa",AU:"Australia",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CK:"Cook Islands",FJ:"Fiji",PF:"French Polynesia",HM:"Heard Island And McDonald Islands",KI:"Kiribati",MG:"Madagascar",MV:"Maldives",MH:"Marshall Islands",MU:"Mauritius",FM:"Micronesia, Federated States Of",NR:"Nauru",NC:"New Caledonia",NZ:"New Zealand",NU:"Niue",MP:"Northern Mariana Islands",PG:"Papua New Guinea",WS:"Samoa",TK:"Tokelau",TO:"Tonga",TV:"Tuvalu",VU:"Vanuatu",WF:"Wallis And Futuna",AQ:"Antarctica"},europe:{AX:"Aaland Islands",AL:"Albania",AD:"Andorra",AM:"Armenia",AT:"Austria",AZ:"Azerbaijan",BY:"Belarus",BE:"Belgium",BA:"Bosnia And Herzegovina",BV:"Bouvet Island",BG:"Bulgaria",HR:"Croatia",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",EE:"Estonia",FO:"Faroe Islands",FI:"Finland",FR:"France",TF:"French Southern Territories",GE:"Georgia",DE:"Germany",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GP:"Guadeloupe",GG:"Guernsey",VA:"Holy See (Vatican City State)",HU:"Hungary",IS:"Iceland",IE:"Ireland",IM:"Isle Of Man",IT:"Italy",JE:"Jersey",KZ:"Kazakhstan",LV:"Latvia",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MK:"Macedonia, The Former Yugoslav Republic Of",MT:"Malta",MQ:"Martinique",MD:"Moldova, Republic Of",MC:"Monaco",ME:"Montenegro",MS:"Montserrat",NL:"Netherlands",NF:"Norfolk Island",NO:"Norway",PL:"Poland",PT:"Portugal",RE:"Reunion",RO:"Romania",RU:"Russian Federation",SH:"Saint Helena, Ascension And Tristan Da Cunha",SM:"San Marino",RS:"Serbia",SX:"Sint Maarten (Dutch Part)",SK:"Slovakia",SI:"Slovenia",GS:"South Georgia And The South Sandwich Islands",ES:"Spain",SJ:"Svalbard And Jan Mayen",SE:"Sweden",CH:"Switzerland",UA:"Ukraine",GB:"United Kingdom",VG:"Virgin Islands, British"},latin_america:{AR:"Argentina",AW:"Aruba",BB:"Barbados",BZ:"Belize",BM:"Bermuda",BO:"Bolivia, Plurinational State Of",BQ:"Bonaire, Sint Eustatius And Saba",BR:"Brazil",CL:"Chile",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CW:"Curacao",EC:"Ecuador",SV:"El Salvador",FK:"Falkland Islands (Malvinas)",GD:"Grenada",GT:"Guatemala",GY:"Guyana",HN:"Honduras",JM:"Jamaica",MX:"Mexico",NI:"Nicaragua",PA:"Panama",PY:"Paraguay",PE:"Peru",PN:"Pitcairn",PR:"Puerto Rico",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",UY:"Uruguay",VE:"Venezuela, Bolivarian Republic Of"},north_america:{AI:"Anguilla",BS:"Bahamas",CA:"Canada",KY:"Cayman Islands",DM:"Dominica",DO:"Dominican Republic",GU:"Guam",HT:"Haiti",BL:"Saint Barthelemy",MF:"Saint Martin (French Part)",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And The Grenadines",TC:"Turks And Caicos Islands",US:"United States",UM:"United States Minor Outlying Islands",VI:"Virgin Islands, U.S."}}},636:function(e,t,n){var i=n(1220);"string"==typeof i&&(i=[[e.id,i,""]]);n(2003)(i,{})},694:function(e,t,n){function i(e){var t=e.audibleInformation.model;t&&this.attachments.add({urn:t.getUrn(),timestamp:e.timestamp})}function r(e){e.some(function(e){return e===this.options.resource_id?(this.fetchUnread(),!0):void 0},this)}var s,o=n(843),a=n(330),l=n(16),u=n(85),c=n(404);s=e.exports=u.extend({model:c,setup:function(){this.attachments=new o(null,{conversationId:this.options.resource_id}),this.listenTo(this,"audibleInformationUpdated",i).listenTo(l,"new-unread-messages",r)},baseUrl:function(){return a.baseUrlWithId(this.resource_id,"messages")},comparator:function(e,t){return t.sentAt()-e.sentAt()},fetchUnread:function(){this.fetch({add:!0,remove:!1,url:this.baseUrl()+"?limit=10&linked_partitioning=1"})},getAttachments:function(){return this.attachments}},{onCleanup:function(e){e.attachments.release()}})},698:function(e,t,n){var i,r=n(85),s=n(80),o=n(16),a=n(168),l=n(324),u=n(81);i=e.exports=r.extend({model:a,defaults:{category:"subscription",ref:null},setup:function(){this.listenToOnce(o,"connect:hasUserData",this.onLogin)},onLogin:function(){this.next_href=null,this.fetch()},baseUrl:function(){var e=this.options,t="/payments/quotations/creator-"+e.category;return u.stringify({path:t,query:{ref:e.ref}},s.get("api_v2_host"))},parse:function(e){var t=this.options.category,n=e.plans;return n.forEach(function(e){e.id=t+"-"+e.id}),n.unshift(l[t+"-free"]),n}},{hashFn:function(e,t){return t?t.category:"subscription"}})},699:function(e,t,n){var i,r=n(3),s=n(126),o=n(85),a=n(80),l=n(406),u=n(101),c=n(113),d=n(81);i=e.exports=o.extend(s,{model:l,defaults:{resource_ids:[],tags:null},setup:function(e){this.options.resource_ids=e.resource_ids.slice(0,10)},parse:function(e){return e},getSourceInfo:function(){var e=this.at(u.sourceCursor);return{type:["onboarding",e.get("bucket")].join(":")}},baseUrl:function(){var e,t=this.options;return t.resource_ids.length?e={track_urns:r.map(t.resource_ids,c.generate.bind(null,"sound")).join(",")}:t.tags&&(e={tags:[t.tags].join(",")}),d.stringify({path:"/onboarding/tracks/recommendations",query:e},a.get("api_v2_host"))},audibleAt:function(e){return this.at(e).getAudible()}},{hashFn:function(e,t){return t.resource_ids.join("")}})},701:function(e,t,n){(function(t){var i,r=n(3),s=n(85),o=n(80),a=n(18),l=n(83),u=n(952),c=n(102),d=n(81),p=n(113),h=200,f=1e3,g=5e3;i=e.exports=s.extend({model:u,_isLooping:!1,_loopInterval:null,_approvalDeferred:null,_isPending:!1,setup:function(){this.listenTo(this,"change:entry_time",r.debounce(this.sort.bind(this,{silent:!0}),h)).listenTo(this,"submission:success",function(){this._isPending=!0,this.trigger("change:approval")})},fetch:function(e){return e.timeout=g,s.prototype.fetch.call(this,e)},baseUrl:function(){return d.stringify({path:"/visuals",query:{urn:"soundcloud:sounds:"+this.resource_id}},o.get("visualsHost"))},isLooping:function(){return this._isLooping},getLoopInterval:function(){return this._loopInterval},parse:function(e){var t=e&&e.visuals;return t?(t=r.map(t,function(e){return e.id=p.getAsAttributes(e.urn).id,e.filename=e.visual_url.split("/").pop(),e}),e.is_looping&&e.loop_interval&&(this._isLooping=!0,this._loopInterval=Math.max(f,e.loop_interval)),t):this.toJSON()},isApproved:function(){return!(!this.at(0)||!this.at(0).get("urn"))},isPending:function(){return this._isPending},submitForApproval:function(e){if(!c.formData)return void this.trigger("submission:error");var n=new window.FormData,i={visuals:[],user_urn:o.get("me").getUrn(),urn:e};return this.forEach(function(e,t){var s;e&&e.has("file")&&(s=e.toJSON(),r.omit(s,"visual_url","urn","_resource_id","_resource_type"),s.entry_time=Math.floor(s.entry_time),i.visuals.push(s),n.append("visuals[upload-"+t+"]",e.get("file"),e.get("filename")))}),n.append("visuals_data",JSON.stringify(i)),t.ajax({url:o.get("visualsQueueHost"),type:"POST",data:n,processData:!1,contentType:!1,dataType:"json",beforeSend:function(e){e.setRequestHeader("Authorization","OAuth "+a.getAuthToken())}}).done(this.trigger.bind(this,"submission:success")).fail(this.trigger.bind(this,"submission:error"))},fetchApprovalStatus:function(){var e,n=this._approvalDeferred,i="soundcloud:sounds:"+this.options.resource_id,r=o.get("me").getUrn();return e=function(e){e&&e.urn&&(this._isPending=!0),n.resolve()}.bind(this),n&&"rejected"!==n.state()?n:(n=this._approvalDeferred=l.defer(),t.ajax(o.get("visualsQueueHost")+"/"+i,{data:{user_urn:r},beforeSend:function(e){e.setRequestHeader("Authorization","OAuth "+a.getAuthToken())}}).done(e).fail(n.reject),n)},comparator:function(e){return e.get("entry_time")}})}).call(t,n(1))},702:function(e,t,n){var i,r=n(85),s=n(413),o=n(81);i=e.exports=r.extend({model:s,defaults:{limit:10,category:null,query:null},baseUrl:function(){return o.stringify({path:["search","suggest",this.options.category],query:{q:this.options.query,highlight_mode:"offsets"}})},parse:function(e){return e.suggestions.map(function(e){return e.resource_type="user"===e.kind.toLowerCase()?"user":"sound",e})}},{hashFn:function(e,t){return[t.query,t.category||"all"].join("_")}})},703:function(e,t,n){var i,r=n(3),s=n(109),o=n(363),a=n(80);i=e.exports=o.extend({defaults:{limit:a.get("maxComments")},initialize:function(){o.prototype.initialize.apply(this,arguments),this.threads=[],this.listenTo(this,"remove",this._removeComment)},threads:null,_addComment:function(e){var t,n,i,s,o=e.get("timestamp");i=this.getTimestampIndex(o),n=this.threads[i],e.created_timestamp=Date.parse(e.get("created_at")),n&&n[0]===o?(s=r.sortedIndex(n[1],e,function(e){return e.created_timestamp}),n[1].splice(s,0,e)):(t=[o,[e]],this.threads.splice(i,0,t))},_removeComment:function(e){var t,n=this.getThreadAtTimestamp(e.get("timestamp"));n&&(t=n[1].indexOf(e),t>-1&&n[1].splice(t,1))},_prepareModel:function(){var e=o.prototype._prepareModel.apply(this,arguments);return e.created_timestamp=Date.parse(e.created_at),e.get("timestamp")>this.soundDuration&&e.set({timestamp:s.EMPTY_TIMESTAMP},{silent:!0}),this._addComment(e),e},comparator:function(e,t){var n=e.attributes.timestamp===s.EMPTY_TIMESTAMP?1/0:e.attributes.timestamp,i=t.attributes.timestamp===s.EMPTY_TIMESTAMP?1/0:t.attributes.timestamp;return n-i||e.created_timestamp-t.created_timestamp},getThreadComments:function(e){var t,n,i=arguments[1],o=r.isNumber(i)?i:0,a=r.isBoolean(i)?i:!1;return t=0===o?this.getThreadAtTimestamp(e):r.find(this.threads,function(t){return Math.abs(e-t[0])<=o&&t[0]!==s.EMPTY_TIMESTAMP}),n=t?t[1]:[],n.filter(a?function(e){return e.id}:r.identity)},getTimestamps:function(){return r.pluck(this.threads,0)},getTimestampIndex:function(e){return r.sortedIndex(this.threads,[e],function(e){return e[0]===s.EMPTY_TIMESTAMP?1/0:e[0]})},getThreadAtTimestamp:function(e){var t=this.getTimestampIndex(e),n=this.threads[t];return n&&n[0]===e?n:null}})},704:function(e,t,n){function i(){var e=new a(null,{resource_id:this.options.userId,playlists_for:"user",limit:this.options.limit});return e}var r,s=n(84),o=n(175),a=n(319),l=n(40),u=n(862);r=e.exports=o.extend({model:s,defaults:{limit:200,includePrivateSounds:!1,includePlaylists:!0},regex:null,setupSources:function(){var e=[];return this.options.includePlaylists&&e.push(i.call(this)),e.push(new u(null,{userId:this.options.userId})),e},extractModel:function(e){return e},filters:[function(e){return this.options.includePrivateSounds||e.isPublic()},function(e){return!(this._queryData&&this._queryData.queryRegex)||this._queryData.queryRegex.test(l(e.get("title")))}]},{hashFn:function(e,t){var n=t.includePlaylists!==!1;return t.userId+"_audibles"+(n?"_includes_playlists":"")}})},706:function(e,t,n){var i,r=n(99),s=n(85),o=n(81);i=e.exports=s.extend({model:r,defaults:{limit:5e3},baseUrl:function(){return o.stringify({path:["users",this.options.resource_id,"groups"],query:{representation:"mini"}})}})},707:function(e,t,n){var i,r=n(85),s=n(83),o=n(326),a=n(323);i=e.exports=r.extend({model:o,url:null,defaults:{userId:null},setup:function(e){this.webProfiles=new a(null,e)},fetch:function(){return this.webProfiles.fetch().done(function(e){this.lastFetchTime=Date.now(),this.reset(e.collection)}.bind(this))},saveEdits:function(){var e,t=[],n=this.length;for(n>0;n--;)e=this.at(n),t.push(e.performAction("save"));return s.all(t)}},{hashFn:function(e,t){return t&&t.userId||null}})},708:function(e,t,n){function i(e,t,n){var i,r=f[t];if(r)i=s.defaults({sound:e,model:e,type:r,controller:this.controller},n),l.trigger("audio:"+r,i),e.trigger(r,i);else switch(t){case p.STREAMS:case p.NO_STREAMS:e.set("playable",!!this.streamInfo);break;case p.REGISTERED:e.set("playback_count",e.get("playback_count")+1);break;case p.DESTROYED:this.off("all",this._onSCAudioEvent)}}var r,s=n(3),o=n(902),a=n(107),l=n(16),u=n(34),c=n(111),d=n(71),p=d.Events,h=s.once(function(e){d.setAudioManager(o.getInstance(e))}),f=s.object([[p.PLAY,"play"],[p.PLAY_START,"playStart"],[p.PAUSE,"pause"],[p.FINISH,"finish"],[p.SEEKED,"seeked"],[p.FLASH_BLOCK,"flash_block"],[p.FLASH_UNBLOCK,"flash_unblock"],[p.TIME,"time"],[p.BUFFERRING_START,"buffering:start"],[p.BUFFERRING_END,"buffering:end"],[p.GEO_BLOCKED,"geoBlocked"]]);r=e.exports=d.extend({constructor:function(e){var t=!0&&c.get("debug_audio_v2")||!1;h(t),d.prototype.constructor.call(this,{soundId:e.id,resourceId:e.resource_id,duration:e.duration.bind(e),registerEndpoint:e.url.bind(e,"registerUrl"),streamUrlsEndpoint:e.url.bind(e,"streamsUrl"),asyncFetch:!a.isMobile,protocols:[d.Protocols.HLS,d.Protocols.RTMP,d.Protocols.HTTP],debug:t}),this._onSCAudioEvent=i.bind(this,e),this.on("all",this._onSCAudioEvent)
    },logAudioPerformance:function(e){u.audioPerformance(e)}})},709:function(e,t,n){(function(t){var i,r=n(3),s=n(17),o=n(185);i=e.exports=new s({message:"",state:o.UNKNOWN,_lastError:null,_lastResult:null,_form:null,initialize:function(e,t){r.extend(this,e),this._form=t},disable:function(){this.state=o.DISABLED},reset:function(){this.state=o.UNKNOWN,this._lastResult&&"pending"===this._lastResult.state()&&this._lastResult.reject(),this._lastResult=null},result:function(e,t){return this.state=t?o.VALID:o.INVALID,this._lastError=t?null:this.getMessage(),e.resolve({success:t,message:this._lastError})},getLastError:function(){return this._lastError},around:{validate:function(e){return this.state===o.UNKNOWN&&(this._lastResult=e.apply(this,Array.prototype.slice.call(arguments,1))),this._lastResult}},defaults:{check:t.noop,getMessage:function(){return this.message?this.message.replace(/\{([^}]+)\}/g,function(e,t){return this[t]||e}.bind(this)):""}}})}).call(t,n(1))},710:function(e,t,n){var i,r=n(149);i=e.exports=r.extend({message:"Please choose a time in the future.",check:function(e,t){t(e>Date.now())}})},711:function(e,t,n){var i,r=n(905);i=e.exports=r.extend({check:function(e,t,n){n(!(e[0]&&e[1])||e[0]<e[1])}})},712:function(e,t,n){var i,r=n(149),s=n(81),o=/^[a-z-]+:\/\//,a=/^https?$/,l=/\.[a-z]{2,32}$/;i=e.exports=r.extend({message:"This URL is invalid.",strict:!1,check:function(e,t){if(!e)return void t(!0);if(!o.test(e)){if(this.strict)return void t(!1);e="http://"+e}var n=s.parse(e);t(!n.userInfo&&a.test(n.scheme)&&l.test(n.host))}})},713:function(e,t,n){var i,r=n(149);i=e.exports=r.extend({message:"Please enter a valid date.",check:function(e,t){t(e instanceof Date&&"number"==typeof+e&&!isNaN(+e))}})},714:function(e,t,n){var i,r=n(18),s=n(115),o=n(16);i=e.exports={401:function(e){r.isLoggedIn()&&r.logout()},429:function(e){var t=JSON.parse(e.responseText),n=t.errors[0]||t.errors,i=new s({xhr:e,error:n,message:n.reason_phrase});o.trigger("spam-warning",i),i.release()},422:function(e){var t=e.responseText;try{t=JSON.parse(t).errors[0].error_message}catch(n){t=null}o.trigger("error:ajax",t,e)}}},715:function(e){var t;t=e.exports={getFlashPlugin:function(){var e,t,n,i;if("undefined"!=typeof window.ActiveXObject)try{i=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),i&&(e=i.GetVariable("$version"))}catch(r){}else navigator.plugins&&navigator.plugins.length>0&&(n="application/x-shockwave-flash",t=navigator.mimeTypes,t&&t[n]&&t[n].enabledPlugin&&t[n].enabledPlugin.description&&(e=t[n].enabledPlugin.description));return e},getFlashVersion:function(){var e=this.getFlashPlugin().match(/\d\S+/)[0].replace(/,/g,".").split(".");return[e[0],e[1]].join(".")},getOperatingSystem:function(){var e=navigator.appVersion;return-1!==e.indexOf("Win")?"Windows":-1!==e.indexOf("Mac")?"MacOS":-1!==e.indexOf("X11")?"UNIX":-1!==e.indexOf("Linux")?"Linux":"undefined-OS"},getBrowser:function(){var e,t,n=navigator.userAgent,i=n.match(/(opera|chrome|safari|firefox|msie|applewebkit)\/?\s*(\.?\d+(\.\d+)*)/i),r=n.match(/version\/([\.\d]+)/i);return t=null!==r?r[1]:i?i[2]:null,e=i?[i[1],t]:[navigator.appName,navigator.appVersion],e.join()}}},716:function(e,t,n){var i,r=n(3),s=n(107),o=[37,38,39,40,9,35,36];i=e.exports={makeReadOnly:function(e){s.isMobile&&s.isSafari?e.on("keydown",function(e){return e.isMetaKey()&&!e.shiftKey||r.include(o,e.which)?!0:void e.preventDefault()}):e.attr("readOnly","readOnly")}}},717:function(e,t,n){(function(t){var n,i;n=e.exports={normalizeEvent:function(e){if(e.offsetX===i||e.offsetY===i){var n=t(e.target).offset(),r=e.originalEvent;e.offsetX=r.pageX-n.left,e.offsetY=r.pageY-n.top}return e}}}).call(t,n(1))},718:function(e,t,n){(function(t){function i(e,t,n){o.call(e,1e3*Math.max(5,d)*("next"===n?1:-1))}var r,s,o,a=n(89),l=n(16),u=n(101),c=n(3),d=0;r=e.exports={shortcuts:{playPause:{keyCode:["32","13"],keyName:["space"],description:"Toggle play & pause",className:"kbd-big",fn:function(){u.toggleCurrent({userInitiated:!0})}},search:{keyCode:["83","191"],keyName:["S"],description:"Search",fn:function(){l.trigger("search:focus")}},load:{keyCode:["48","49","50","51","52","53","54","55","56","57"],keyName:["0…9"],className:"kbd-big",description:"Seek to position",fn:function(e,t){e&&!t.isMetaKey()&&e.seek(e.duration()/10*(t.keyCode-48))}},seekBackward:{keyCode:["37"],keyName:["←"],description:"Seek backward",fn:function(e,t){e&&i(e,t,"prev")}},seekForward:{keyCode:["39"],keyName:["→"],description:"Seek forward",fn:function(e,t){e&&i(e,t,"next")}},repeat:{keyCode:["shiftKey+76"],keyName:["L","⇧"],description:"Repeat playing track",fn:function(){u.toggleState("repeating")}},prev:{keyCode:["shiftKey+37","75"],keyName:["←","⇧"],description:"Play previous track",fn:function(){u.playPrev({userInitiated:!0})}},next:{keyCode:["shiftKey+39","74"],keyName:["→","⇧"],description:"Play next track",fn:function(){u.playNext({userInitiated:!0})}},mute:{keyCode:["77"],keyName:["M"],description:"Mute volume",fn:function(){l.broadcast("mute:toggle")}},volUp:{keyCode:["shiftKey+38"],keyName:["↑","⇧"],description:"Increase volume",fn:function(){l.trigger("volume:change",.1)}},volDown:{keyCode:["shiftKey+40"],keyName:["↓","⇧"],description:"Decrease volume",fn:function(){l.trigger("volume:change",-.1)}},like:{keyCode:["76"],keyName:["L"],description:"Like playing track",fn:function(e){e&&a.like(e.id,e.resource_type)}},repost:{keyCode:["82"],keyName:["R"],description:"Repost playing track",fn:function(e){e&&a.repost(e.id,e.resource_type)}},dialog:{keyCode:["72","shiftKey+191"],keyName:["H"],description:"Show keyboard shortcuts",fn:function(){l.trigger("keyboard-shortcuts:toggle")}},gotoNowPlaying:{keyCode:["80"],keyName:["P"],description:"Navigate to playing track",fn:function(){u.restoreState()}}},handleKeyDown:function(e){var n,i,o=u.getCurrentSound(),a=e.keyCode,l=(13===a||32===a)&&t(e.target).is(":tabbable")&&!e.isDefaultPrevented(),p={},h=[];e.isInput()||l||(++d,c.each(s,function(e,t){new RegExp("(^|\\+)"+a+"$").test(t)&&(p[t]=e,h.push(t))}),c.find(c.sortBy(h,"length").reverse(),function(t){var n,r=t.split("+");return n=r.every(function(n,i){if(i===r.length-1){var s=String(e.keyCode)===r[i];return s&&1===r.length&&/[A-Za-z0-9%']/.test(String.fromCharCode(t))?!e.isMetaKey():s}return e[n]}),n?(i=p[t],!0):void 0}),i&&(n=r.shortcuts[i].fn(o,e),n||e.preventDefault()))},handleKeyUp:function(){d=0}},o=c.throttle(function(e){this.seekRelative(e)},200),s={},c.each(r.shortcuts,function(e,t){c.each(e.keyCode,function(e){s[e]=t})})}).call(t,n(1))},719:function(e,t,n){var i,r=n(736),s=n(17);i=e.exports=new s({override:{model:r},audibleAt:function(e){var t=this.at(e);return t&&t.getSound()}})},721:function(e,t,n){var i,r=n(17);i=e.exports=new r({applyTo:function(e,t){t&&t.action&&(e._action=t.action)},before:{setup:function(){this._action=this._action||this.actions["default"],this.setActionState(this._action,"disabled"),this.listenTo(this,"form:clean",this.disableAction).listenTo(this,"form:dirty",this.enableAction)}},enableAction:function(){this.setActionState(this._action,"enabled")},disableAction:function(){this.setActionState(this._action,"disabled")}})},722:function(e,t,n){(function(t){function i(){this.trigger("generatingPermalink",!0),r.call(this,T.permalink(this.get("title"))).always(function(e){e=e||"",this.set("permalink",e),this.trigger("generatingPermalink",!1)}.bind(this))}function r(e,t,n){return t=t||C.defer(),n=n||0,this._permalinkConstraint.check(e,function(i){i?t.resolve(e):P>n?r.call(this,this.increasePermalink(e),t,++n):t.reject()}.bind(this)),t}function s(){this.get("networks").forEach(function(e){var t=new f({id:e}),n=this._sound;v.trigger("upload:share:"+t.get("type"),{type:n.resource_type,id:n.id})},this)}function o(){var e=Object.keys(N).map(function(e){return this.get(e)&&N[e]},this).filter(p.identity).join("-");this.set("creativeCommonsLicense","cc-"+e)}var a,l,u,c,d,p=n(3),h=n(80),f=n(196),g=n(125),m=n(331),v=n(16),y=n(218),_=n(219),b=n(17),x=n(138),w=n(328),k=n(329),C=n(83),S=n(131),T=n(332),E=n(143),A=n(81),I=n(712),D="all-rights-reserved",P=10,N={attribution:"by",nonCommercial:"nc",nonDerivative:"nd",shareAlike:"sa"};l={status:{defaultValue:E.QUEUED},hasBeenSaved:{defaultValue:!1},hasQueuedSave:{defaultValue:!1},transfer:{defaultValue:null},transcoding:{defaultValue:null},networks:{defaultValue:function(){return[]}},errorMessage:{defaultValue:""},title:{defaultValue:""},description:{defaultValue:""},tags:{defaultValue:function(){return[]}},editing:{defaultValue:!0},artwork_url:{defaultValue:null},sharing:{defaultValue:"public",datasource:[{label:"private",value:"private"},{label:"public",value:"public"}]},permalink:{defaultValue:""},streamable:{defaultValue:!0},embeddableByAll:{defaultValue:!0},domainLocking:{defaultValue:!1},downloadable:{defaultValue:!1},feedable:{defaultValue:!1},buyLink:{defaultValue:""},buyTitle:{defaultValue:"Buy"},license:{defaultValue:D,datasource:[{label:"All Rights Reserved",value:D},{label:"Creative Commons",value:"commons"}]},creativeCommonsLicense:{defaultValue:"cc-by"},attribution:{defaultValue:!0,readOnly:!0},nonCommercial:{defaultValue:!0},nonDerivative:{defaultValue:!1},shareAlike:{defaultValue:!0},commentable:{defaultValue:!0},publicComments:{defaultValue:!0},stats:{defaultValue:!0},geoblocking:{defaultValue:!1},availableCountries:{defaultValue:null},labelName:{defaultValue:null},releaseDate:{defaultValue:null}},u={save:{label:"Save",action:"save"},cancel:{label:"Cancel",action:"cancel"},cancelUpload:{label:"Cancel upload",action:"cancelUpload"}},c={title:[[x,{message:"Title is required"}],[w,{maxLength:100,message:"Title must not exceed {maxLength} characters"}]],buyLink:[[I,{strict:!1}]],buyTitle:[[w,{maxLength:22}]],tags:[[x,{message:"At least one tag is required"}],[w,{maxLength:30,message:"No more than {maxLength} tags allowed"}]]},d={"default":"save",cancel:function(){m.confirm("Are you sure you want to cancel the upload?").done(this.cancel.bind(this))},cancelUpload:function(){this.performAction("cancel")}},a=e.exports=new b(_.withOptions({attr:"title"}),y.withOptions({read:"artwork_url"}),{applyTo:function(e){e.fields=p.defaults(e.fields||{},l),e.buttons=t.extend(!0,{},u,e.buttons||{}),e.constraints=p.defaults(e.constraints||{},c),e.actions=p.defaults(e.actions||{},d)},_saving:!1,_replacingAudio:!1,_permalinkConstraint:null,isEdit:!1,inPlaylist:!1,requires:["cancel","getAudible","createAudible","getAttributesToBeSaved"],before:{initialize:function(){var e={type:"playlist-upload"===this.resource_type?"playlist":"sound",getResource:function(){return this.getAudible()}};this._permalinkConstraint=new k(e,this)},setup:function(){this.on("imageDataChanged",this.markFieldsDirty.bind(this,"artwork_url")),this.on("change:nonDerivative",function(e,t){t&&this.set("shareAlike",!1)},this),this.on("change:shareAlike",function(e,t){t&&this.set("nonDerivative",!1)},this),this.on("change:commentable",function(e,t){t||this.set("publicComments",!1)},this),this.on("change:publicComments",function(e,t){t&&this.set("commentable",!0)},this),this.on("change:license change:attribution change:nonCommercial change:nonDerivative change:shareAlike",o,this)}},after:{setup:function(e,t){this.isEdit||(this.set("feedable",!!h.get("me").get("default_tracks_feedable")),t.inPlaylist||this.on("change:title",i,this))}},around:{getAttributesToBeSaved:function(e){var t=this.get("buyTitle"),n=this.get("buyLink"),i=this.get("tags").slice(),r=p.pick(this.attributes,"permalink","title","description","sharing");return this.get("networks")&&"public"===this.get("sharing")&&(r.shared_to={connections:this.get("networks").map(function(e){return{id:e}})}),r.embeddable=this.get("embeddableByAll"),r.purchase_url=n?A.normalize(n):null,r.purchase_title=t===this.getFieldMetadata("buyTitle").defaultValue?null:t,r.reveal_stats=this.get("stats"),r.genre=i.shift(),r.tag_list=S.serialize(i),r.license=this.getLicense(),r.label_name=this.get("labelName"),r.release_date=this.get("releaseDate")&&this.get("releaseDate").format("iso"),r.geo_blockings=this.get("geoblocking")?g.complement(this.get("availableCountries")):[],p.extend(r,e())}},saveEdits:function(){var e,t,n=[],i=!1,r=this.get("status");return this.get("editing")||this._saving?C.reject():r<E.TRANSCODING&&r!==E.FAILED?(this.set("hasQueuedSave",!0),C.reject()):(this._saving=!0,e=this.getAudible(),(!e||this._replacingAudio)&&(e?(e.off("destroy",this.destroy,this),e.release()):i=!0,e=this.createAudible(),e.on("destroy",this.destroy,this)),t=this.getAttributesToBeSaved(),e.set(t),n.push(e.save().done(function(){var r=this.getImageFileInfo();r.file&&(e.setImageFile(r.file,r.source),n.push(e.uploadImage().done(function(e){this.unsetImageFile({silent:!0}),this.set("artwork_url",e.artwork_url)}.bind(this)))),i&&s.call(this),n.push(this.onAudibleSaved()),this.markFieldsClean(Object.keys(t))}.bind(this)).fail(this.onSaveFailed.bind(this))),C.all(n).done(this.trigger.bind(this,"saved")).always(function(){this._saving=!1,this._replacingAudio=!1}.bind(this)))},setToFailed:function(e,t){e=e||"unknown",t=t||"";var n="playlist-upload"===this.resource_type?"playlist":"track",i={upload:["Error uploading"],save:["Error saving","Please try again"],transcode:["Error processing"],unknown:["Error with"]}[e];if(i[0]+=" "+n,"string"!=typeof t){t=t.responseText;try{t=JSON.parse(t).errors[0].error_message}catch(r){t=""}}t&&i.push(t),t=i.join(". ")+".",this.set({status:E.FAILED,errorMessage:t})},increasePermalink:function(e){var t=/-(\d+)$/,n=e.match(t);return n?e.replace(t,function(e,t){return t=parseInt(t,10)+1,"-"+t}):e+"-1"},getLicense:function(){var e=this.get("license");return e===D?e:this.get("creativeCommonsLicense")},parseLicense:function(e){var t={};return e===D?t.license=D:(t.license="commons",p.each(N,function(n,i){t[i]=e.indexOf(n)>-1})),t}})}).call(t,n(1))},723:function(e,t,n){(function(t){function i(e){return o.some(this.bffAttributes,function(t){return e.indexOf(t)>-1})}function r(e){return o.difference(e,this.bffAttributes).length>0}var s,o=n(3),a=n(17),l=n(83);s=e.exports=new a({requires:["bffAttributes","bffUrl","attrExists","set"],defaults:{parseBff:function(e){return e}},around:{fetch:function(e,n){var s,o,a,u,c=n&&n.attrs;return s=!c||r.call(this,c),s&&(a=e.apply(this,[].slice.call(arguments,1))),o=c&&!this.attrExists(c)&&i.call(this,c),o&&(u=t.get(this.bffUrl()).done(function(e){this.set(this.parseBff(e))}.bind(this))),l.all([a,u]).then(function(e,t){return e&&e[0]||t&&t[0]})}}})}).call(t,n(1))},724:function(e,t,n){var i,r=n(3),s=n(21),o=n(17);i=e.exports=new o(r.extend({around:{set:function(e,t,n,i){var r,s,o=i&&i.silent;return o||(s=this.get(t)),r=e(t,n,i),o||s===n||this.trigger(t,{prev:s,current:n}),r},unset:function(e,t,n){var i,r,s=n&&n.silent;return s||(r=this.get(t)),i=e(t,n),s||void 0===r||this.trigger(t,{prev:r,current:void 0}),i},reset:function(e,t){var n,i,s;return t&&t.silent||(s=this.reduce(function(e,t,n){return t!==i&&(e[n]=t),e},{},this)),n=e(t),s&&r.each(s,function(e,t){this.trigger(t,{prev:e,current:void 0})},this),n}}},s.Events))},729:function(e,t,n){var i,r=n(81),s=(r.getQueryParam("utm_medium")||"").toLowerCase();i=e.exports={facebook:"facebook"===s||/\bfacebook\.com/.test(document.referrer)||!!r.getQueryParam("fb_action_ids"),googleplus:"googleplus"===s}},730:function(e,t,n){(function(t){function i(e,t){return t=t||"subpage",e&&e[t]?e[t]:"main"}function r(e,t){var n=U.getQueryParam("in",t),r=["sounds"];return r.push(n?["sets","sets/track_page"]:e.playlistPermalink?["sets","sets/"+i(e)]:["sounds","sounds/"+i(e)]),r}function s(e){var t=N.get("me").attributes;return t.permalink===e.userPermalink?["you",["you","you/"+i(e)]]:["users",["users","users/"+i(e)]]}function o(e){var t=e.user;return e.type="user",e.userPermalink=t.get("permalink"),e.userId=t.id,e}function a(e){var t=e.audible,n="sound"===t.resource_type;return e.type=t.resource_type,e.userId=t.get("user_id"),n?e.soundId=t.id:(e.playlistId=t.id,e.playlistPermalink=t.get("permalink")),e}function l(e,t,n){var i=n.state!==!1,r=A.defaults(t||{},{object:F.generate(n.targetType,n.target),target:null,clickNameOn:"add",clickNameOff:"remove"});b(n)&&(n.click_name=e+"::"+r[i?"clickNameOn":"clickNameOff"],n.click_object=r.object,n.click_target=r.target,i&&n.context&&"promoted"===n.context.campaign&&O.trackEvent(e,n.context),u(n),w.trackClick(null,n))}function u(e){e.context&&"promoted"===e.context.campaign&&(e.ad_urn=e.context.ad_urn,e.monetization_type="promoted",e.promoted_by=e.context.promoted_by_urn)}function c(e){l("track_to_playlist",{object:e.object.getUrn(),target:F.generate(e.targetType,e.target)},e)}function d(e){l("playlist",{object:e.object.getUrn()},e)}function p(e){l("like",null,e)}function h(e){l("comment",null,e)}function f(e){l("follow",null,e)}function g(e){l("repost",null,e)}function m(e){var t=M.getCurrentSound(),n=t&&t.getUrn(),i={click_name:"repeat::"+(e?"on":"off")};n&&(i.click_object=n),w.trackClick(["play_controls","repeat_track",e?"on":"off"],i)}function v(e){var t={playlist:"playlist",comment:"comment"}[e.targetType];t&&("comment"===t&&(e.target=e.targetModel.get("track_id"),e.targetType="track"),l(t,null,A.extend({},e,{state:!1})))}function y(e){l("group",{clickNameOn:"join",clickNameOff:"leave"},e)}function _(e){w.trackClick(["add_to_group",e.state?"add":"remove",e.origin])}function b(e){return"user"===e.originType&&e.origin===N.get("me").id}function x(e,t){var n,l,c,d,p,h,f,g,m,v,y,_,b,x;switch(e){case"tracking:playStart":case"tracking:pause":case"tracking:finish":w.trackAudioEvent(t);break;case"tracking:ad:skip":case"tracking:ad:finish":case"tracking:ad:click":w.trackClick(t.chapter,t);break;case"tracking:impression":case"tracking:tag-suggester:impression":case"tracking:user-upsell:impression":case"tracking:listen-upsell:impression":case"tracking:signup-teaser:impression":case"tracking:signup-teaser:eligible":w.trackImpression(t);break;case"tracking:user-upsell:click":w.trackClick(["upsell_teaser_user","click"],t);break;case"tracking:user-upsell:dismiss":w.trackClick(["upsell_teaser_user","dismiss"],t);break;case"tracking:listen-upsell:click":w.trackClick(["upsell_teaser_listen","click"],t);break;case"tracking:listen-upsell:dismiss":w.trackClick(["upsell_teaser_listen","dismiss"],t);break;case"tracking:signup-teaser:dismiss":w.trackClick(["signup-teaser","dismiss"],t);break;case"tracking:search":w.trackPageView("search",["search","search/"+t.category]);break;case"tracking:userLayout":t=o(t),v=s(t),w.trackPageView(v[0],v[1]);break;case"tracking:listenLayout":t=a(t),y=r(t),w.trackPageView(y[0],y[1]);break;case"tracking:shuffle":w.trackClick(["shuffle"]);break;case"tracking:shuffle:playlist":w.trackClick(["shuffle","playlist"],{click_name:t.isActive?"shuffle::on":"shuffle::off",click_object:t.playlist.getUrn()});break;case"tracking:dont-show-repost-upsell":w.trackClick(["dont-show-repost-upsell"]);break;case"new-message:sent":w.trackClick(["messages","new-message-sent"],t);break;case"messages:write-new":w.trackClick(["messages","write-new-clicked"],t);break;case"messages:close-overlay":w.trackClick(["messages","overlay-clicked"],t);break;case"messages:add-track":w.trackClick(["messages","track-added"],t);break;case"messages:new-message-validation-error":w.trackClick(["messages","new-message-validation-error"],t);break;case"tracking:stats":w.trackStats(t);break;case"tracking:unauthenticated-access":w.trackClick(["unauthenticated-access"]);break;case"tracking:add_to_set:confirmation":w.trackClick(["add_to_set","confirmation",t?"ok":"cancel"]);break;case"tracking:add_to_set:go_to_playlist":w.trackClick(["add_to_set","go_to_new"]);break;case"tracking:add_to_set:main":t.click_name="track_to_playlist::prompt",t.click_object=t.object,u(t),w.trackClick(null,t);break;case"tracking:add_to_set:validation":w.trackClick(["add_to_set","validation"]);break;case"tracking:group:moderate":w.trackClick(["group","moderate"]);break;case"tracking:group:edit":w.trackClick(["group","edit"]);break;case"layout:change":switch(P.include(),c=t.args,t.layoutName){case"stream":case"activity":w.trackPageView("stream",["stream","stream/"+("stream"===t.layoutName?"main":t.layoutName)]);break;case"user":case"user-network":break;case"listen":case"listen-network":break;case"tags":w.trackPageView("tags",["tags","tags/main"]);break;case"sound-edit":w.trackPageView("sound-edit",["sound-edit","sound-edit/main"]);break;case"search":break;case"premium":!c||c.secondary&&"gifts"!==c.secondary||(b=U.getQueryParam("ref"),w.trackPageView("premium",["premium",U.stringify({path:["premium","main",c.secondary,b]})]));break;case"group":case"group-network":w.trackPageView("group",["groups","groups/"+i(c)],{pageVariable:c.groupPermalink});break;case"explore":w.trackPageView("explore",["explore","explore/"+i(c,"category")]);break;case"upload":w.trackPageView("upload",["upload","upload/main"]);break;case"people":x=i(c,"tab"),w.trackPageView("people_"+x,["people","people/"+x]);break;case"home":case"front":w.trackPageView("homepage",["home","home/main"]);break;case"inbox":w.trackPageView("messages",["messages",i(c,"conversationId")]);break;case"stats":case"track-stats":w.trackPageView("stats",["default",window.location]);break;case"error":w.trackPageView("error",["error"]);break;case"logout":w.trackPageView("logout");break;case"static-page":w.trackPageView("static",["static",i(c,"pageName")]);break;case"creators":w.trackPageView("static",["static","creators/main"]);break;case"mobile":w.trackPageView("static",["static","mobile/main"]);break;default:w.trackPageView("default",["default",window.location])}break;case"exception":d=t.get("xhr"),f=t.get("streamInfo"),f?(g=t.get("errorCode"),m={protocol:f.protocol||"undefined-protocol",browser:L.getBrowser(),flash:L.getFlashPlugin(),os:L.getOperatingSystem(),bitrate:f.bitrate||"undefined-bitrate",format:f.extension||"undefined-extension",url:f.url||"undefined-url"},g&&(m.error_code=g),w.trackAudioError(m)):d||w.trackAppError(t);break;case"header-more:open":w.trackClick(["header","more"],t);break;case"header-profile:open":w.trackClick(["header","you_main"],t);break;case"header-activities:open":w.trackClick(["header","activity","main"],t);break;case"header-messages:open":w.trackClick(["header","messages","main"],t);break;case"header-search:open":w.trackClick(["header","search","main"],t);break;case"header:volume":w.trackClick(["header","volume"],t);break;case"connect:logout":w.trackClick(["header","you_log_out"],t);break;case"share:prompt":t.click_name="share::prompt",t.click_object=t.object,u(t),w.trackClick(null,t);break;case"share:link":case"share:visual_embed":case"share:html5_embed":case"share:html5_mini_embed":case"share:sc_message":case"share:email":case"share:googleplus":case"share:twitter":case"share:thisismyjam":case"share:facebook":case"share:tumblr":case"share:pinterest":case"share:weibo":case"share:vkontakte":case"share:mixi":case"share:tuenti":n=e.split(":"),t.click_name="share",t.click_object=t.object,t.click_target=n[1],w.trackClick(null,t);break;case"upload:share:twitter":case"upload:share:facebook_profile":case"upload:share:tumblr":n=e.split(":"),w.trackClick([n[0],n[1],n[2],t.id,t.type],t);break;case"commentForm:canceled":case"commentForm:focused":n=e.split(":")[1].replace("canceled","cancel").replace("focused","click"),w.trackClick(["comment",n],t);break;case"shortcut:click":h=arguments[1],l=h?h.get("kind"):"search",w.trackClick(["search","shortcut",arguments[2],l],t);break;case"premium:pageView":p=arguments[1],w.trackPageView("premium",["premium",p]);break;case"premium:started":p=arguments[1],_=arguments[2]||"",w.trackClick(["premium","started/"+p,_],t);break;case"signup:successful":case"login:successful":case"login:failed":w.trackClick(e.split(":"),t);break;case"onboarding:explore":case"onboarding:continue":case"onboarding:dismiss":case"onboarding:cold-start":case"onboarding:warm-start":w.trackClick(e.split(":").slice(1),t);break;case"upload_group:single":case"upload_group:multiple:grouped":case"upload_group:multiple:ungrouped":case"upload_funnel:upload_button_header":case"upload_funnel:start:filepicker":case"upload_funnel:start:dragdrop":case"upload_funnel:upload_done":case"upload_funnel:transcoding_done":case"upload_funnel:complete":case"upload_funnel:cancel":case"upload_funnel:failed:uploading":case"upload_funnel:failed:transcoding":case"upload_funnel:save":w.trackClick(e.split(":"),t);break;case"upload:image:click":case"upload:image:drag":case"upload:image:upload_started":case"upload:image:upload_success":n=e.split(":"),t&&n.push(t),w.trackClick(n);break;case"pro:upsell:click":w.trackClick(null,t);break;case"image:zoom":n=e.split(":"),t&&n.push(t),w.trackClick(n);break;case"purchase:click":t.click_name="buy_link",t.click_object=t.context.urn,u(t),w.trackClick(null,t);break;case"download:click":t.click_name="download",t.click_object=t.context.urn,u(t),w.trackClick(null,t);break;case"tracking:go_mobile":p=arguments[1],w.trackClick(["go_mobile",p.action,p.location,p.abtest_identifier,p.platform],t);break;case"tracking:visualprofile:deeplink":w.trackClick(["deeplink"],t);break;case"tagSuggester:save":case"tagSuggester:cancel":w.trackClick(e.split(":"),t);break;case"tracking:expandStats":w.trackStatsClick("expand_stats_view");break;case"tracking:item-click-through":t.click_name="item_navigation",t.click_object=t.context.urn,t.click_target=t.target||t.context.urn,u(t),w.trackClick(null,t);break;case"tracking:mobile:appLink":w.trackClick([t.layout,"appLink"].concat(t.chapter));break;case"tracking:appLoad":w.trackAppLoad(t)}}var w,k,C,S,T,E,A=n(3),I=n(89),D=n(900),P=n(59),N=n(80),L=n(715),B=n(16),R=n(187),M=n(101),O=n(98),U=n(81),F=n(113),z=.15,j=0,V={},H={};C=function(e){var t=N.get("me"),n=e&&e.args;return n&&t.id&&t.get("permalink")===n.userPermalink},S=function(){return N.get("me").id||null},T={listen:"sounds","listen-network":"sounds",activity:"stream",stream:"stream",user:"users","user-network":"users",tags:"tags",search:"search",you:"you",explore:"explore",group:"group",home:"homepage",front:"homepage",premium:"premium",people:"people",creators:"homepage",upload:"upload",inbox:"messages",onboarding:"onboarding","track-manager":"track-manager"},w=e.exports={initialize:function(){A.defer(D.initialize.bind(D)),k(!0)},destroy:function(){k(!1)},trackPageView:function(e,t){var n=A.compact(t||[]),i=S();D.trackPageView(e,n,i)},trackAudioEvent:function(e){var t,n=e.sound,i=M.getCurrentMetadata(),r=i.layoutInfo,s=R.precise(n.duration()/1e3,1),o=e.ad&&e.ad.sound.getMonetizableTrack();t={action:e.type.replace("finish","stop").replace("playStart","play"),checkpointInterval:e.checkpointInterval,duration:s,level:T[C(r)?"you":r.layoutName],policy:n.get("policy"),protocol:n.audio&&n.audio.streamInfo&&n.audio.streamInfo.protocol,searchTracking:e.context&&e.context.searchTracking,sound:n,sourceInfo:"playStart"===e.type?i.sourceInfo:null,steps:R.precise(s/4,1),trigger:e.userInitiated?"manual":e.isRepeating?"repeat":"auto",user:S()},e.context&&"promoted"===e.context.campaign&&e.context.urn===n.getUrn()?(t.ad_urn=e.context.ad_urn,t.monetization_type="promoted",t.promoted_by=e.context.promoted_by_urn,"playStart"===e.type&&O.trackEvent("play",e.context)):o&&(t.ad_urn=e.ad.get("audio").ad_urn,t.monetization_type="audio_ad",t.monetized_object=o.getUrn(),t.policy=null),D.trackAudioEvent(t)},trackAppLoad:function(e){var t=e.latency,n=N.get("router").getLayoutInfo(),i=n&&n.layoutName||"user",r=C(n)?"you":i,s=T[r],o=S();D.trackAppLoad(s,o,t)},trackClick:function(e,t){var n=N.get("router").getLayoutInfo(),i=S(),r=A.compact(e),s=n&&n.layoutName||"user",o=n&&n.tracking||{},a=C(n)?"you":s,l=T[a];t=t||{},t.page_name=o.pageName,t.page_urn=o.pageUrn,r.length<1&&t.page_name&&(r=t.page_name.split(":")),D.trackClick(l,r,i,t)},trackImpression:function(e){var t,n=N.get("router").getLayoutInfo(),i=n&&n.layoutName||"user",r=C(n)?"you":i,s=S(),o=T[r],a=e.urn,l=e.originView;e.useAudioFinishHandler?(H[l]||(H[l]={}),H[l][a]||(t=function(n){var i=parseInt(e.urn.split(":").pop(),10),r=n.sound.id;i===r&&(delete H[l][a],B.off("audio:finish",t))},H[l][a]=!0,B.on("audio:finish",t),D.trackImpression(o,s,e))):(e.context&&"promoted"===e.context.campaign&&(e.ad_urn=e.context.ad_urn,e.monetization_type="promoted",e.impression_object=e.context.urn,e.promoted_by=e.context.promoted_by_urn),D.trackImpression(o,s,e))},trackStats:function(e){D.trackStats(S(),e)},trackStatsClick:function(e){var t="stats",n=S(),i=[e],r=N.get("router").getLayoutInfo().layoutName,s={stats:"main","track-stats":"track"},o={context:{scope:["stats",s[r]]}};D.trackClick(t,i,n,o)},startTiming:function(){return j++,V[j]=Date.now(),j},endTiming:function(e,t){var n,i;n=V[e],n&&(i=Date.now()-n,w.trackTiming(t.category,t.variable,i,t.label)),w.clearTiming(e)},clearTiming:function(e){delete V[e]},trackTiming:function(e,t,n,i){D.trackTiming(e,t,n,i,10)},trackAudioError:function(e){D.trackAudioError(e)},trackAppError:function(e){var t=e.get("message");E(t)&&D.trackAppError(e)}},k=function(){var e;return e=A.map({".header__logoLink":["header","logo"],".header__mainMenu-home":["header","home"],".header__mainMenu-stream":["header","stream"],".header__mainMenu-explore":["header","explore"],'.moreMenu__link[href$="/community-guidelines"]':["header","community_guidelines"],'.moreMenu__link[href$="/terms-of-use"]':["header","terms_of_use"],'.moreMenu__link[href$="/creators"]':["header","creators"],'.moreMenu__link[href$="/pages/privacy"]':["header","privacy_policy"],'.moreMenu__link[href$="/pages/copyright"]':["header","copyright_information"],'.moreMenu__link[href$="/imprint"]':["header","company_information"],'.moreMenu__link[href$="/pages/contact"]':["header","about_us"],'.moreMenu__link[href="http://blog.soundcloud.com"]':["header","blog"],'.moreMenu__link[href="http://soundcloud.com/jobs"]':["header","jobs"],'.moreMenu__link[href="http://developers.soundcloud.com"]':["header","developers"],'.moreMenu__link[href="http://help.soundcloud.com"]':["header","help"],".moreMenu__keyboard":["header","keyboard_shortcuts"],".moreMenu__classic":["header","classic_switch"],".profileMenu__profile":["header","you","profile"],".profileMenu__likes":["header","you","likes"],".profileMenu__following":["header","you","following"],".profileMenu__sets":["header","you","sets"],".profileMenu__stats":["header","you","stats"],".profileMenu__groups":["header","you","groups"],".profileMenu__friends":["header","you","who_to_follow"],".profileMenu__settings":["header","you","settings"],".profileMenu__logout":["header","you","logout"],".playbackTitle":["play_controls","title"],".playControls .playControl:not(.playing)":["play_controls","pause"],".playControls .playControl.playing":["play_controls","play"],".playControls .skipControl__previous":["play_controls","skip_back"],".playControls .skipControl__next":["play_controls","skip_forward"],".header__inner a.outgoing-messages":["outgoing","messages"],".header__inner a.outgoing-record":["outgoing","record"],".chooser__record":["outgoing","record"],".profileMenu a.outgoing-settings":["outgoing","settings"],".profileMenu a.outgoing-stats":["outgoing","you_stats"],".statsModule a.outgoing-stats-module":["outgoing","all_stats"],".userInfo a.sc-button-message":["outgoing","new_message"],".whoToFollowModule a.refresh-wtf":["outgoing","who_to_follow_refresh"],".soundActions__edit":["edit","main"],".latestActivities__viewAll":["header","activity","view_all"],".headerMessages__viewAll":["header","messages","view_all"],".search button.search__submit":["search","results","search"],".listenContent__inner .listenContent__parentLink a":["sets","trackview","set_button"],".listenContent__inner a.listenContent__prevLink":["sets","trackview","previous_track"],".listenContent__inner a.listenContent__nextLink":["sets","trackview","next_track"],".explore__bucket .carousel__next":["explore","skip_next"],".explore__bucket .carousel__prev":["explore","skip_prev"],".signupButton":["signup","start"],".loginButton":["login","start"],".header__login":["login","start"],".header__loginMenu .header__login":["header","login"],".header__loginMenu .signupButton":["header","signup"],".signupTeaser .signupButton":["signup-teaser","signup"]},function(e,t){return["click",t,function(t){w.trackClick(e,t)
    }]}),function(n){var i=n?"on":"off";I[i]("like",p)[i]("comment",h)[i]("addToPlaylist",c)[i]("createPlaylist",d)[i]("addToGroup",_)[i]("follow",f)[i]("repost",g)[i]("join",y)[i]("destroy",v),B[i]("all",x),M[i]("state:repeating",m),e.forEach(function(e){this[i].apply(this,e)},t(document))}}(),E=function(){function e(e){return this.message.indexOf(e)>-1}var t=["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","Script error.","stopAudioAdsTimer","ReferenceError: Can't find variable: dzPlayer","Attempting to use a disconnected port object","TopLine is not defined","has no method 'UpdatePanels'","Error connecting to extension","PCG_searchParentNodeClass","ModuleSystem has been deleted","Verif is not defined","SCD_main","executeScript","dpQuery","uplListener"];return function(n){return Math.random()<z&&!t.some(e,{message:n})}}()}).call(t,n(1))},731:function(e,t,n){(function(t){function i(e,t){t[e]("data",r,this)}function r(){l.extend(this,this._statuses.reduce(o,{latest:0,totalSize:0})),this._statuses.length&&this.latest===this.totalSize&&s.call(this),this.trigger("data")}function s(){this._statuses.forEach(i.bind(this,"off")),this._statuses.length=0,r.call(this)}function o(e,t){return e.latest+=t.latest,e.totalSize+=t.totalSize,e}var a,l=n(3),u=n(732);a=e.exports=u.extend({_statuses:null,initialize:function(){this._statuses=[]},add:t.noop,addTransfer:function(e){this._statuses.push(e),i.call(this,"on",e),r.call(this)},removeTransfer:function(e){var t=this._statuses.indexOf(e);t>-1&&(this._statuses.splice(t,1),i.call(this,"off",e),r.call(this))}})}).call(t,n(1))},732:function(e,t,n){var i,r=n(21);i=e.exports=Class.extend([r.Events,{latest:0,totalSize:0,initialize:function(e){e||(e={}),this.totalSize=e.totalSize||0},isIndeterminate:function(){return!this.totalSize},add:function(e){return e!==this.latest&&(this.latest=e,this.trigger("data")),this},setTotal:function(e){if(this.totalSize!==e){var t=!this.totalSize||!e;this.totalSize=e,t&&this.trigger("change:indeterminate",this.isIndeterminate())}return this},getValue:function(){return this.latest},getProgress:function(){return this.totalSize?this.latest/this.totalSize:0},getTotalSize:function(){return this.totalSize}}])},736:function(e,t,n){var i,r=n(3),s=n(109),o=n(86),a=n(96),l=n(82),u=n(81),c=n(90);i=e.exports=c.extend({submodelMap:{comment:s,playlist:a,promoted_by:l,track:o,user:l},baseUrl:function(){var e=this.get("uuid"),t={path:["me/activities/tracks"]};return t.query={cursor:e,limit:1},u.stringify(t)},parse:function(e){return e.collection?e.collection[0]:e},createSubmodel:function(){var e,t=r.last(this._submodels);c.prototype.createSubmodel.apply(this,arguments),e=r.last(this._submodels),e!==t&&this.listenTo(e,"destroy",this.onSubmodelDestroy)},onSubmodelDestroy:function(){this.destroy()},getSound:function(){var e,t;switch(this.get("type")){case"track":case"track-like":case"track-repost":case"track-sharing":case"track-promoted":e=this.get("track").id,t=o;break;case"comment":e=this.get("comment").track.id,t=o;break;case"playlist":case"playlist-like":case"playlist-repost":case"playlist-sharing":e=this.get("playlist").id,t=a}return e?t.instances.get(e):null},equivalentTo:function(e){return this.get("uuid")===e.get("uuid")},getUuid:function(){return this.get("uuid")||this.id},isPromoted:function(){return"track-promoted"===this.get("type")}},{convert:function(e,t){var n,i,s,o={};if(i=(e.get||function(e){return this[e]}).bind(e),i("type")&&i("created_at")&&(i("track")||i("playlist"))&&(n={uuid:r.uniqueId(),type:i("type").replace(/_/g,"-"),created_at:i("created_at"),tags:"affiliated"},s=i("track"),s?n.track=s:n.playlist=i("playlist"),t))try{o=t.toJSON()}finally{n.user=o}return n},hashFn:function(){return null}})},737:function(e,t,n){var i,r=n(18),s=n(90),o=n(81);i=e.exports=s.extend({resource_type:"announcement",baseUrl:function(){return o.stringify({path:["announcements",this.id]})},fetch:function(){},dismiss:function(){this.destroy()},isNew:function(){return!r.isLoggedIn()}})},738:function(e,t,n){var i,r=n(90),s=n(81);i=e.exports=r.extend({resource_type:"app",baseUrl:function(){return s.stringify({path:["apps",this.id]})}})},742:function(e,t,n){(function(t){var i,r=n(167);i=e.exports=r.extend({baseUrl:function(){return"me/followers/"},setRemote:t.noop})}).call(t,n(1))},743:function(e,t,n){var i,r=n(81),s=n(167);i=e.exports=s.extend({soundId:null,readPathSuffix:"",CREATE:"POST",setup:function(e,t){s.prototype.setup.apply(this,arguments),this.soundId=t.soundId},parse:function(e){var t=e.collection,n={};return this.next_href=e.next_href||!1,t&&t.length&&t.forEach(function(e){n[e.id]=!0}),n},url:function(e,t){switch(t){case"CREATE":return r.joinPath(["groups",e,"contributions"]);case"DELETE":return r.joinPath(["groups",e,"contributions",this.soundId]);default:return null!==this.next_href?this.next_href:r.stringify({path:["tracks",this.soundId,"groups"],query:{representation:"mini",linked_partitioning:1,limit:5e3}})}},getRequestData:function(e,t){return"CREATE"===t?{track:{id:this.soundId}}:null},getAjaxOptions:function(e,t){return"DELETE"===t?{contentType:"application/json",headers:{Accept:"application/json"},dataType:null}:void 0}},{neverRelease:!1,hashFn:function(e,t){return t.soundId}})},744:function(e,t,n){var i,r=n(3),s=n(18),o=n(167),a=n(81);i=e.exports=o.extend({baseUrl:"me/groups",CREATE:"POST",url:function(e,t){var n=r.result(this,"baseUrl");return e&&"CREATE"===t?this.saveUrl(e):e&&"DELETE"===t?this.destroyUrl(e):null===this.next_href?a.modify(n,{query:{representation:"mini",linked_partitioning:1,limit:5e3}}):this.next_href},parse:function(e){var t=e.collection,n={};return this.next_href=e.next_href||!1,t&&t.length&&t.forEach(function(e){n[e.id]=!0}),n},destroyUrl:function(e){return a.joinPath(["groups",e,"members",s.currentUserId()])},saveUrl:function(e){return a.joinPath(["groups",e,"members"])}})},745:function(e,t,n){var i,r=n(90),s=n(86),o=n(96);i=e.exports=r.extend({resource_type:"like",submodelMap:{track:s,playlist:o},url:null,setup:function(e){},getAudible:function(){var e;return(e=this.get("track"))?s.instances.get(e.id):(e=this.get("playlist"))?o.instances.get(e.id):void 0},isPlaylist:function(){return!this.get("track")},isSound:function(){return!!this.get("track")}},{hashFn:function(e){return e.id||[e.user_id,e.track?"s":"p",(e.track||e.playlist).id].join("_")}})},746:function(e){var t,n,i;n=["free","lite","solo","pro","pro-plus","creator-pro","creator-pro-unlimited"],i={customBuyTitle:[!1,!0,!0,!0,!0,!0,!0],quietMode:[!1,!0,!0,!0,!0,!0,!0],fileReplace:[!1,!0,!0,!0,!0,!0,!0],planLevel:[0,1,2,2,2,1,2],spotlight:[!1,!0,!0,!0,!0,!0,!0],stats:[0,1,2,2,2,1,2],visuals:[!1,!0,!0,!0,!0,!0,!0],widgets:[!1,!0,!0,!0,!0,!0,!0],widgetOptions:[!1,!1,!1,!1,!0,!1,!0],adFree:[!1,!0,!0,!0,!0,!0,!0]},t=e.exports={get:function(e,t){return i[t][n.indexOf(e)]}}},747:function(e){function t(e){return o||(o={alphanum:"[a-zA-Z0-9_-]+",user:"[a-zA-Z0-9_-]{1,255}",sound:"[a-zA-Z0-9_-]{1,255}",playlist:"[a-zA-Z0-9_-]{1,255}",id:"[0-9]+",secretToken:"s-[a-zA-Z0-9]{5}",group:"[a-zA-Z0-9_-]{1,255}",exploreCategory:"[^/]+",tag:".+",conversationId:"[0-9]+:(?:[0-9]+|system)",code:"\\w+",planName:"pro(?:-unlimited)?",metric:"\\w+",date:"[^/]+"},a=new RegExp(":("+Object.keys(o).join("|")+")","g")),a.lastIndex=0,new RegExp("^"+e.replace(a,n)+"(?:\\?([\\s\\S]*))?$")}function n(e,t){return"("+o[t]+")"}function i(e){return e.forEach(function(e){var n=e.redirect;"string"==typeof e.route&&(e.route=t(e.route)),n&&(e.handler=function(){this.navigate("string"==typeof n?n:n.apply(this,arguments),{replace:!0,trigger:!0})}),e.requiresLogin&&(e.handler=r(e.handler))}),e}function r(e){return function(){this.isLoggedIn()?e.apply(this,arguments):this.unauthenticated()}}var s,o,a;s=e.exports=i([{name:"404",route:/(.*)/,handler:function(e){var t=e.replace(/[,.)]+$/,"");e!==t?this.navigate("/"+t,{trigger:!0,replace:!0}):this.apply("error",{type:"404"})}},{name:"listen",route:":user/:sound(?:/:secretToken|/for/:user|/comment-:id)?",handler:function(e,t,n,i,r){this.apply("listen",{userPermalink:e,soundPermalink:t,secretToken:n,forUser:i,commentId:parseInt(r,10)||void 0})}},{name:"listenNetwork",route:":user/:sound(?:/:secretToken)?/(likes|reposts|sets|groups|recommended)(?:/:id)?",handler:function(e,t,n,i,r){"recommended"===i&&(i="related"),this.apply("listen-network",{userPermalink:e,soundPermalink:t,secretToken:n,subpage:i,commentId:parseInt(r,10)||void 0})}},{name:"listenComments",route:":user/:sound(?:/:secretToken)?/comments(?:/:id)?",redirect:function(e,t,n,i){return i=i?"comment-"+i:null,"/"+[e,t,n,i].filter(Boolean).join("/")}},{name:"listenDeprecated",route:":user/:sound(?:/:secretToken)?/related",redirect:function(e,t,n){return"/"+[e,t,n,"recommended"].filter(Boolean).join("/")}},{name:"soundEdit",route:":user/:sound/edit",requiresLogin:!0,handler:function(e,t){this.getCurrentUserPermalink()!==e?this.navigate("/",{replace:!0,trigger:!0}):this.apply("sound-edit",{userPermalink:e,soundPermalink:t})}},{name:"playlistEdit",route:":user/sets/:playlist/edit",handler:function(){this.notImplemented()}},{name:"playlist",route:":user/sets/:playlist(?:/(?::secretToken|for/:user))?",handler:function(e,t,n,i){this.apply("listen",{userPermalink:e,playlistPermalink:t,secretToken:n,forUser:i})}},{name:"playlistNetwork",route:":user/sets/:playlist(?:/:secretToken)?/(likes|reposts)",handler:function(e,t,n,i){this.apply("listen-network",{userPermalink:e,playlistPermalink:t,secretToken:n,subpage:i})}},{name:"user",route:":user",handler:function(e){this.apply("user",{userPermalink:e})}},{name:"you",route:"you",requiresLogin:!0,redirect:function(){return"/"+this.getCurrentUserPermalink()}},{name:"userNetwork",route:":user/(likes|followers|following|comments|sets|groups)",handler:function(e,t){this.apply("user-network",{userPermalink:e,subpage:t})}},{name:"userTracks",route:":user/tracks",requiresLogin:!0,handler:function(e){e!==this.getCurrentUserPermalink()?this.navigate("/"+e,{replace:!0,trigger:!0}):this.apply("user-network",{userPermalink:e,subpage:"tracks"})}},{name:"trackManager",route:":user/track-manager",requiresLogin:!0,handler:function(e){var t=this.getRolloutValue("track_manager");t&&e===this.getCurrentUserPermalink()?this.apply("track-manager"):this.navigate("/"+e,{replace:!0,trigger:!0})}},{name:"youNetwork",route:"you/(likes|followers|following|comments|sets|groups|tracks|track-manager)",requiresLogin:!0,redirect:function(e){return"/"+this.getCurrentUserPermalink()+"/"+e}},{name:"userGone",route:":user/(?:dropbox(?:/.*)?|follow)",code:410,redirect:function(e){return"/"+e}},{name:"userDeprecatedFavorites",route:":user/favorites",redirect:function(e){return"/"+e+"/likes"}},{name:"userDeprecated",route:":user/(sounds|spotlight)",redirect:function(e){return"/"+e}},{name:"groupDeprecated",route:"groups/:group/(contributors|dropbox|info)",redirect:function(e){return"/groups/"+e}},{name:"groupNetwork",route:"groups/:group/(members|moderators)",handler:function(e,t){this.apply("group-network",{groupPermalink:e,subpage:t})}},{name:"group",route:"groups/:group",handler:function(e){this.apply("group",{groupPermalink:e})}},{name:"groups",route:"groups",code:410,redirect:"/"},{name:"root",route:"",handler:function(){this.isLoggedIn()?this.navigate("/stream",{replace:!0,trigger:!0}):this.apply("front")}},{name:"explore",route:"explore(?:/?|/:exploreCategory)",handler:function(e){this.apply("explore",{category:e?e.toLowerCase():void 0})}},{name:"exploreDeprecated",route:"tracks(?:/:exploreCategory)?",redirect:function(e){return"/explore"+(e?"/"+e:"")}},{name:"creators",route:"creators",handler:function(){this.apply("creators")}},{name:"creatorsDeprecated",route:"creator",redirect:"/creators"},{name:"campaignsDeprecated",route:"campaigns/:alphanum",code:410,redirect:"/"},{name:"join-us",route:"join-us/:alphanum",handler:function(e){this.apply("join-us",{campaignId:e.toLowerCase()})}},{name:"people",route:"people",code:401,handler:function(){this.apply("people")}},{name:"peopleDeprecated",route:"people/(?:finder|genre)",redirect:"/people"},{name:"embedPage",route:"pages/embed",handler:function(){this.apply("widgets")}},{name:"emailUnsubscribedPage",route:"pages/unsubscribed",code:401,handler:function(){this.apply("unsubscribed")}},{name:"pages",route:"(terms-of-use(?:-pro)?|community-guidelines|imprint)",handler:function(e){this.apply("static-page",{pageName:e})}},{name:"pagesPages",route:"pages/(copyright(?:/report)?|contact|competition|dmca_policy|model-withdrawal-form)/?",handler:function(e){this.apply("static-page",{pageName:"pages/"+e})}},{name:"pagesWithVersions",route:"((?:terms-of-use-pro|(:?pages/(?:privacy|cookies)))(?:/[0-9]{2}-[0-9]{4})?)/?",handler:function(e){this.apply("static-page",{pageName:e})}},{name:"pressPages",route:"(press(?:/:alphanum)*)",handler:function(e){this.apply("static-page",{pageName:e})}},{name:"tags",route:"tags/:tag",handler:function(e){this.apply("tags",{tag:e})}},{name:"tagsTopLevel",route:"tags",redirect:"/explore"},{name:"search",route:"search(?:/(sounds|sets|people|groups))?",handler:function(e){this.apply("search",{category:e})}},{name:"activity",route:"notifications",requiresLogin:!0,handler:function(){this.apply("activity")}},{name:"activityDeprecated",route:"stream/activity",redirect:"/notifications"},{name:"stream",route:"stream",requiresLogin:!0,handler:function(){this.apply("stream")}},{name:"logout",route:"logout",code:401,handler:function(){this.apply("logout")}},{name:"mobile",route:"mobile(?:/(iphone|android))?",handler:function(e){this.apply("mobile",{platform:e})}},{name:"upload",route:"upload",handler:function(){this.apply("upload")}},{name:"uploadBeta",route:"upload-beta",handler:function(){this.apply("upload")}},{name:"uploadDeprecated",route:"next-upload",redirect:"/upload"},{name:"messages",route:"messages(?:/:conversationId)?",requiresLogin:!0,handler:function(e){this.apply("inbox",{conversationId:e})}},{name:"premium",route:"(?:premium|pro)(?:/(gifts))?(?:/buy/:planName)?",handler:function(e,t){this.apply("premium",{secondary:e,buyPlan:t})}},{name:"redeem",route:"(?:premium|pro)/redeem/:code",handler:function(e){this.apply("premium",{secondary:"redeem",code:e})}},{name:"purchased",route:"(?:premium|pro)/purchased(?:/(gifts))?/:planName",handler:function(e,t){this.apply("purchased",{subpage:e,plan:t})}},{name:"settingsUnknown",route:"settings/.*",redirect:"/settings"},{name:"settings",route:"settings",requiresLogin:!0,handler:function(){this.apply("settings")}},{name:"stats",route:":user/stats(?:/:metric(?:/:date/:date)?)?",requiresLogin:!0,handler:function(e,t,n,i){e!==this.getCurrentUserPermalink()?this.navigate("/"+e,{replace:!0,trigger:!0}):this.apply("stats",{metric:t,from:n,to:i})}},{name:"track-stats",route:":user/(?!sets/):sound/stats(?:/:metric(?:/:date/:date)?)?",requiresLogin:!0,handler:function(e,t,n,i,r){e!==this.getCurrentUserPermalink()?this.navigate("/"+e,{replace:!0,trigger:!0}):this.apply("track-stats",{metric:n,from:i,to:r,trackPermalink:t,userPermalink:e})}},{name:"youStats",route:"you/stats(?:/:metric(?:/:date/:date)?)?",requiresLogin:!0,redirect:function(e,t,n){return"/"+[this.getCurrentUserPermalink(),"stats",e,t,n].filter(Boolean).join("/")}},{name:"streamDeprecated",route:"dashboard(?:/.*)?",redirect:"/stream"},{name:"onboarding",route:"welcome",requiresLogin:!0,handler:function(){this.apply("onboarding")}},{name:"contactDeprecated",route:"pages/who-we-are",redirect:"/pages/contact"},{name:"v1",route:"("+["apps","upload-classic","share","settings/(advanced|connections|plan|account|email|privacy|extra)(?:/(.*))?","101","groups/:group/(edit|tracks)","groups/new","pages/copyright/report/form"].join("|")+")(/.*)?",handler:function(){this.notImplemented()}}])},748:function(e,t,n){function i(e){return e&&(e.attributes||e)}function r(e,t){var n=u.find(o.availableSizes,function(e){return e[0]>=t})||u.last(o.availableSizes);return"t20x20"===n[1]&&"artworks"===e?"tiny":n[1]}function s(e){if(e){var t,n;for(t=0,n=e.length;n>t;++t)if(!o.isDefaultImage(e[t].artwork_url))return e[t].artwork_url}return null}var o,a=n(347),l=n(416),u=n(3),c=/^http:/,d=/default/;o=e.exports={tagOptions:{whitelist:["alt","class","height","itemprop","src","title","width"]},availableSizes:[[20,"t20x20"],[50,"t50x50"],[120,"t120x120"],[200,"t200x200"],[500,"t500x500"]],imageUrlRegex:/^.*(artworks|avatars)-0*([0-9]+)-([a-z0-9]+)-([a-z0-9]+)\.jpg.*$/i,markup:function(e,t){var n=this.getMarkupAttrs(e,t);return a.getMarkup("img",n,this.tagOptions)},getMarkupAttrs:function(e,t){return e=i(e),u.extend({src:this.urlFrom(e,t.size),width:t.size,height:t.size,alt:this.getAltText(e)},t)},urlFrom:function(e,t){e=i(e);var n=e&&(e.artwork_url||e.avatar_url||s(e.tracks)||e.user&&e.user.avatar_url);return n=n?n.replace(c,"https:"):"",this.setFormat(n,t)},isDefaultImage:function(e){return!e||d.test(e)},setFormat:function(e,t){if(this.isDefaultImage(e))return"";o.imageUrlRegex.lastIndex=0;var n=o.imageUrlRegex.exec(e),i=n[1],s=n[4],a=r(i,t);return a&&(e=e.replace(s,a)),e},getAltText:function(e){return e=i(e),e?e.username?l.get(e,!0)+" avatar":l.get(e):""}}},750:function(e,t,n){function i(e){return e.split("/").map(encodeURIComponent).join("/")}var r,s,o=n(3),a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,l=["---","scheme","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"];r=e.exports={parse:function(e,t){var n,i,s=a.exec(e),o={};for(t||(t=l),n=1;n<l.length;++n)if(i=l[n],-1!==t.indexOf(i)&&(s[n]||"query"===i))switch(i){case"port":o[i]=parseInt(s[n],10);break;case"path":o[i]=s[n].split("/").map(decodeURIComponent).join("/");break;case"query":o[i]=r.parseQueryString(s[n]);break;default:o[i]=s[n]}return o},joinPath:function(e){return e.filter(Boolean).join("/")},parseQueryString:function(e){var t={};return e&&e.replace(/([^?=&]+)(?:=([^&]*))?/g,function(e,n,i){switch(n=decodeURIComponent(n),i=decodeURIComponent((i||"").replace(/\+/g," ")),typeof t[n]){case"object":t[n].push(i);break;case"undefined":t[n]=i;break;default:t[n]=[t[n],i]}}),t},param:function(e,t){t=t||{};var n=[],i=function(e,t){n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)},r=function(e,n){o.isArray(n)?n.forEach(function(n,i){r(e+"["+("object"==typeof n&&t.jquerySerialize?i:"")+"]",n)}):o.isObject(n)?o.each(n,function(t,n){r(e+"["+n+"]",t)}):i(e,n)};return o.each(e,function(e,t){r(t,e)}),n.join("&").replace(/%20/g,"+")},stringify:function(e,t){var n,a,l=[];return t&&(a=r.parse(t),e.query&&a.query&&(o.extend(a.query,e.query),delete e.query),e=o.extend({},a,e)),e.scheme&&l.push(e.scheme+"://"),e.user&&(l.push(e.user),e.password&&l.push(":"+e.password),l.push("@")),e.host&&l.push(e.host),e.port&&l.push(":"+e.port),e.path&&l.push("string"==typeof e.path?i(e.path):i(r.joinPath(e.path))),n=s(e.query),n&&l.push("?"+n),e.fragment&&l.push("#"+e.fragment),l.join("")},modify:function(e,t){var n=r.parse(e);return o.isFunction(t)?n=t.call(null,n):"object"==typeof t&&(t.query&&(o.extend(n.query,t.query),delete t.query),o.extend(n,t)),r.stringify(n)},normalize:function(e){var t=o.defaults(r.parse(e),{scheme:"http"});return r.stringify(t)}},s=function(e){var t,n,i,r,s,o=[];if(e)for(t in e)if(e.hasOwnProperty(t)&&(r=e[t],null!==r&&r!==s))if("object"==typeof r)for(i=r.length,n=0;i>n;++n)o.push(encodeURIComponent(t)+"="+encodeURIComponent(r[n]).replace(/%2F/g,"/"));else o.push(encodeURIComponent(t)+"="+encodeURIComponent(r).replace(/%2F/g,"/"));return o.join("&")}},788:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(17,function(){i=n(870);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},789:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(23,function(){i=n(871);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},790:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(31,function(){i=n(872);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},791:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(26,function(){i=n(873);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},792:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(19,function(){i=n(874);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},793:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(25,function(){i=n(875);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},794:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(21,function(){i=n(876);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},795:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(14,function(){i=n(877);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},796:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(29,function(){i=n(878);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},797:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(16,function(){i=n(879);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},798:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(5,function(){i=n(880);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},799:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(9,function(){i=n(881);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},800:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(10,function(){i=n(882);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},801:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(22,function(){i=n(883);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},802:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(24,function(){i=n(884);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},803:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(12,function(){i=n(885);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},804:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(30,function(){i=n(886);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},805:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(13,function(){i=n(887);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},806:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(18,function(){i=n(888);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},807:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(6,function(){i=n(889);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},808:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(28,function(){i=n(890);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},809:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(7,function(){i=n(891);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},810:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(15,function(){i=n(892);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},811:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(20,function(){i=n(893);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},812:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(8,function(){i=n(894);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},813:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(32,function(){i=n(895);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},814:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(3,function(){i=n(896);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},815:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(11,function(){i=n(897);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},816:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(4,function(){i=n(898);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},817:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(27,function(){i=n(899);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},818:function(e,t,n){e.exports=n.p+"assets/images/empty-states/tracks-d2c2a1.png"},819:function(e,t,n){e.exports=n.p+"assets/images/empty-states/tracks@2x-fab0f8.png"},820:function(e,t,n){e.exports=n.p+"assets/images/header/header-bg-d50908.png"},821:function(e,t,n){e.exports=n.p+"assets/images/playback/next-3f0ee8.png"},822:function(e,t,n){e.exports=n.p+"assets/images/playlist-cover-bg_small-7459c4.png"},823:function(e,t,n){var i=n(2);e.exports=(i.default||i).template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="l-creators">\n  <div class="l-creators-banner l-inner-fullwidth">\n\n  </div>\n\n  <div class="l-creators-content">\n    <div class="l-creators-main sc-border-light-right">\n\n    </div>\n\n    <div class="l-creators-sidebar">\n\n    </div>\n  </div>\n</div>\n'})},824:function(e,t,n){var i=n(2);e.exports=(i.default||i).template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="l-front">\n  <div class="l-front-hero l-inner-fullwidth">\n\n  </div>\n  <div class="l-front-teaser">\n\n  </div>\n  <div class="l-front-footer">\n\n  </div>\n</div>\n'})},825:function(e,t,n){var i=n(2);e.exports=(i.default||i).template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="l-messages-left sc-border-box"></div>\n<div class="l-messages-top g-z-index-content"></div>\n<div class="l-messages-main"></div>\n'})},826:function(e,t,n){var i=n(2);e.exports=(i.default||i).template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="l-home">\n  <div class="l-home-content l-inner-fullwidth">\n  </div>\n</div>\n'})},827:function(e,t,n){var i=n(2);e.exports=(i.default||i).template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="l-two-column-sound-hero">\n  <div class="l-main sc-border-light-right" aria-live="polite">\n    <div class="l-listen-sound sc-clearfix"></div>\n    <div class="l-listen-engagement"></div>\n    <div class="l-listen-content"></div>\n  </div>\n  <div class="l-sidebar-right">\n\n  </div>\n</div>\n'})},828:function(e,t,n){var i=n(2);e.exports=(i.default||i).template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="l-banner l-inner-fullwidth">\n\n</div>\n<div class="l-fixed-fluid">\n  <div class="l-sidebar-left">\n\n  </div>\n  <div class="l-main" aria-live="polite">\n\n  </div>\n</div>\n'})},830:function(e,t,n){var i=n(1217);"string"==typeof i&&(i=[[e.id,i,""]]);n(2003)(i,{})},831:function(e,t,n){var i=n(1218);"string"==typeof i&&(i=[[e.id,i,""]]);n(2003)(i,{})},832:function(e,t,n){var i=n(1219);"string"==typeof i&&(i=[[e.id,i,""]]);n(2003)(i,{})},833:function(e,t,n){var i=n(1221);"string"==typeof i&&(i=[[e.id,i,""]]);n(2003)(i,{})},834:function(e,t,n){var i=n(1223);"string"==typeof i&&(i=[[e.id,i,""]]);n(2003)(i,{})},840:function(e,t,n){(function(t){function i(e){function t(e,t){}function n(){o.fetch().done(l.resolve).fail(function(n){403===n.status?(t("Frozen user account, removing token",n),C.logout(),l.reject(n)):e?(t("Error fetching user information. Retrying...",n),i(e-1,l)):(t("Could not fetch user information. Giving up...",n),C.logout().always(function(){window.location.reload()}),l.reject(n))})}var r,s,o=k.get("me"),a=Q.get("me"),l=arguments[1];return o.baseUrl="me",void 0===e&&(e=2),l||(l=U.defer().done(function(){$.instances.add(o),T.trigger("connect:hasUserData")})),a&&(s=w.get("i"))&&s!==String(a.id)?C.loginWithCookies().done(n).fail(l.reject):a?(r=a.lastFetchTime||Date.now(),delete a.lastFetchTime,o.lastFetchTime=r,o.set(a),l.resolve(),setTimeout(function(){o.fetch().fail(function(e){403===e.status&&C.logout()})},J)):n(),l}function r(){var e,t=W.getQueryParam(X),n=!1;void 0!==t&&t&&(w.set(X,t),n=!0),n&&(e={_:Date.now()},e[X]=null,window.location=W.modify(window.location.href,{query:e}))}function s(){var e=10;!function n(){t(document).one("ajaxSuccess",function(t,i){!Date.setServerTime(i.getResponseHeader("Date"))&&--e&&n()})}()}function o(){h.initialize({statusCode:B}),K.initialize()}function a(){var e=new $({},{isMe:!0});e.on("change",function(){Q.set("me",f.extend({lastFetchTime:e.lastFetchTime},f.omit(e.attributes,"cpp")))}),k.set("me",e)}function l(){var e,n;e=new j,e.setRoutes(H,V),e.setLoader(R),v&&v.initialize(),k.set("router",e),g.setAudioAd(y),O.setAdManager(g),O.setFallbackSource(z,function(e){return j.getRoute("listenNetwork",e,"related")}),Y.initialize(),n=new m({el:t("#app"),appVersion:p}),n.render(),b.history.start({root:"/",pushState:!0})}function u(){var e=new $({id:193});e.release=e.hold=t.noop}function c(){var e=W.getQueryParams();f.each(e,function(e,t){var n,i,r=/^exp\.([^.]+)\.([^.]+)$/.exec(t),s=e;r&&(n=r[1],i=r[2]),n&&i&&s&&I.set(n,i,s)})}var d,p,h=n(137),f=n(3),g=n(184),m=n(966),v=n(327),y=n(950),_=n(903),b=n(21),x=n(107),w=n(374),k=n(80),C=n(18),S=n(123),T=n(16),E=n(34),A=n(115),I=n(39),D=n(864),P=n(111),N=n(866),L=n(217),B=n(714),R=n(924),M=n(103),O=n(101),U=n(83),F=n(729),z=n(367),j=n(19),V=n(956),H=n(747),q=n(102),K=n(333),G=n(378),W=n(81),$=n(82),Y=n(730),Q=new M("auth"),X="stage",J=5e3,Z=7e3;e.exports={start:function(e){r(),w.set("web-ver","2",365),window.console&&window.console.info("You like to look under the hood? Why not help us build the engine? http://soundcloud.com/jobs"),p=e?e:"DEVELOPMENT",k.set("app_version",p),window._scAuthCallbacks=_,q.audio?d():d().always(T.trigger.bind(T,"error:audio_support"))}},d=f.once(function(){function e(){t=i(),setTimeout(C.loginToClassicSoundCloud,Z)}var t,n,r=U.defer(),d=U.defer(),p=U.defer();return s(),o(),a(),u(),G.startPlayTracking(),!C.isLoggedIn()&&(n=W.getQueryParam("oauth_token"))&&C.setAuthToken(n),(C.isLoggedIn()?U.resolve():C.loginWithCookies()).done(e).fail(function(){T.once("connect:login",e),k.get("me").lastFetchTime=Date.now(),t=U.resolve()}).always(function(){t.done(function(){I.initialize(D).fetchAssignments().done(function(e){c(),E.setExperiments(e),r.resolve()}).fail(r.reject),P.setup(N).fetch().done(d.resolve).fail(d.reject)}).fail(A.ajaxFatal(S.USER_INFO_NOT_LOADED)),U.settled([t,r,d]).always(l).done(p.resolve).fail(p.reject)}),x.isIE||p.always(function(){!C.isLoggedIn()&&F.facebook&&L.isLoggedIn().done(function(e){e&&C.loginWithFacebook(L.getAccessToken())})}),p})}).call(t,n(1))},841:function(e,t,n){(function(e){var t=n(840);window.__sc_abortApp||e(function(){t.start(window.__sc_version)})}).call(t,n(1))},842:function(e,t,n){function i(e){return this.message.indexOf(e)>-1}var r,s=n(737),o=n(80),a=n(18),l=n(941),u=n(103),c=new u("already-seen"),d={"cookies-notification-21-08-2014":{message:'SoundCloud uses cookies. By using our services, you\'re agreeing to our <a href="/pages/cookies" class="sc-link-dark">Cookie Policy</a>. We have updated our <a href="/pages/privacy" class="sc-link-dark">Privacy Policy</a>, effective as of 21 August 2014. By using our services you\'re agreeing to the updated policy.'},"email-confirmation-announcement":{message:'Please confirm your email address to make the most of your SoundCloud experience. Check your <a href="/settings/email" class="sc-link-dark">settings</a> to resend the confirmation email.',shouldAddAnnouncement:function(){return a.isLoggedIn()&&!o.get("me").get("primary_email_confirmed")}}},p=["old search system","We will no longer be showing Favorites","making some changes to the Classic Dashboard"];
    r=e.exports=l.extend({model:s,baseUrl:"announcements",setup:function(){Object.keys(d).filter(function(e){var t=d[e].shouldAddAnnouncement;return 1!==c.get(e)&&(!t||t())}).forEach(function(e){this.add({message:d[e].message,localKey:e}),c.set(e,1),this.lastFetchTime=Date.now()},this)},parse:function(e){return e.filter(function(e){return!p.some(i,e)})}},{neverRelease:!0,hashFn:function(){return 1}})},843:function(e,t,n){var i,r=n(126),s=n(145),o=n(949),a=n(85);i=e.exports=a.extend(r,{model:o,next_href:!1,audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()},getSourceInfo:function(){var e=s.instances.get(this.options.conversationId);return{type:"conversation",resourceType:"user",resourceId:e.getRecipient().id}},comparator:function(e){return e.get("timestamp")}},{hashFn:function(e,t){return t&&t.conversationId}})},850:function(e,t,n){function i(e){this.add(e.object,{at:0})}var r,s=n(89),o=n(85),a=n(80),l=n(96);r=e.exports=o.extend({model:l,defaults:{offset:0,limit:50},baseUrl:function(){return"me/playlists"},setup:function(){this.listenTo(s,"createPlaylist:origin:user:"+a.get("me").id,i)}},{neverRelease:!0,hashFn:function(){return 1}})},851:function(e,t,n){var i,r=n(80),s=n(175),o=n(86),a=n(214),l=n(322);i=e.exports=s.extend({model:o,defaults:{sourceType:"likes"},filters:[function(e){return"sound"===e.resource_type}],setupSources:function(){var e=r.get("me").id;return"likes"===this.options.sourceType?[new a(null,{userId:e})]:[new l(null,{userId:e})]},extractModel:function(e){return e.getAudible()}},{hashFn:function(e,t){return t&&t.resource_id}})},862:function(e,t,n){var i,r=n(85),s=n(80),o=n(86),a=n(81);i=e.exports=r.extend({model:o,defaults:{limit:250},baseUrl:function(){return a.stringify({path:["/users",this.options.userId,"tracks"]},s.get("api_v2_host"))}})},863:function(e,t,n){var i,r=n(199),s=n(1199);i=e.exports={userBadge:{Subview:s,relativeElementAnchor:"right center",width:"202",anchor:"left center",offset:"10 -5",extraClassNames:"",minHeight:147},audibleAttribute:{Subview:r,relativeElementAnchor:"center bottom",width:"200",anchor:"right top",offset:"18 10",smallText:!0}}},864:function(e,t,n){var i,r=n(80),s=n(34),o=n(102);i=e.exports={version:"23-09-2014_12:30",availableLayers:["v2_listening"],anonymousUserId:s.getAnonymousId(),assignmentServiceUrl:r.get("api_v2_host")+"assignments/",localStorageKey:"V2::local::assignments",localStorageEnabled:o.localStorage}},866:function(e){e.exports={thisismyjam_sharing:{rolloutId:"thisismyjam_sharing",groups:[{value:!0},{value:!1}]},scheduled_publishings:{rolloutId:"scheduled_publishings",groups:[{value:!0},{value:!1}]},scheduled_publishings_only_sunrise_to_public:{rolloutId:"scheduled_publishings_only_sunrise_to_public",groups:[{value:!0},{value:!1}]},geo_blocking_settings:{rolloutId:"geo_blocking_settings",groups:[{value:!0},{value:!1}]},track_manager:{rolloutId:"track_manager",groups:[{value:!0},{value:!1}]},help_forum_link:{groups:[{value:!0,ratio:80},{value:!1,ratio:20}]},embed_avatars:{groups:[{value:!0,ratio:0},{value:!1,ratio:100}]},audio_ads:{rolloutId:"audio_ads",groups:[{value:!0},{value:!1}]},tags_suggested_api_v2:{rolloutId:"tags_suggested_api_v2",groups:[{value:!0},{value:!1}]},messages_on_api_v2:{rolloutId:"messages_on_api_v2",groups:[{value:!0},{value:!1}]},search_tracks_api_v2:{groups:[{value:!0,ratio:100},{value:!1,ratio:0}]},search_playlists_api_v2:{groups:[{value:!0,ratio:100},{value:!1,ratio:0}]},search_users_api_v2:{groups:[{value:!0,ratio:100},{value:!1,ratio:0}]},search_groups_api_v2:{groups:[{value:!0,ratio:0},{value:!1,ratio:100}]},search_universal_api_v2:{groups:[{value:!0,ratio:0},{value:!1,ratio:100}]},debug_audio_v2:{rolloutId:"debug_audio_v2",groups:[{value:!0},{value:!1}]},w2v_related_sounds:{rolloutId:"w2v_related_sounds",groups:[{value:!0},{value:!1}]}}},867:function(e){function t(e,t){return 1===t?"rgb("+e+")":"rgba("+e+","+t+")"}var n="0,0,0",i="51,51,51",r="102,102,102",s="153,153,153",o="255,0,0",a="255,51,0",l="255,85,0",u="255,101,0",c="255,255,255",d="82,82,82";e.exports={_config:{barWidth:2,gapWidth:1,fadeInSteps:10,fixedTimeIndicator:!0,commentLines:!1,fullHighlight:!0},"default":{progressGradient:[[0,l],[.7,a],[.701,l],[1,l]],loaderGradient:[[0,n,.5],[1,n,.5]],backgroundGradient:[[0,i],[.7,i],[.701,i,.5],[1,i,.5]],gapGradient:[[0,r,0],[.28,d,.6],[.7,i],[.701,i,.25],[1,i,.25]],scrubberGradientBackward:[[0,i,.5],[.7,i,.5],[.701,i,0],[1,i,0]],scrubberGradientForward:[[0,l,.5],[.7,a,.5],[.701,l,0],[1,l,0]],highlightGradientPlayed:[[0,l],[.7,a],[.701,l],[1,l]],highlightGradientUnplayed:[[0,n,.5],[1,n,.5]],progressIndicatorBg:t(n,.8),progressIndicatorColor:t(u,1),durationIndicatorBg:t(n,.8),durationIndicatorColor:t(s,1),dividerColorPrevious:t(o,1),dividerColorUpcoming:t(s,1)},inverted:{progressGradient:[[0,l],[.7,a],[.701,l],[1,l]],loaderGradient:[[0,c],[1,c]],backgroundGradient:[[0,c],[.7,c],[.701,c,.4],[1,c,.4]],gapGradient:[[0,c,0],[.28,c,.3],[.7,c,.5],[.701,c,.125],[1,c,.125]],scrubberGradientBackward:[[0,c,.5],[.7,c,.5],[.701,c,0],[1,c,0]],scrubberGradientForward:[[0,l,.5],[.7,a,.5],[.701,l,0],[1,l,0]],highlightGradientPlayed:[[0,l],[.7,a],[.701,l],[1,l]],highlightGradientUnplayed:[[0,c],[1,c]],progressIndicatorBg:t(n,.8),progressIndicatorColor:t(u,1),durationIndicatorBg:t(n,.8),durationIndicatorColor:t(s,1),dividerColorPrevious:t(o,1),dividerColorUpcoming:t(s,1)}}},868:function(e,t,n){n(44),n(45),n(46),n(47),n(48),n(49),n(50),n(51),n(52),n(54),n(56),n(63),n(64),n(65),n(66),n(67),n(68),n(73)},869:function(e,t,n){function i(e){return n(r(e))}function r(e){return s[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var s={"./activity":788,"./activity.js":788,"./creators":789,"./creators.css":830,"./creators.js":789,"./creators.tmpl":823,"./error":790,"./error.js":790,"./explore":791,"./explore.js":791,"./front":792,"./front.js":792,"./front.tmpl":824,"./group":794,"./group-network":793,"./group-network.js":793,"./group.js":794,"./inbox":795,"./inbox.css":831,"./inbox.js":795,"./inbox.tmpl":825,"./join-us":796,"./join-us.js":796,"./join-us.tmpl":826,"./listen":798,"./listen-network":797,"./listen-network.js":797,"./listen.css":832,"./listen.js":798,"./listen.tmpl":577,"./logout":799,"./logout.js":799,"./mobile":800,"./mobile.js":800,"./onboarding":801,"./onboarding.js":801,"./people":802,"./people.js":802,"./premium":803,"./premium.css":636,"./premium.js":803,"./premium.tmpl":578,"./purchased":804,"./purchased.js":804,"./search":805,"./search.js":805,"./settings":806,"./settings.js":806,"./sound-edit":807,"./sound-edit.js":807,"./static-page":808,"./static-page.js":808,"./stats":809,"./stats.js":809,"./stream":810,"./stream.js":810,"./tags":811,"./tags.js":811,"./track-manager":2022,"./track-manager.js":2022,"./track-stats":812,"./track-stats.js":812,"./two-column-sound-hero.css":833,"./two-column-sound-hero.tmpl":827,"./unsubscribed":813,"./unsubscribed.js":813,"./upload":814,"./upload.css":1786,"./upload.js":814,"./user":816,"./user-network":815,"./user-network.js":815,"./user.js":816,"./visual-user.tmpl":828,"./widgets":817,"./widgets.js":817};i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id=869},900:function(e,t,n){var i,r=n(3),s=n(901),o=n(80),a=n(34),l=n(60),u=n(61),c=n(62);a.initialize({id:o.get("client_application_id"),trackingUrl:o.get("eventlogger_tracking_url")}),i=e.exports={trackPageView:function(e,t,n){var i=t.join("::");null!=window._gaq&&window._gaq.push(["_trackPageview",i]),a.pageview(n,e,t)},trackAudioEvent:function(e){var t=e.sound.getMonetizableTrack()||e.sound,n=t.playlist,i=e.sourceInfo||{};a.audio({action:e.action,ad_urn:e.ad_urn,checkpointInterval:e.checkpointInterval,duration:e.duration,external_media:e.external_media,id:e.sound.id,level:e.level,monetization_type:e.monetization_type,monetized_object:e.monetized_object,policy:e.policy,promoted_by:e.promoted_by,protocol:e.protocol,searchTracking:e.searchTracking,setId:n&&n.id,setPosition:n?n.getSoundIndex(t):null,source:i.type||null,sourceVersion:i.version||null,trigger:e.trigger,user:e.user})},trackAppLoad:function(e,t,n){a.appLoad(t,{level:e,latency:n})},trackClick:function(e,t,n,i){a.click(n,e,t,i)},trackImpression:function(e,t,n){a.impression(t,e,n)},trackTiming:function(e,t,n,i,r){null!=window._gaq&&window._gaq.push(["_trackTiming",e,t,n,i,r])},trackAudioError:function(e){s.log(e)},trackAppError:function(e){if(null!=window._gaq){var t=e.get("error")||{},n=e.get("message"),i=t.filename||"",r=t.lineno||"";window._gaq.push(["_trackEvent","Errors",n,i+":"+r,null,!0])}},trackStats:function(e,t){a.performRequestWithUser(e,"/stats_view",t)},initialize:function(){r.invoke([l,c,u],"include")}}},901:function(e,t,n){var i,r=n(81),s="https://eventlogger.soundcloud.com/audio_error";i=e.exports={log:function(e){var t=r.stringify({query:e}),n=new Image;n.src=s+t}}},902:function(e,t,n){(function(t){function i(e){var n=e.controller,i=t(n.getContainerElement()),s=n.getState()===r.States.ERROR;i.toggleClass("blocked",s)}var r,s=n(53),o=n(16),a=1e3/60;e.exports={getInstance:function(e){return r||(r=new s({flashAudioPath:n(e?2068:1569),flashObjectID:"flashAudioObject",updateInterval:a,debug:e}),r.Errors=s.Errors,r.States=s.States,r.UPDATE_INTERVAL=a,o.once("audio:flash_block audio:flash_unblock",i)),r}}}).call(t,n(1))},903:function(e,t,n){function i(e,t){return t.reduce(function(t,n){return t[n]=e[n].bind(e),t},{})}var r,s=n(18),o=n(196),a=n(922),l=n(28);r=e.exports={connect:i(s,["setAuthToken","loginFailed","hasLoggedIn","hasSignedUp","removeIframe"]),facebook:i(o,["callback"]),instagram:i(a,["handleCallback"]),payment:i(l,["handleCallback"])}},904:function(e,t,n){var i,r=n(149),s=/\s+/g,o=/^\d{6,18}$/;i=e.exports=r.extend({message:"This is not a valid barcode.",check:function(e,t){e=e.replace(s,"");var n=!e.length||o.test(e);t(n)}})},905:function(e,t,n){function i(e){return null==e}var r,s=n(709),o=n(83);r=e.exports=Class.extend({fields:null,nullable:!0,validate:function(e){var t=o.defer(),n=this.fields.map(e.get,e);return n.every(i)?this.result(t,this.nullable):this.check(n,this.fields,this.result.bind(this,t)),t},affectsField:function(e){return this.fields.indexOf(e)>-1},getOwnerField:function(){return this.fields[0]}}),s.applyTo(r.prototype)},906:function(e,t,n){var i,r=n(149),s=/\W+/g,o=/^\w{5}\d{7}$/;i=e.exports=r.extend({message:"This is not a valid ISRC.",check:function(e,t){e=e.replace(s,"");var n=!e.length||o.test(e);t(n)}})},907:function(e,t,n){var i,r=n(149),s=/\W+/g,o=/^\w\d{10}$/;i=e.exports=r.extend({message:"This is not a valid ISWC.",check:function(e,t){e=e.replace(s,"");var n=!e.length||o.test(e);t(n)}})},908:function(e,t,n){var i,r=n(149);i=e.exports=r.extend({minLength:0,message:"{minLength} characters min",check:function(e,t){t(e.length>=this.minLength)}})},909:function(e){var t;t=e.exports=Class.extend({_propagate:!0,data:null,initialize:function(e){this.data=e||{}},stopPropagation:function(){this._propagate=!1},isPropagationStopped:function(){return!this._propagate}})},910:function(e,t,n){function i(){this.actions=s.reduce(this.actions,function(e,t,n){return"default"===n?e["default"]=t:e[n]=s.isFunction(t)?{fn:t,state:"enabled"}:s.extend({state:"enabled"},t),e},{})}var r,s=n(3),o=n(17);r=e.exports=new o({before:{initialize:function(){i.call(this)}},actions:null,performAction:function(e){var t,n=this.actions[e];if("default"===e){if(!n)return;"string"==typeof n&&(e=n,n=this.actions[e])}if("enabled"===n.state)return t=n.fn.apply(this,Array.prototype.slice.call(arguments,1)),t&&"function"==typeof t.state&&"pending"===t.state()&&(this.setActionState(e,"pending"),t.always(this.setActionState.bind(this,e,"enabled"))),t},setActionState:function(e,t){var n=this.actions[e];n.state!==t&&(this.trigger("change:action:"+e,t,n.state),n.state=t,this.buttons&&s.each(this.buttons,function(n,i){n.action===e&&this.setButtonConfig(i,{state:t})},this))}})},911:function(e,t,n){function i(){o.each(this.buttons,function(e,t){var n=r.call(this,t);this.setButtonConfig(t,{state:n&&n.state||"enabled"})},this)}function r(e){var t=this.buttons[e];return o.find(this.actions,function(e,n){return n===t.action})}var s,o=n(3),a=n(17);s=e.exports=new a({before:{initialize:function(){i.call(this)}},buttons:null,setButtonConfig:function(e,t){var n,i=this.buttons[e],r={};o.each(t,function(e,t){i[t]!==e&&(n=!0,r[t]=i[t]=e)}),n&&this.trigger("change:button:"+e,r)}})},912:function(e,t,n){function i(){this.fields=u.reduce(this.fields,s,{},this),this.set(u.extend(u.reduce(this.fields,a,{},this),this.attributes),{silent:!0}),this.resetChanges()}function r(e){return e&&e.hold&&e.release}function s(e,t,n){return e[n]=u.defaults(u.reduce(t,o,{},this),{isDirty:!1}),e}function o(e,t,n){return"function"==typeof t&&(t=t.call(this)),r(t)&&this._submodels.push(t),e[n]=t,e}function a(e,t,n){return e[n]=t.defaultValue,e}var l,u=n(3),c=n(17);l=e.exports=new c({before:{initialize:function(){this._submodels=this._submodels||[],i.call(this)}},fields:null,getFieldMetadata:function(e){return this.fields[e]},hasDefaultValue:function(){var e=arguments[0]?u.flatten(arguments):Object.keys(this.fields);return!e.some(function(e){var t=this.fields[e];return t&&t.defaultValue!==this.get(e)},this)},isDirty:function(){var e=arguments[0]?u.flatten(arguments):Object.keys(this.fields);return e.some(function(e){return this[e]&&this[e].isDirty},this.fields)},markFieldsClean:function(){if(this.isDirty()){var e=arguments[0]?u.flatten(arguments):Object.keys(this.fields);e.forEach(function(e){this[e]&&(this[e].isDirty=!1)},this.fields),this.isDirty()||this.trigger("form:clean")}},markFieldsDirty:function(e){var t=!this.isDirty();e="string"==typeof e?[e]:e,e.forEach(function(e){this[e]&&(this[e].isDirty=!0)},this.fields),t&&this.trigger("form:dirty")}})},913:function(e,t,n){function i(){var e=this.constraints=s.call(this,this.constraints);e.FORM=e.FORM||[],this.constraintConditions=this.constraintConditions||{},m.each(this.fields,function(e,t){var n=this.hasConstraintsOwnedBy(t);e.validity=n?x:w,e.message="",e.isValid=!0},this),this.on("change",function(){var e=Object.keys(this.changed),t=Object.keys(e.reduce(c.bind(this),{})),n=[];m.each(this.constraintConditions,function(t,i){m.intersection(t.fields,e).length&&n.push(i)}),m.uniq(t.concat(n)).forEach(l,this)},this)}function r(e){var t,n;return Array.isArray(e)?(t=e[0],n=e[1]):t=e,new t(n,this)}function s(e){return m.reduce(e,function(e,t,n){return e[n]=t.map(r,this),e},{},this)}function o(e){var t,n=w;p.call(this,e).some(function(e){switch(e.state){case k:return t=e.getLastError(),n=e.state,!0;case x:return n=e.state,!0}return!1},this),a.call(this,e,n,t)}function a(e,t,n){var i=t===w,r=this.fields[e];r.validity=t,(r.isValid!==i||r.message!==n)&&(r.message=n,r.isValid=i,this.trigger("validation:"+e,r))}function l(e){this.fields[e].validity=x,p.call(this,e).forEach(function(e){e.reset(this),e.getOwnerField&&(this.fields[e.getOwnerField()].validity=x)},this)}function u(){var e,t=!0;return e=m.every(this.fields,function(e){return t=t&&e.validity===w,e.validity!==x}),e?t?w:k:x}function c(e,t){return d.call(this,t).forEach(function(n){var i=m.result(n,"getOwnerField")||t,r=e[i];r||(r=e[i]=[]),-1===r.indexOf(n)&&r.push(n)}),e}function d(e){return h.call(this,e,"affected")}function p(e){return h.call(this,e,"owned")}function h(e,t){var n=(this.constraints[e]||[]).slice(),i="owned"===t?function(t){return t.getOwnerField()===e}:function(t){return t.affectsField(e)};return n.push.apply(n,this.constraints.FORM.filter(i)),n}function f(e,t){return e===t||e.constructor===t}var g,m=n(3),v=n(185),y=n(912),_=n(17),b=n(83),x=v.UNKNOWN,w=v.VALID,k=v.INVALID;g=e.exports=new _(y,{constraints:null,constaintConditions:null,before:{initialize:function(){i.call(this)}},override:{_validate:function(){return!0},isValid:function(){return m.every(this.fields,function(e){return e.validity===w})}},hasConstraintsOwnedBy:function(e){return p.call(this,e).length>0},validate:function(e){e=e||{};var t,n,i=b.defer();switch(u.call(this)){case k:i.resolve(!1);break;case w:i.resolve(!0);break;case x:n=!e.fields||!e.fields.length,t=m.chain(Object.keys(this.fields)).filter(function(t){return this.fields[t].validity===x&&(n||e.fields.indexOf(t)>-1)},this).reduce(c.bind(this),{}).map(function(e,t){var n,i=this.isConstraintEnabledForField.bind(this,t),r=m.partition(e,i),s=r[0],l=r[1];return m.invoke(l,"disable"),n=m.invoke(s,"validate",this,this.get(t)),n.length?b.settled(n).always(o.bind(this,t)):void a.call(this,t,w)},this).compact().value(),b.all(t).always(function(){i.resolve(this.isValid())}.bind(this))}return e.fields||i.done(function(e){this.trigger("validation",e)}.bind(this)),i},isConstraintEnabledForField:function(e,t){var n,i=this.constraintConditions[e];return n=i&&(!i.constraints||i.constraints.some(f.bind(this,t))),n?!!i.check.apply(this.fields[e],i.fields.map(this.get,this)):!0},getInvalidFields:function(){return m.compact(m.map(this.fields,function(e,t){return e.validity===k?t:void 0}))}})},914:function(e,t,n){var i,r=n(193),s=n(935);i=e.exports=r.extend(),s.applyTo(i.prototype)},915:function(e,t,n){(function(t){function i(){this._modal||(this._modal=new g({width:600,Subview:f}),h.on("gsWarningButtonClicked",r,this),this._modal.on(g.Events.CLOSED,l,this)),this._modal.open()}function r(e){e&&e.isSubmit&&(v.set("dialog-shown",!0),a()),o.call(this)}function s(){return!v.get(_)&&d.isLoggedIn()}function o(){l.call(this),window.open(y,"_blank")}function a(){t.ajax({url:c.get("api_v2_host")+"users/fastpass",type:"GET",dataType:"json"}).done(function(e){e&&e.url&&p.insertScript(e.url)})}function l(){h.off(),this._modal&&(this._modal.off(),this._modal.close(),this._modal=null)}var u,c=n(80),d=n(18),p=n(4),h=n(16),f=n(1207),g=n(108),m=n(103),v=new m("gs-warning-dialog"),y="https://www.soundcloudcommunity.com",_="dialog-shown";u=e.exports={_modal:null,redirectToHelpForum:function(){s()?i.call(this):(a(),o.call(this))}}}).call(t,n(1))},916:function(e){var t,n=(navigator.userLanguage||navigator.language||"").toLowerCase(),i=n.split("-")[0],r=n.split("-")[1];t=e.exports={isUsedLanguage:function(e){return i===e.toLowerCase()},isCountry:function(e){return r===e.toLowerCase()},isUsedLanguageAndCountry:function(e){return n===e.toLowerCase()}}},917:function(e){var t;t=e.exports={getStringFromBuffer:function(e,t,n){var i,r,s=new Uint8Array(e,t,n),o=new Array(n);for(r=0;n>r;++r){if(i=s[r],0===i){o.length=r;break}o[r]=String.fromCharCode(i>127?65533:i)}return o.join("")},getByteFromBuffer:function(e,t){return t>=0&&t<e.byteLength?new Uint8Array(e,t,1)[0]:void 0}}},920:function(e,t,n){(function(t){function i(e){var t,n=document.createElement("canvas"),i=e.width,r=e.height/2;return n.width=i,n.height=r,t=n.getContext("2d"),t.drawImage(e,0,0),t.getImageData(0,0,i,r)}function r(e){var t,n=i(e),r=e.width,o=e.height/2,a=new m(r);for(t=0;r>t;++t)a[t]=s(n,r,o,t);return a}function s(e,t,n,i){for(var r,s,o=t,a=0,l=n;l>a;)r=a+l>>1,s=4*(r*o+i)+3,255===e.data[s]?a=r+1:l=r;return a}function o(e){return t.ajax({url:c.get("wisHost")+"/"+e.replace(w,".json"),type:"GET",dataType:"json"})}function a(){var e,t,n,i=this.model,s=i.get("waveform_url"),a=h.defer().done(function(e){this.waveformData=e.data}.bind(this));return s.indexOf(y)>-1&&(s=v),t=s.split("/").pop(),(n=b.get(t))?a.resolve({data:n}):(a.done(function(e){b.set(e.key,e.data)}),e=function(){g.corsImg||(s="/_waveform/"+t),p.load(s).done(function(e){a.resolve({key:t,data:r(e)})})},u.enabled?o(t).done(function(e){u.succeeded();var n=e.height,i=e.samples.reduce(function(e,t,i){return e[i]=Math.round(Math.pow((n-t)/n,1/x)*n),e},new m(e.samples.length));a.resolve({key:t,data:i})}).fail(function(){u.failed(),e()}):e(),a)}var l,u,c=n(80),d=n(158),p=n(26),h=n(83),f=n(193),g=n(102),m=g.typedArrays?Uint8Array:Array,v="90GaSwazbrh1_m.png",y="/images/player-waveform-medium.png",_=500,b=new f({maxLength:_}),x=1.5,w=/\.png$/;v=(g.corsImg?"//w1.sndcdn.com/":"/_waveform/")+v,l=e.exports={loadWaveformDataForView:function(e){return u||(u=new d({tolerance:5,baseDelay:2e3,maxDelay:12e4})),a.call(e)}}}).call(t,n(1))},921:function(e){function t(e,t,n){var i,c=[],d=[[],[]],p=[[],[]],h=[];return n||(n=s),r(0,e.length,0,t.length,e,t,c,d,p,n),i=0,c.forEach(function(e){switch(e){case a:case l:h.push(!1,i);break;case o:++i}}),i=0,c.forEach(function(e){switch(e){case u:case l:h.push(!0,i);case o:++i}}),h}function n(e,t,n,i,r,s,o,a){var l,u,c;for(r[e%2][n]=0,u=n+1;i>=u;u++)r[e%2][u]=r[e%2][u-1]+1;for(l=e+1;t>=l;l++)for(r[l%2][n]=r[(l-1)%2][n]+1,u=n+1;i>=u;u++)c=r[(l-1)%2][u-1],a(s[l-1],o[u-1])||c++,r[l%2][u]=Math.min(c,Math.min(r[(l-1)%2][u]+1,r[l%2][u-1]+1))}function i(e,t,n,i,r,s,o,a){var l,u,c;for(r[t%2][i]=0,u=i-1;u>=n;u--)r[t%2][u]=r[t%2][u+1]+1;for(l=t-1;l>=e;l--)for(r[l%2][i]=r[(l+1)%2][i]+1,u=i-1;u>=n;u--)c=r[(l+1)%2][u+1],a(s[l],o[u])||c++,r[l%2][u]=Math.min(c,Math.min(r[(l+1)%2][u]+1,r[l%2][u+1]+1))}function r(e,t,s,c,d,p,h,f,g,m){var v,y,_,b,x,w,k;if(e>=t)for(v=s;c>v;v++)h.push(u);else if(s>=c)for(v=e;t>v;v++)h.push(a);else if(t-1===e){for(y=d[e],_=s,v=s+1;c>v;v++)m(p[v],y)&&(_=v);for(v=s;c>v;v++)h.push(v===_?m(p[v],y)?o:l:u)}else{for(b=Math.floor((e+t)/2),n(e,b,s,c,f,d,p,m),i(b,t,s,c,g,d,p,m),x=s,w=1/0,v=s;c>=v;v++)k=f[b%2][v]+g[b%2][v],w>k&&(w=k,x=v);r(e,b,s,x,d,p,h,f,g,m),r(b,t,x,c,d,p,h,f,g,m)}}function s(e,t){return e===t}var o=0,a=1,l=2,u=3;e.exports=t},922:function(e,t,n){(function(t){function i(e,n,i){var r=this.getAuthToken(),o=/^https?/.test(e),a=o?e:[p,e].join("/");return i=i||"GET",o||(n=s.extend(n||{},{access_token:r}),a=c.modify(a,{query:n})),t.ajax({url:a,method:i,dataType:"jsonp",cache:!0})}var r,s=n(3),o=n(80),a=n(103),l=n(83),u=n(236),c=n(81),d=new a("auth"),p="https://api.instagram.com",h="https://instagram.com/oauth/authorize",f="instagram_connect_callback.html",g="instagram_oauth_token",m=150,v=50;r=e.exports={getUserMedia:function(e){var t=l.defer();return this.isConnected()?i.call(this,e||"v1/users/self/media/recent",{count:v}).done(t.resolve):this.connect().fail(t.reject).done(function(){this.getUserMedia(e).done(t.resolve).fail(t.reject)}.bind(this)),t},getUser:function(){var e=l.defer();return i.call(this,"v1/users/self").done(function(t){var n=t.meta,i=t.data;i?e.resolve(i):n&&("OAuthAccessTokenException"===n.error_type?(d.unset(g),this.connect(e)):200!==n.code&&e.reject())}.bind(this)),e},setAuthToken:function(e){d.set(g,e)},getAuthToken:function(){return d.get(g)},isConnected:function(){return!!this.getAuthToken()},connect:function(e){var t,n=c.stringify({query:{client_id:o.get("instagram_client_id"),response_type:"token",redirect_uri:location.protocol+"//"+location.host+"/"+f}},h);return e=e||l.defer(),r.isConnected()?r.getUser():(t=u.centered(n,640,500),function i(){!t||t.closed?r.isConnected()?r.getUser().done(e.resolve).fail(e.reject):e.reject():t.closed||setTimeout(i,m)}(),e)},getApiUrl:function(){return p},handleCallback:function(e){var t=e.location.hash,n=t&&t.split("=")[1];n&&this.setAuthToken(n)}}}).call(t,n(1))},924:function(e,t,n){var i,r=n(83),s={};i=e.exports={loadLayout:function(e){var t,i=s[e];return i?i:(t=r.defer(),n(869)("./"+e.replace("layouts/",""))(function(e){t.resolve(e)}),i=s[e]=t.promise())}}},926:function(e,t,n){(function(t){function i(e){return e&&Date.fromString(e)}function r(e){return e.toISOString()}function s(){var e=this.get("monetizationStart"),t=this.get("monetizationEnd"),n=this.get("monetizationEnabled");!n||e||t||(this.set("monetizationEnd",!0),this.set("monetizationEndDate",a(u(),this.defaultDurationDays)))}function o(){var e=this.get("monetizationStart"),t=this.get("monetizationEnd"),n=this.get("monetizationStartDate");e&&t&&n&&(this.set("monetizationEndTimezone",this.get("monetizationStartTimezone")),this.set("monetizationEndDate",a(n,this.defaultDurationDays)))}function a(e,t){return e=new Date(+e),e.setUTCDate(e.getUTCDate()+t),e}function l(){this.get("monetizationEnabled")&&this.set("monetizationTerritories",["US"])}function u(){var e=new Date;return e.setHours(0,0,0,0),e}var c,d,p=n(3),h=n(80),f=n(710),g=n(17),m=n(138),v=n(713),y=n(711);d={monetizationEnabled:{defaultValue:!1},monetizationTerritories:{defaultValue:null},monetizationStartTimezone:{defaultValue:null},monetizationStart:{defaultValue:!1},monetizationStartLocalDate:{defaultValue:null},monetizationStartDate:{defaultValue:null},monetizationEndTimezone:{defaultValue:null},monetizationEnd:{defaultValue:!1},monetizationEndLocalDate:{defaultValue:null},monetizationEndDate:{defaultValue:null}},c=e.exports=new g({requires:["requiredSoundAttributes"],applyTo:function(e){t.extend(!0,e,{fields:d,constraints:{monetizationTerritories:[[m,{message:"Please choose at least one country to monetize in."}]],monetizationStartDate:[[m,{message:"Please choose a date."}],v,f],monetizationEndDate:[[m,{message:"Please choose a date."}],v,f]},constraintConditions:{monetizationTerritories:{fields:["monetizationEnabled"],check:p.identity},monetizationStartDate:{fields:["monetizationStartDate","monetizationStart"],check:function(e,t){return t&&(!e||this.isDirty)}},monetizationEndDate:{fields:["monetizationEndDate","monetizationEnd"],check:function(e,t){return t&&(!e||this.isDirty)}}}}),e.constraints.FORM=(e.constraints.FORM||[]).concat([[y,{nullable:!0,message:"Monetization start should happen before monetization end.",fields:["monetizationStartDate","monetizationEndDate"]}]]),e.requiredSoundAttributes.push("monetization")},after:{setup:function(){this.on("change:monetizationEnabled",l,this);var e=h.get("me");!this.isEdit&&e.getCPPOption("default_monetizable")&&this.set("monetizationEnabled",!0),this.defaultDurationDays=e.getCPPOption("default_monetization_duration_in_days"),this.defaultDurationDays>0&&(this.isEdit||(this.on("change:monetizationEnabled",s,this),s.call(this)),this.on("change:monetizationStartDate change:monetizationEnd",o,this))}},around:{getAttributesToBeSaved:function(e){var t,n=e.apply(this,[].slice.call(arguments,1));return h.get("me").isCPPEnabled()&&(n.monetization=t={start_timestamp:null,start_timezone:null,end_timestamp:null,end_timezone:null,territories:[]},this.get("monetizationEnabled")&&(t.territories=this.get("monetizationTerritories")),this.get("monetizationStart")&&(t.start_timestamp=r(this.get("monetizationStartDate")),t.start_timezone=this.get("monetizationStartTimezone")),this.get("monetizationEnd")&&(t.end_timestamp=r(this.get("monetizationEndDate")),t.end_timezone=this.get("monetizationEndTimezone"))),n},getAttributesFromModel:function(e){var t=e.apply(this,[].slice.call(arguments,1)),n=this.getAudible().get("monetization");return n&&p.extend(t,{monetizationEnabled:!(!n.territories||!n.territories.length),monetizationTerritories:n.territories,monetizationStart:!!n.start_timestamp,monetizationEnd:!!n.end_timestamp,monetizationStartDate:i(n.start_timestamp),monetizationEndDate:i(n.end_timestamp),monetizationStartTimezone:n.start_timezone,monetizationEndTimezone:n.end_timezone}),t}}})}).call(t,n(1))},927:function(e,t,n){function i(e){var t=e?"on":"off";this._onFieldsChange=this._onFieldsChange||u.throttle(r.bind(this),this.serialization.saveOnceIn,{leading:!1}),this[t](s.call(this),this._onFieldsChange)}function r(){var e=this.serialization.fields.reduce(function(e,t){return e[t]=this.get(t),e}.bind(this),{});p.set(this.serialization.storeKey,e)}function s(){return"change:"+this.serialization.fields.join(" change:")}function o(){return!this._isStoringFields&&this.serialization.storeKey&&this.serialization.fields&&this.serialization.fields.length}var a,l,u=n(3),c=n(103),d=n(17),p=new c("persistentFormFields","session");l={fields:[],storeKey:null,saveOnceIn:3e3,restoreAndStoreOnSetup:!1},a=e.exports=new d({_isStoringFields:!1,_onFieldsChange:null,after:{setup:function(){this.serialization=u.extend({},l,this.serialization),this.serialization.restoreAndStoreOnSetup&&(this.restoreFields(),this.startStoringFields())}},applyTo:function(e){e.constructor.onCleanup=function(e){e.stopStoringFields()}},restoreFields:function(){var e=p.get(this.serialization.storeKey);e&&this.set(e)},startStoringFields:function(){o.call(this)&&(this._isStoringFields=!0,i.call(this,!0))},stopStoringFields:function(){this._isStoringFields&&(this._isStoringFields=!1,i.call(this,!1),this._onFieldsChange=null)},clearStoredValues:function(){p.set(this.serialization.storeKey,null)},_getStore:function(){return p}})},928:function(e,t,n){(function(t){function i(e){return""===e?null:e}function r(){return c.get("me").isCPPEnabled()}var s,o,a,l=n(3),u=n(904),c=n(80),d=n(174),p=n(906),h=n(907),f=n(138),g=n(17);a={publisherArtist:{defaultValue:null},publisherAlbumTitle:{defaultValue:null},publisherContainsMusic:{datasource:[{label:"",value:null},{label:"Yes",value:!0},{label:"No",value:!1}],defaultValue:null},publisher:{defaultValue:null},publisherIswc:{defaultValue:null},publisherUpcOrEan:{defaultValue:null},publisherIsrc:{defaultValue:null},publisherPLine:{defaultValue:null},publisherExplicit:{datasource:[{label:"",value:null},{label:"Yes",value:!0},{label:"No",value:!1}],defaultValue:null},publisherWriterComposer:{defaultValue:null},publisherReleaseTitle:{defaultValue:null}},o={artist:"publisherArtist",album_title:"publisherAlbumTitle",contains_music:"publisherContainsMusic",publisher:"publisher",iswc:"publisherIswc",upc_or_ean:"publisherUpcOrEan",isrc:"publisherIsrc",p_line:"publisherPLine",explicit:"publisherExplicit",writer_composer:"publisherWriterComposer",release_title:"publisherReleaseTitle"},s=e.exports=new g({requires:["getAudible","getAttributesFromModel","requiredSoundAttributes"],requirePrototype:d.prototype,applyTo:function(e){t.extend(!0,e,{fields:a,constraints:{publisher:[f],publisherIswc:[h],publisherIsrc:[f,p],publisherUpcOrEan:[u],publisherArtist:[f],publisherContainsMusic:[f]},constraintConditions:{publisherIsrc:{fields:["monetizationEnabled","publisherContainsMusic"],constraints:[f],check:function(e,t){var n=c.get("me"),i=n.getCPPOption("is_isrc_required_for_audio"),r=n.getCPPOption("has_monetization_form");return e&&(t||i)&&r}},publisherArtist:{fields:["publisherContainsMusic"],check:function(e){return r()&&e}},publisherContainsMusic:{fields:["monetizationEnabled"],check:l.identity},publisher:{fields:["publisherContainsMusic"],check:function(e){var t=c.get("me"),n=t.getCPPOption("has_monetization_form");return e&&n}}}}),e.requiredSoundAttributes.push("publisher_metadata")},after:{setup:function(){!this.isEdit&&c.get("me").getCPPOption("default_is_audio")&&this.set("publisherContainsMusic",!1)}},around:{getAttributesToBeSaved:function(e){var t=e.apply(this,[].slice.call(arguments,1));return c.get("me").isCPPEnabled()&&(t.publisher_metadata=l.reduce(o,function(e,t,n){return e[n]=i(this.get(t)),e},{},this)),t},getAttributesFromModel:function(e){var t=e.apply(this,[].slice.call(arguments,1)),n=this.getAudible().get("publisher_metadata");return n&&l.extend(t,l.reduce(o,function(e,t,i){return e[t]=n[i],e},{})),t}}})}).call(t,n(1))},929:function(e,t,n){(function(t){function i(e){return e&&new Date(e)}function r(){var e,t=this.get("scheduledPublic"),n=this.get("scheduledPrivate");e=!t&&n,this.set("sharing",e?"public":"private")}var s,o,a=n(3),l=n(80),u=n(710),c=n(17),d=n(138),p=n(111),h=n(711),f=n(713);o={scheduledTimezone:{defaultValue:null},scheduledPublic:{defaultValue:!1},scheduledPublicLocalDate:{defaultValue:null},scheduledPublicDate:{defaultValue:null},scheduledPrivate:{defaultValue:!1},scheduledPrivateLocalDate:{defaultValue:null},scheduledPrivateDate:{defaultValue:null}},s=e.exports=new c({requires:["requiredSoundAttributes"],applyTo:function(e){t.extend(!0,e,{fields:o,constraints:{scheduledPublicDate:[[d,{message:"Please choose a date."}],f,u],scheduledPrivateDate:[[d,{message:"Please choose a date."}],f,u]},constraintConditions:{scheduledPublicDate:{fields:["scheduledPublicDate","scheduledPublic"],check:function(e,t){return t&&(!e||this.isDirty)}},scheduledPrivateDate:{fields:["scheduledPrivateDate","scheduledPrivate"],check:function(e,t){return t&&(!e||this.isDirty)}}}}),e.constraints.FORM=(e.constraints.FORM||[]).concat([[h,{nullable:!0,message:"Track must be made available before it's made unavailable.",fields:["scheduledPublicDate","scheduledPrivateDate"]}]]),e.requiredSoundAttributes.push("scheduled_public_date","scheduled_private_date","scheduled_timezone")
    },after:{setup:function(){this.on("change:scheduledPublic change:scheduledPrivate",r,this)}},around:{getAttributesToBeSaved:function(e){var t,n=e.apply(this,[].slice.call(arguments,1)),i=l.get("me").isCPPEnabled(),r=i||p.get("scheduled_publishings"),s=r||p.get("scheduled_publishings_only_sunrise_to_public");return s&&(t={scheduled_public_date:null,scheduled_timezone:null,scheduled_public_timezone:null},this.get("scheduledPublic")&&(t.scheduled_public_date=+this.get("scheduledPublicDate")),(this.get("scheduledPublic")||this.get("scheduledPrivate"))&&(t.scheduled_timezone=this.get("scheduledTimezone"),t.scheduled_public_timezone=this.get("scheduledTimezone")),r&&(t.scheduled_private_date=null,this.get("scheduledPrivate")&&(t.scheduled_private_date=+this.get("scheduledPrivateDate"))),a.extend(n,t)),n},getAttributesFromModel:function(e){var t=e.apply(this,[].slice.call(arguments,1)),n=this.getAudible();return a.extend(t,{scheduledPublic:!!n.get("scheduled_public_date"),scheduledPrivate:!!n.get("scheduled_private_date"),scheduledPublicDate:i(n.get("scheduled_public_date")),scheduledPrivateDate:i(n.get("scheduled_private_date")),scheduledTimezone:n.get("scheduled_timezone")}),t}}})}).call(t,n(1))},930:function(e,t,n){function i(e,t,n){function i(){clearTimeout(o),clearTimeout(s)}function r(){e()&&(i(),n())}var s=setTimeout(i,t),o=setInterval(r,a);r()}var r,s=n(16),o=n(17),a=50,l=2e4,u=window.performance&&window.performance.timing,c="fetchStart",d=!0;r=e.exports=new o(u?{defaults:{performanceSelector:null},after:{render:function(){var e,t,n;d&&(d=!1,(e=this.performanceSelector)&&(t=function(){return this.$(e).length}.bind(this),n=function(){var e=Date.now()-u[c];s.trigger("tracking:appLoad",{latency:e})},i(t,l,n)))}}}:{})},931:function(e,t,n){(function(t){function i(e){return!this.id||e.jqAjax||e.saveRequest||e.batch===!1||"private"===this.get("sharing")}var r,s=n(3),o=n(17),a=n(83),l=50,u=50;r=e.exports=new o({requires:["batchUrl"],applyTo:function(e,n){var r,o={},c=null,d=0,p=n&&n.flushInterval||l,h=n&&n.maxQueueSize||u;this.around(e,{fetch:function(e,n){var l;return n||(n={}),i.call(this,n)?e(n):(n.url=s.result(this,"url"),this._requests||(this._requests={}),l=this._requests[n.url],l||(l=this._requests[n.url]=a.defer(),o[this.id]={model:this,deferred:l,options:n},++d,c||(r=function(){var e=s.reduce(o,function(e,t,n){return"pending"===t.deferred.state()&&(e[n]=t),e},{}),n=Object.keys(e);clearTimeout(c),r=null,c=null,o={},d=0,n.length&&(n.sort(),t.ajax({url:this.batchUrl(n),dataType:"json"}).done(function(t){t.forEach(function(t){var n,i=t.id,r=e[i];return r?(n=r.model,n.lastFetchTime=Date.now(),n.set(n.parse(t),r.options),r.deferred.resolve(),i):void 0}),s.each(e,function(e){e.deferred.reject()})}))}.bind(this),c=setTimeout(r,p)),d===h&&r()),l)}})}})}).call(t,n(1))},932:function(e,t,n){var i,r=n(3),s=n(158),o=n(17),a=2e3,l=3e4,u=100;i=e.exports=new o({applyTo:function(e){var t=e.constructor;this.before(t,{onCleanup:function(e){e.pollOff()}})},after:{initialize:function(){this._polling={circuit:null,callbacks:{}}}},pollOn:function(e,t,n){var i=this._polling,r=i.circuit;r||(r=i.circuit=new s({tolerance:1,baseDelay:a,maxDelay:l,backoffRate:1.5,giveup:u,enabled:!1}),r.on("enabled",function(){this.fetch({attrs:Object.keys(i.callbacks),batch:!1}),r.failed()},this).on("giveup",function(){this.pollOff()},this)),i.callbacks[e]=i.callbacks[e]||[],i.callbacks[e].length||r.succeeded(),this._polling.callbacks[e].push({callback:t,context:n}),this.on("change:"+e,t,n)},pollOff:function(e,t,n){var i,s=this._polling,o={};3===arguments.length&&s.callbacks[e]?(i=[],o[e]=[],s.callbacks[e].forEach(function(r){r.callback===t&&r.context===n?o[e].push(r):i.push(r)}),s.callbacks[e]=i,s.callbacks[e].length||delete s.callbacks[e]):e?(o={attr:s.callbacks[e]||[]},delete s.callbacks[e]):(o=s.callbacks,s.callbacks={}),r.each(o,function(e,t){e.forEach(function(e){this.off("change:"+t,e.callback,e.context)},this)},this),!Object.keys(s.callbacks).length&&s.circuit&&(s.circuit.dispose(),s.circuit=null)}})},933:function(e,t,n){(function(t){var i,r=n(17),s=t.noop;i=e.exports=new r({isReadOnly:!1,makeReadOnly:function(){this.isReadOnly=!0,this.set=this.reset=this.unset=s}})}).call(t,n(1))},934:function(e,t,n){function i(e){var t,n,i,r,o,a,l;return o={dontPersist:!0},e.key?(f.lastIndex=0,t=f.exec(e.key),void(t&&(i=t[1],n=t[2],i&&n&&(r=g[i][n],r&&(l=s(r),a=Object.keys(l),u.each(l,function(e,t){r.set(t,e,o)}),u.difference(r.keys(),a).forEach(function(e){r.unset(e,o)})))))):void u.each(u.values(g.local).concat(u.values(g.session)),function(e){e.reset(o)})}var r,s,o,a,l,u=n(3),c=n(17),d=n(102),p="V2",h="::",f=new RegExp("^"+p+h+"(\\S+?)"+h+"(\\S+)"),g={local:{},session:{}};r=e.exports=new c({storage:null,keyName:null,type:null,namespace:null,around:{initialize:function(e,t,n){return n=n||"local",g[n][t]?g[n][t]:(g[n][t]=this,e(),this.type=n,this.namespace=t,this.storage=a(n,t),this.keyName=o(n,t),this._store=s(this),void(this.length=u.keys(this._store).length))}},after:{set:function(e,t,n){n&&n.dontPersist||l(this)},unset:function(e,t){t&&t.dontPersist||l(this)},reset:function(e){e&&e.dontPersist||l(this)}},dispose:function(){this.storage.removeItem(this.keyName),this.reset({dontPersist:!0}),delete g[this.type][this.namespace]},write:function(){l(this)}}),o=function(e,t){return[p,e,t].join(h)},l=function(e){var t=e.storage;if(t)try{return t.setItem(e.keyName,JSON.stringify(e._store)),!0}catch(n){return!1}},a=function(e){var t;return"local"===e&&d.localStorage?t=window.localStorage:"session"===e&&d.sessionStorage&&(t=window.sessionStorage),t},s=function(e){var t={},n=e.storage;if(n)try{t=JSON.parse(n.getItem(e.keyName)||"{}")}catch(i){t={}}return t},window.addEventListener("storage",i,!1)},935:function(e,t,n){var i,r=n(17);i=e.exports=new r({onCleanup:null,onIncrement:null,onDecrement:null,after:{initialize:function(e){this._counts={},this._needsGC=!1,e=e||{},this._autoCleanup=!!e.autoCleanup,this.onCleanup=e.onCleanup,this.onIncrement=e.onIncrement,this.onDecrement=e.onDecrement},reset:function(){this._counts={},this._needsGC=!1},set:function(e,t){this._counts[e]||(this._counts[e]=1,this.onIncrement&&this.onIncrement(t,e,1))},unset:function(e){delete this._counts[e]}},before:{reset:function(){this.onCleanup&&this.forEach(this.onCleanup)}},countFor:function(e){return this._counts[e]||0},increment:function(e,t){return this.has(e)&&(t="number"==typeof t?t:1,t>0?(this._counts[e]=(this._counts[e]||0)+t,this.onIncrement&&this.onIncrement(this.get(e),e,t)):0>t&&this.decrement(e,-t)),this},decrement:function(e,t){return this.has(e)&&(t="number"==typeof t?t:1,t>0?(this._counts[e]=(this._counts[e]||1)-t,this.onDecrement&&this.onDecrement(this.get(e),e,t),this._counts[e]<=0&&(this._needsGC=!0,this._autoCleanup&&this.cleanup())):0>t&&this.increment(e,-t)),this},cleanup:function(){var e,t,n=this.onCleanup,i=!1;if(this._needsGC){for(e in this._counts)this._counts.hasOwnProperty(e)&&this._counts[e]<=0&&(n&&(t=this.get(e),n.call(t,t,e)),i=!0,this.unset(e));this._needsGC=!1}return i},changeKey:function(e,t){if(e!==t){var n=this.get(e),i=this.countFor(e);this.unset(e),this.set(t,n),this.increment(t,i-1)}}})},941:function(e,t,n){(function(t){var i,r=n(3),s=n(21),o=n(85),a=n(83),l=9e5;i=e.exports=o.extend({defaults:{pollingInterval:l},url:function(){return r.result(this,"baseUrl")},parse:function(e){return e},fetch:function(e){var t=e&&e.url||r.result(this,"url");return t?s.Collection.prototype.fetch.call(this,e):a.defer().done(e&&e.success).resolve([])},bulkFetch:function(){return this.fetch()},setLimit:t.noop,isFullyPopulated:function(){return!1},startPolling:function(){this.isPolling()||this._pollingId||(this._pollingId=setInterval(this.fetch.bind(this),this.options.pollingInterval))},stopPolling:function(){clearInterval(this._pollingId),this._pollingId=null},isPolling:function(){return!!this._pollingId}})}).call(t,n(1))},942:function(e,t,n){function i(){this.setDirty(!0)}var r,s=n(3),o=n(947);r=e.exports=o.extend({className:"g-box-full sceneLayer",render:function(){return this},addNode:function(e){var t=e[0],n=s.extend({el:this.el,scale:this.scale},e[1]),r=new t(n);r.className&&this.$el.addClass(r.className),this.addSubview(r).on("dirty",i,this).render()},onCanvasResize:function(){s.invoke(this.subviews,"onResize")},setDirty:function(e){(this.isDirty=e)&&this.trigger("dirty")},update:function(){if(!this.disposed&&this.isDirty){var e,t,n=!1;for(this.context.clearRect(0,0,this.el.width,this.el.height),e=0;t=this.subviews[e];++e)t.draw(),n=n||t.isDirty;this.setDirty(n)}}})},943:function(e,t,n){function i(){r.call(this)}function r(){this._raf||(this._raf=window.requestAnimationFrame(this.update))}var s,o=n(21);s=e.exports=Class.extend([o.Events,{_layers:null,_raf:null,initialize:function(){this._layers=[],this.update=this.update.bind(this)},teardown:function(){window.cancelAnimationFrame(this._raf),this._raf=null;for(var e;e=this._layers.pop();)this.stopListening(e)},getLayers:function(){return this._layers},addLayer:function(e){this._layers.push(e),this.listenTo(e,"dirty",i),e.isDirty&&r.call(this)},update:function(){this._raf=null;var e,t;for(e=0;t=this._layers[e];++e)t.isDirty&&t.update()}}])},944:function(e,t,n){var i,r=n(3),s=n(21),o=n(362),a=n(392),l=n(86),u=n(194),c=300,d=3e3,p=1e3;i=function(){this.setup.apply(this,arguments)},i.extend=s.Model.extend,r.extend(i.prototype,s.Events,{constructor:i,currentComment:null,activeTimestamp:null,currentTimestamp:null,commentQuotaTimeout:null,commentQuotaExceeded:!0,commentIntervalTimeout:null,commentIntervalExceeded:!0,currentState:u.INITIAL,interactingWithComments:!1,setup:function(e,t,n){this.collection=new o(null,{sound_id:e,secret_token:n}),this.listenTo(this,u.INITIAL,this.onInitialState).listenTo(this,u.CURRENT_COMMENT,this.onCurrentComment).listenTo(this,u.CURRENT_TIMESTAMP,this.onCurrentTimestamp).listenTo(this,u.ACTIVE_TIMESTAMP,this.onActiveTimestamp),this.sound=new l({id:e,resource_id:t}),this.listenTo(this.sound,"time",this.onAudioTime)},dispose:function(){this.stopListening(),this.sound.release(),this.collection.release()},onInitialState:function(){this.activeTimestamp=null,this.currentComment=null,this.currentTimestamp=null},onCurrentComment:function(e,t){this.activeTimestamp=null,this.currentComment=t,this.currentTimestamp=null},onCurrentTimestamp:function(e){this.activeTimestamp=null,this.currentComment=null,this.currentTimestamp=e},onActiveTimestamp:function(e){this.activeTimestamp=e,this.currentComment=null,this.currentTimestamp=null},goToState:function(e){var t=this.canGoToState.apply(this,arguments);return t&&(this.currentState=e,this.trigger.apply(this,arguments)),t},canGoToState:function(e){var t=this.activeTimestamp&&this.currentState===u.ACTIVE_TIMESTAMP;switch(e){case u.CURRENT_TIMESTAMP:return!t;case u.CURRENT_COMMENT:return this.commentIntervalExceeded&&arguments[1]!==this.currentComment&&!t;case u.INITIAL:return!0;case u.ACTIVE_TIMESTAMP:return arguments[1]!==this.activeTimestamp;default:return!1}},onAudioTime:r.throttle(function(e){if(!this.disposed){var t,n=e.sound.currentTime();!this.interactingWithComments&&this.sound.isPlaying()&&(t=this.collection.getCommentAtTimestamp(n,c),t?this.goToState(u.CURRENT_COMMENT,n,t)&&(clearTimeout(this.commentIntervalTimeout),this.commentIntervalExceeded=!1,setTimeout(function(){this.commentIntervalExceeded=!0}.bind(this),p),clearTimeout(this.commentQuotaTimeout),this.commentQuotaExceeded=!1,this.commentQuotaTimeout=setTimeout(function(){this.commentQuotaExceeded=!0,this.onAudioTime(e)}.bind(this),d)):this.commentQuotaExceeded&&this.goToState(u.CURRENT_TIMESTAMP,n))}},c)}),e.exports=a.applyTo(i,{onCleanup:function(e){e.dispose()},cleanupInstantly:!0,hashFn:function(e){return e}})},945:function(e){var t,n,i;t=e.exports={getStandardGenres:function(){return n},convertFromID3:function(e){var t=i[e],n={};return"string"==typeof t?n.tags=[t]:t&&2===t.length&&(n.tags=[t[1],t[0]]),n}},n=["Abstract","Acid Jazz","Acoustic Rock","Acoustic","African","Alternative","Ambient","Americana","Arabic","Arts & Entertainment","Avantgarde","Bachata","Ballads","Bhangra","Blues Rock","Blues","Books","Bossa Nova","Breakbeats","Business & Technology","Chanson","Chillout","Chiptunes","Choir","Classic Rock","Classical Guitar","Classical","Comedy","Contemporary","Country","Cumbia","Dance","Dancehall","Death Metal","Dirty South","Disco","Documentary","Dream Pop","Drum & Bass","Dub","Dubstep","Easy Listening","Electro House","Electronic Pop","Electronic Rock","Electronic","Folk Rock","Folk","Funk","Glitch","Gospel","Grime","Grindcore","Grunge","Hard Rock","Hardcore","Heavy Metal","Hip-Hop","House","Indie Pop","Indie","Industrial Metal","Instrumental Rock","Instrumental","J-Pop","Jazz Funk","Jazz Fusion","Jazz","K-Pop","Latin Jazz","Latin","Learning","Mambo","Metalcore","Middle Eastern","Minimal","Modern Jazz","Moombahton","New Wave","News","Nu Jazz","Opera","Orchestral","Other","Piano","Pop","Post Hardcore","Post Rock","Progressive House","Progressive Metal","Progressive Rock","Punk","R&B","Rap","Reggae","Reggaeton","Riddim","Rock 'n' Roll","Rock","Salsa","Samba","Shoegaze","Singer-Songwriter","Smooth Jazz","Soul","Sports","Story","Synth Pop","Tech House","Techno","Thrash Metal","Trance","Trap","Trip-hop","Turntablism","Underground","80s"],i=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal",["New Age","Ambient"],null,null,"Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","Acapella","Euro-House","Dance Hall","Goa","Drum & Bass","Club - House","Hardcore","Terror","Indie","BritPop","Punk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop"]},946:function(e){e.exports={FAILURE:"failure",FINISHED:"finished",NOT_FOUND:"not_found",PREPARING:"preparing",TRANSCODING:"transcoding",QUEUED:"queued"}},949:function(e,t,n){var i,r=n(84),s=n(113),o=n(90);i=e.exports=o.extend({_audible:null,setup:function(){var e,t=this.get("urn");t&&(e=s.getAsAttributes(t),this._audible=new r({resource_type:e.resource_type,id:e.id}),this.addSubmodel(this._audible))},getAudible:function(){return this._audible}})},950:function(e,t,n){function i(){var e=Math.min(this.getRequiredListenPeriod(),this.sound.get("duration")),t=this.sound.audio.currentTime();return e-t}function r(e){this._monetizableTrack.trigger("ad:"+e.type,e)}var s,o=n(3),a=n(90),l=n(98),u=n(86),c=n(82);s=e.exports=a.extend({resource_type:"audio_ad",submodelMap:{sound:u,user:c},_monetizableTrack:null,baseUrl:function(){return l.getAudioAdsUrl({trackId:this.getMonetizableTrack().id})},setup:function(){this.options.requiredListenPeriod=this.options.requiredListenPeriod||0},createSubmodel:function(e,t){var n;"sound"===t?(n=this.get("sound"),this.sound=new u(o.extend(n,{resource_id:{ad_target_id:this.resource_id,sound_id:n.id}})),this.sound.setMonetizableTrack(this._monetizableTrack),this.listenTo(this.sound,"buffering:start buffering:end",r)):a.prototype.createSubmodel.apply(this,arguments)},parse:function(e){var t={};return e&&e.promoted&&(l.parseResponse({promoted:[e.promoted]}),e.track&&(t.sound=e.track,t.sound.ad_type="preroll",t.user=e.track.user,t.audio=e.promoted.data.audio,t.companion_display=o.isEmpty(e.promoted.data.companion_display)?null:e.promoted.data.companion_display)),t},isPopulated:function(){var e="MONETIZE"===this.getMonetizableTrack().get("policy");return e?a.prototype.isPopulated.call(this):!0},getMsUntilCanSkip:function(){return Math.max(i.call(this),0)},getRequiredListenPeriod:function(){return this.attrExists("required_listen_period")?this.get("required_listen_period"):this.options.requiredListenPeriod},isSkippableRightNow:function(){return i.call(this)<=0},getMonetizableTrack:function(){return this._monetizableTrack},configureMonetizableTrack:function(e){this._monetizableTrack=e}})},951:function(e,t,n){var i,r=n(90),s=n(98);i=e.exports=r.extend({resource_type:"dashbox",baseUrl:function(){return s.getDashboxUrl(this.options.adZone)},parse:function(e){return s.parseDashboxResponse(e)}})},952:function(e,t,n){(function(t){var i,r=n(90);i=e.exports=r.extend({resource_type:"soundVisual",hasDataForView:function(){return!0},baseUrl:t.noop},{hashFn:function(e){return e.urn}})}).call(t,n(1))},955:function(e,t,n){var i,r=n(3),s=n(80),o=n(90),a=n(83),l=n(81),u=n(113);i=e.exports=o.extend({_hasFetched:!1,url:function(){return l.modify(s.get("visualsHost"),{path:"/visual_owners"})},parse:function(e){return this._hasFetched=!0,e.soundcloud?r.reduce(e.soundcloud,function(e,t,n){return t.forEach(function(t){e["soundcloud:"+n+":"+t]=!0}),e},{}):e.visual_owners.reduce(function(e,t){return e[t]=!0,e},{})},fetch:function(e){return this._hasFetched?a.resolve():o.prototype.fetch.call(this,r.defaults({saveRequest:!0},e))},get:function(e){return this._hasFetched?o.prototype.get.call(this,e)||r.any(u.getAlternateUrns(e),o.prototype.get,this):void 0},reset:function(){this._hasFetched=null,delete this._requests,Object.keys(this.attributes).forEach(function(e){this.unset(e)},this)}},{hashFn:function(){return 1},neverRelease:!0})},956:function(e,t,n){function i(e){return a.isFunction(e.toJSON)?e.toJSON():e}function r(e){return e.replace(/^https?:.+?\w\//,"/")}function s(e,t){return t&&t.metric&&(e.push(t.metric),t.from&&t.to&&e.push(t.from,t.to)),e}var o,a=n(3),l=n(80),u=n(750);o=e.exports={listen:function(e,t){if(e=i(e),"playlist"===e.kind)return this.getRoute("playlist",e,t);var n,s={};return t=t?"/comment-"+t:"",e._playlist&&e._playlist.id&&(n=e._playlist.permalink_url.replace(/\/s-[a-zA-Z0-9]{5}$/,""),s.query={"in":r(n).substr(1)+(this.includeSecretTokenForPlaylist(e._playlist)?"/"+e._playlist.secret_token:"")}),s.path=e.user?"/"+e.user.permalink+"/"+e.permalink+t+(this.includeSecretTokenForSound(e)?"/"+e.secret_token:""):r(e.permalink_url+t),u.stringify(s)},listenNetwork:function(e,t,n){e=i(e);var s={};return"related"===t&&(t="recommended"),s.path=e.user?"/"+e.user.permalink+"/"+e.permalink+(this.includeSecretTokenForSound(e)?"/"+e.secret_token:""):r(e.permalink_url),s.path+="/"+t+("comments"===t&&n?"/"+n:""),u.stringify(s)},groupNetwork:function(e,t){return"/groups/"+i(e).permalink+"/"+t},soundEdit:function(e){return e=i(e),"/"+u.stringify({path:[e.user.permalink,e.permalink,"edit"]})},playlistEdit:function(e){return e=i(e),"/"+u.stringify({path:[e.user.permalink,"sets",e.permalink,"edit"]})},playlist:function(e){return e=i(e),e.user?"/"+e.user.permalink+"/sets/"+e.permalink+(this.includeSecretTokenForPlaylist(e)?"/"+e.secret_token:""):r(e.permalink_url)},playlistNetwork:function(e,t){e=i(e);var n={};return n.path=e.user?"/"+e.user.permalink+"/sets/"+e.permalink+(this.includeSecretTokenForPlaylist(e)?"/"+e.secret_token:""):r(e.permalink_url),n.path+="/"+t,u.stringify(n)},user:function(e,t){return e=i(e),"/"+e.permalink+(t?"/"+t:"")},userNetwork:function(e,t){return e=i(e),"/"+e.permalink+"/"+t},group:function(e){return e?(e=i(e),"/groups"+(e.permalink?"/"+e.permalink:"")):"/groups"},groups:function(){return"/groups"},root:function(){return"/"},explore:function(e){return e=(e||"").toLowerCase(),"/"+u.stringify({path:["explore",e]})},creators:function(){return"/creators"},"join-us":function(e){return"/"+u.stringify({path:["join-us",e]})},people:function(e){return"/"+u.stringify({path:["people",e]})},pages:function(e){return"/"+e},embedPage:function(){return"/pages/embed"},emailUnsubscribedPage:function(){return"/pages/unsubscribed"},pagesPages:function(e){return"/pages/"+e},pressPages:function(e){return(e||"").replace(/^(\/?press\/|\/?)/,"/press/")},tags:function(e){return u.stringify({path:"/tags/"+e.toLowerCase()})},search:function(e,t){return"/"+u.stringify({path:["search",e],query:{q:t}})},activity:function(){return"/notifications"},stream:function(){return"/stream"},logout:function(){return"/logout"},mobile:function(e){return"/mobile"+(e?"/"+e:"")},upload:function(){return"/upload"},onboarding:function(){return"/welcome"},messages:function(e){return"/messages"+(e?"/"+e:"")},premium:function(e,t,n){var i=["pro",e];return t&&i.push("buy",t),"/"+u.stringify({path:i,query:{ref:n}})},redeem:function(e){return"/pro/redeem/"+e},purchased:function(e){var t=e.indexOf("gift")>-1?"gifts":"",n=e.replace(/(gift|subscription)-/,"");return"/pro/purchased/"+u.stringify({path:[t,n]})},settings:function(e){return"/"+u.stringify({path:["settings",e]})},v1:function(e,t){return t=t||"","/"+e+t},stats:function(e){var t=[l.get("me").get("permalink"),"stats"];return"/"+u.joinPath(s(t,e))},"track-stats":function(e,t){e=i(e);var n=[e.user.permalink,e.permalink,"stats"];return"/"+u.joinPath(s(n,t))}}},957:function(e){e.exports={user:{likes:{permalink_url:":permalink_url/likes",uri:":uri/favorites"},spotlight:{permalink_url:":permalink_url",uri:":uri/spotlight"}}}},1217:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,".l-creators-content{position:relative}.l-creators-main{padding:30px 30px 0 0;margin:0 330px 0 0}.l-creators-sidebar{position:absolute;top:30px;bottom:0;right:0;width:300px}@media (max-width:1079px){.l-creators-main{margin-right:30px;border-right:0}.l-creators-sidebar{position:relative;width:auto}}",""])},1218:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,".l-messages-left{position:fixed;top:45px;bottom:0;width:350px;overflow:hidden}.l-messages-main{padding-left:380px}@media (max-width:1079px){.l-messages-left{width:270px}.l-messages-main{padding-left:300px}}",""])},1219:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,".listen-content .l-fixed{top:45px;left:30px;right:30px}.listen-about .l-main{min-height:230px}.listen-about .l-sidebar-right{top:30px;right:0;position:absolute;bottom:auto}@media (max-width:1079px){.listen-content .l-fixed{left:20px;right:20px}.listen-about>.l-sidebar-left{display:none}}",""])},1220:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,".l-premium-content{padding-top:30px}",""])},1221:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,".l-two-column-sound-hero{position:relative}.l-two-column-sound-hero .l-sidebar-right{position:absolute;top:30px;bottom:0;right:0;width:300px}.l-two-column-sound-hero .l-sidebar-right .l-fixed{width:300px;overflow:hidden}.l-two-column-sound-hero .l-sidebar-right .l-footer{position:relative;top:-30px;padding-bottom:30px}.l-two-column-sound-hero .l-main{padding:0 30px 0 0;margin:0 330px 0 0}.l-two-column-sound-hero .l-listen-content{position:relative;padding:20px 0 0 0;margin:0}@media (max-width:1079px){.l-two-column-sound-hero .l-main{padding-right:20px;margin-right:320px}}",""])},1222:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,"",""])},1223:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,".l-fluid-fixed{position:relative}.l-fluid-fixed .l-sidebar-right{position:absolute;top:30px;bottom:0;right:0;width:300px}.l-fluid-fixed .l-sidebar-right .l-fixed{width:300px;overflow:hidden}.l-fluid-fixed .l-sidebar-right .l-footer{position:relative;top:-30px;padding-bottom:30px}.l-fluid-fixed .l-main{padding:30px 30px 0 0;margin:0 330px 0 0}@media (max-width:1079px){.l-fluid-fixed .l-main{padding-right:20px;margin-right:320px}}",""])},1224:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,".l-one-column>.l-main{padding:30px 0}",""])},1452:function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/buffering-d977ce.gif"},1453:function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/buffering@2x-44e635.gif"},1454:function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/pause-1a7f37.png"},1455:function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/pause@2x-079b87.png"},1456:function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/play-bd92b1.png"},1457:function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/play@2x-636581.png"},1458:function(e,t,n){e.exports=n.p+"assets/images/close-modal-2f3ad2.png"},1469:function(e,t,n){e.exports=n.p+"assets/images/empty-states/comments-1267be.png"},1470:function(e,t,n){e.exports=n.p+"assets/images/empty-states/comments@2x-30296a.png"},1471:function(e,t,n){e.exports=n.p+"assets/images/empty-states/following-f6990b.png"},1472:function(e,t,n){e.exports=n.p+"assets/images/empty-states/following@2x-65b4cc.png"},1473:function(e,t,n){e.exports=n.p+"assets/images/empty-states/groups-small-aec6e5.png"},1474:function(e,t,n){e.exports=n.p+"assets/images/empty-states/groups-small@2x-3528f2.png"},1475:function(e,t,n){e.exports=n.p+"assets/images/empty-states/groups-f91e24.png"},1476:function(e,t,n){e.exports=n.p+"assets/images/empty-states/groups@2x-d264fa.png"},1477:function(e,t,n){e.exports=n.p+"assets/images/empty-states/info-206a18.png"},1478:function(e,t,n){e.exports=n.p+"assets/images/empty-states/info@2x-f54f4f.png"},1479:function(e,t,n){e.exports=n.p+"assets/images/empty-states/likes-3bcb16.png"},1480:function(e,t,n){e.exports=n.p+"assets/images/empty-states/likes@2x-0ea46c.png"},1481:function(e,t,n){e.exports=n.p+"assets/images/empty-states/playlists-17e39d.png"},1482:function(e,t,n){e.exports=n.p+"assets/images/empty-states/playlists@2x-81659e.png"},1500:function(e,t,n){e.exports=n.p+"assets/images/header/arrow-5e6240.png"},1501:function(e,t,n){e.exports=n.p+"assets/images/header/logo-af6f94.png"},1502:function(e,t,n){e.exports=n.p+"assets/images/header/logo@2x-3a4e31.png"},1503:function(e,t,n){e.exports=n.p+"assets/images/header/notification-badge-d6f5da.png"},1504:function(e,t,n){e.exports=n.p+"assets/images/header/profile/follow_light-006bc6.png"},1505:function(e,t,n){e.exports=n.p+"assets/images/header/profile/following_light-4c851d.png"},1506:function(e,t,n){e.exports=n.p+"assets/images/header/profile/groups_light-9aa8cd.png"},1507:function(e,t,n){e.exports=n.p+"assets/images/header/profile/likes_light-b79fe9.png"},1508:function(e,t,n){e.exports=n.p+"assets/images/header/profile/premium_light-0f2add.png"},1509:function(e,t,n){e.exports=n.p+"assets/images/header/profile/sets_light-eb43b8.png"},1510:function(e,t,n){e.exports=n.p+"assets/images/header/profile/settings_light-a467af.png"},1511:function(e,t,n){e.exports=n.p+"assets/images/header/profile/sounds_light-9699a1.png"},1512:function(e,t,n){e.exports=n.p+"assets/images/header/profile/stats_light-53c6d3.png"},1513:function(e,t,n){e.exports=n.p+"assets/images/header/profile/user_light-dd6863.png"},1514:function(e,t,n){e.exports=n.p+"assets/images/header/volume-icons-a9c21b.png"},1523:function(e,t,n){e.exports=n.p+"assets/images/loader-dark-45940a.gif"},1524:function(e,t,n){e.exports=n.p+"assets/images/messages/add_sound_button_icon-92bfb4.png"},1529:function(e,t,n){e.exports=n.p+"assets/images/messages/recipientRemove-929f8f.png"},1531:function(e,t,n){e.exports=n.p+"assets/images/playback/pause-0c7ca2.png"},1532:function(e,t,n){e.exports=n.p+"assets/images/playback/play-817953.png"},1533:function(e,t,n){e.exports=n.p+"assets/images/playback/previous-5c5c39.png"},1535:function(e,t,n){e.exports=n.p+"assets/images/premium/error-305b36.png"},1554:function(e,t,n){e.exports=n.p+"assets/images/stopper-9d4f27.png"},1559:function(e,t,n){e.exports=n.p+"assets/images/widgets/colors-0c8fa8.png"},1566:function(e,t,n){e.exports=n.p+"assets/images/widgets/tabs/classic-3212ff.png"},1567:function(e,t,n){e.exports=n.p+"assets/images/widgets/tabs/mini-450a78.png"},1568:function(e,t,n){e.exports=n.p+"assets/images/widgets/tabs/visual-b7ef66.png"},1569:function(e,t,n){e.exports=n.p+"assets/swf/flashAudio-ccac65.swf"},1570:function(e,t,n){var i=n(2);e.exports=(i.default||i).template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="l-fluid-fixed">\n  <div class="l-main sc-border-light-right" aria-live="polite">\n\n  </div>\n  <div class="l-sidebar-right">\n\n  </div>\n</div>\n'})},1571:function(e,t,n){var i=n(2);e.exports=(i.default||i).template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="l-one-column">\n  <div class="l-main" aria-live="polite">\n\n  </div>\n</div>\n'})},1786:function(e,t,n){var i=n(1222);"string"==typeof i&&(i=[[e.id,i,""]]);n(2003)(i,{})},1787:function(e,t,n){var i=n(1224);"string"==typeof i&&(i=[[e.id,i,""]]);n(2003)(i,{})},2003:function(e){function t(e,t){for(var n=0;n<e.length;n++){var i=e[n],s=l[i.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](i.parts[o]);for(;o<i.parts.length;o++)s.parts.push(r(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(r(i.parts[o],t));l[i.id]={id:i.id,refs:1,parts:a}}}}function n(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],s=r[0],o=r[1],a=r[2],l={css:o,media:a};n[s]?n[s].parts.push(l):t.push(n[s]={id:s,parts:[l]})}return t}function i(){var e=document.createElement("style"),t=d();return e.type="text/css",t.appendChild(e),e}function r(e,t){var n,r,s;if(t.singleton){var l=h++;n=p||(p=i()),r=o.bind(null,n,l,!1),s=o.bind(null,n,l,!0)}else n=i(),r=a.bind(null,n),s=function(){n.parentNode.removeChild(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media)return;r(e=t)}else s()}}function s(e,t,n){var i=["/** >>"+t+" **/","/** "+t+"<< **/"],r=e.lastIndexOf(i[0]),s=i[0]+n+i[1];if(e.lastIndexOf(i[0])>=0){var o=e.lastIndexOf(i[1])+i[1].length;return e.slice(0,r)+s+e.slice(o)}return e+s}function o(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=s(e.styleSheet.cssText,t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function a(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l={},u=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},c=u(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),d=u(function(){return document.head||document.getElementsByTagName("head")[0]}),p=null,h=0;e.exports=function(e,i){i=i||{},"undefined"==typeof i.singleton&&(i.singleton=c());var r=n(e);return t(r,i),function(e){for(var s=[],o=0;o<r.length;o++){var a=r[o],u=l[a.id];u.refs--,s.push(u)}if(e){var c=n(e);t(c,i)}for(var o=0;o<s.length;o++){var u=s[o];if(0===u.refs){for(var d=0;d<u.parts.length;d++)u.parts[d]();delete l[u.id]}}}}},2014:function(e,t,n){e.exports=n.p+"assets/images/warnings/gs-logo-1c66fa.png"},2015:function(e,t,n){e.exports=n.p+"assets/images/warnings/sc-logo-849899.png"},2022:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(34,function(){i=n(2024);var e=r;r=null;for(var t=0,s=e.length;s>t;t++)e[t](i)})},2066:function(e,t,n){(function(t){function i(e,t){this.attrExists(e)&&null!=this.get(e)&&this.set(e,Math.max(0,this.get(e)+(t?1:-1)))}var r,s=n(3),o=n(126),a=n(80),l=n(2067),u=n(17),c=n(90),d=n(383),p=n(81);r=e.exports=new u(o,l,d,{requirePrototype:c.prototype,requires:["getPrevSound","getCurrentSound","getNextSound","getFirstSound","getLastSound","getSounds","getNumSounds","getSoundIndex","play","pause","isPlaying","isProcessing","isEditing","isPublic","isPrivate","isNowPlaying","isGeoblocked","isMonetizable","isPublisherBlocked","hasScheduledPrivacy"],before:{setup:function(){this.listenTo(this,"destroy",this.pause)
    }},around:{destroyUrl:function(e){return this.isHidden()?"app/v2/me/hidden_tracks/"+this.id:e.apply(this,s.rest(arguments))}},getSourceInfo:function(){return{type:"single",resourceId:this.resource_id,resourceType:this.resource_type}},initAudio:function(){var e=this.getCurrentSound();e&&e.audio.initAudio()},onLike:function(e){i.call(this,"likes_count",e.state)},onRepost:function(e){i.call(this,"reposts_count",e.state)},getShareURL:function(e){var t,n,i,r=!(!e||!e.permalinkUrl),s=r?e.permalinkUrl:this.get("permalink_url");return i=this.playlist&&this.playlist.id,t={query:{"in":i?p.parse(this.playlist.getShareURL()).relative.substr(1):null}},r||(t.scheme="https"),e&&e.time&&(t.fragment="t="+e.time),n=this.isPrivate()&&!/\/s-[a-zA-Z0-9]{5}$/.test(s),p.stringify(t,s+(n?"/"+this.get("secret_token"):""))},resetSecretLink:function(){var e=p.stringify({path:"/"+p.joinPath([this.getUrn(),"secret_token","reset"])},a.get("api_v2_host"));return t.ajax({url:e,type:"POST",dataType:"json"}).done(function(e){this.set({secret_token:e.secret_token,permalink_url:e.permalink_url})}.bind(this))},getPermalink:function(){return this.get("permalink_url").replace(/^https?:.+?\w\//,"/")},isHidden:function(){return!!this.get("disabled_reason")},toggle:function(e){this[this.isPlaying()?"pause":"play"](e)},isPaused:function(){return!this.isPlaying()},duration:function(){return this.get("duration")}})}).call(t,n(1))},2067:function(e,t,n){(function(t){var i,r=n(17),s=n(90),o=n(81);i=e.exports=new r({requirePrototype:s.prototype,defaults:{isPrivate:function(){return"private"===this.get("sharing")},extractSecretToken:t.noop},isPublic:function(){return!this.isPrivate()},around:{url:function(e,t){var n=this.get("secret_token"),i=e(t);return n&&this.isPrivate()?o.modify(i,{query:{secret_token:n}}):i},parse:function(e,t){var n;return"string"==typeof this.baseUrl&&(n=o.parse(this.baseUrl).query.secret_token),n||(n=this.extractSecretToken(t)),n&&(t.secret_token=n),e(t)}}})}).call(t,n(1))},2068:function(e,t,n){e.exports=n.p+"assets/swf/flashAudio_debug-64e67d.swf"},2072:function(e,t,n){(function(t){function i(e,n){var i=s.reduce(n,function(n,i){var r=e.get(i);return s.isObject(r)?n[i]=t.extend(!0,{},r):e.attrExists(i)&&(n[i]=r),n},{}),r=s.reject(n,function(t){return e.attrExists(t)});this.rollback=function(){s.each(r,function(t){e.unset(t)}),e.set(i)}}var r,s=n(3),o=n(17),a=n(90);r=e.exports=new o({requirePrototype:a.prototype,createSnapshot:function(e){return new i(this,e)}})}).call(t,n(1))},2076:function(e,t,n){e.exports=n.p+"assets/images/notifications/good-248c30.png"},2077:function(e,t,n){e.exports=n.p+"assets/images/notifications/good@2x-2dda7c.png"},2080:function(e,t,n){e.exports=n.p+"assets/images/playback/repeat-track-active-559e56.png"},2081:function(e,t,n){e.exports=n.p+"assets/images/playback/repeat-track-active@2x-11b45f.png"},2082:function(e,t,n){e.exports=n.p+"assets/images/playback/repeat-track-ae8433.png"},2083:function(e,t,n){e.exports=n.p+"assets/images/playback/repeat-track@2x-ab37bb.png"}});